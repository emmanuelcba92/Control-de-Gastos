(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();var ym={exports:{}},mc={};var l0;function Ww(){if(l0)return mc;l0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:o}}return mc.Fragment=t,mc.jsx=e,mc.jsxs=e,mc}var c0;function $w(){return c0||(c0=1,ym.exports=Ww()),ym.exports}var I=$w(),_m={exports:{}},Ct={};var u0;function Jw(){if(u0)return Ct;u0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=E&&j[E]||j["@@iterator"],typeof j=="function"?j:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,k={};function z(j,J,ot){this.props=j,this.context=J,this.refs=k,this.updater=ot||M}z.prototype.isReactComponent={},z.prototype.setState=function(j,J){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,J,"setState")},z.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function Y(){}Y.prototype=z.prototype;function $(j,J,ot){this.props=j,this.context=J,this.refs=k,this.updater=ot||M}var at=$.prototype=new Y;at.constructor=$,V(at,z.prototype),at.isPureReactComponent=!0;var it=Array.isArray;function Q(){}var D={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function x(j,J,ot){var ct=ot.ref;return{$$typeof:n,type:j,key:J,ref:ct!==void 0?ct:null,props:ot}}function O(j,J){return x(j.type,J,j.props)}function N(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function P(j){var J={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ot){return J[ot]})}var C=/\/+/g;function ft(j,J){return typeof j=="object"&&j!==null&&j.key!=null?P(""+j.key):J.toString(36)}function gt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Q,Q):(j.status="pending",j.then(function(J){j.status==="pending"&&(j.status="fulfilled",j.value=J)},function(J){j.status==="pending"&&(j.status="rejected",j.reason=J)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function H(j,J,ot,ct,vt){var St=typeof j;(St==="undefined"||St==="boolean")&&(j=null);var Vt=!1;if(j===null)Vt=!0;else switch(St){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(j.$$typeof){case n:case t:Vt=!0;break;case y:return Vt=j._init,H(Vt(j._payload),J,ot,ct,vt)}}if(Vt)return vt=vt(j),Vt=ct===""?"."+ft(j,0):ct,it(vt)?(ot="",Vt!=null&&(ot=Vt.replace(C,"$&/")+"/"),H(vt,J,ot,"",function(Un){return Un})):vt!=null&&(N(vt)&&(vt=O(vt,ot+(vt.key==null||j&&j.key===vt.key?"":(""+vt.key).replace(C,"$&/")+"/")+Vt)),J.push(vt)),1;Vt=0;var _e=ct===""?".":ct+":";if(it(j))for(var oe=0;oe<j.length;oe++)ct=j[oe],St=_e+ft(ct,oe),Vt+=H(ct,J,ot,St,vt);else if(oe=S(j),typeof oe=="function")for(j=oe.call(j),oe=0;!(ct=j.next()).done;)ct=ct.value,St=_e+ft(ct,oe++),Vt+=H(ct,J,ot,St,vt);else if(St==="object"){if(typeof j.then=="function")return H(gt(j),J,ot,ct,vt);throw J=String(j),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function st(j,J,ot){if(j==null)return j;var ct=[],vt=0;return H(j,ct,"","",function(St){return J.call(ot,St,vt++)}),ct}function ut(j){if(j._status===-1){var J=j._result;J=J(),J.then(function(ot){(j._status===0||j._status===-1)&&(j._status=1,j._result=ot)},function(ot){(j._status===0||j._status===-1)&&(j._status=2,j._result=ot)}),j._status===-1&&(j._status=0,j._result=J)}if(j._status===1)return j._result.default;throw j._result}var _t=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Tt={map:st,forEach:function(j,J,ot){st(j,function(){J.apply(this,arguments)},ot)},count:function(j){var J=0;return st(j,function(){J++}),J},toArray:function(j){return st(j,function(J){return J})||[]},only:function(j){if(!N(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ct.Activity=_,Ct.Children=Tt,Ct.Component=z,Ct.Fragment=e,Ct.Profiler=a,Ct.PureComponent=$,Ct.StrictMode=i,Ct.Suspense=d,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(j){return D.H.useMemoCache(j)}},Ct.cache=function(j){return function(){return j.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(j,J,ot){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ct=V({},j.props),vt=j.key;if(J!=null)for(St in J.key!==void 0&&(vt=""+J.key),J)!R.call(J,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&J.ref===void 0||(ct[St]=J[St]);var St=arguments.length-2;if(St===1)ct.children=ot;else if(1<St){for(var Vt=Array(St),_e=0;_e<St;_e++)Vt[_e]=arguments[_e+2];ct.children=Vt}return x(j.type,vt,ct)},Ct.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},Ct.createElement=function(j,J,ot){var ct,vt={},St=null;if(J!=null)for(ct in J.key!==void 0&&(St=""+J.key),J)R.call(J,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(vt[ct]=J[ct]);var Vt=arguments.length-2;if(Vt===1)vt.children=ot;else if(1<Vt){for(var _e=Array(Vt),oe=0;oe<Vt;oe++)_e[oe]=arguments[oe+2];vt.children=_e}if(j&&j.defaultProps)for(ct in Vt=j.defaultProps,Vt)vt[ct]===void 0&&(vt[ct]=Vt[ct]);return x(j,St,vt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(j){return{$$typeof:h,render:j}},Ct.isValidElement=N,Ct.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:ut}},Ct.memo=function(j,J){return{$$typeof:m,type:j,compare:J===void 0?null:J}},Ct.startTransition=function(j){var J=D.T,ot={};D.T=ot;try{var ct=j(),vt=D.S;vt!==null&&vt(ot,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(Q,_t)}catch(St){_t(St)}finally{J!==null&&ot.types!==null&&(J.types=ot.types),D.T=J}},Ct.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ct.use=function(j){return D.H.use(j)},Ct.useActionState=function(j,J,ot){return D.H.useActionState(j,J,ot)},Ct.useCallback=function(j,J){return D.H.useCallback(j,J)},Ct.useContext=function(j){return D.H.useContext(j)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(j,J){return D.H.useDeferredValue(j,J)},Ct.useEffect=function(j,J){return D.H.useEffect(j,J)},Ct.useEffectEvent=function(j){return D.H.useEffectEvent(j)},Ct.useId=function(){return D.H.useId()},Ct.useImperativeHandle=function(j,J,ot){return D.H.useImperativeHandle(j,J,ot)},Ct.useInsertionEffect=function(j,J){return D.H.useInsertionEffect(j,J)},Ct.useLayoutEffect=function(j,J){return D.H.useLayoutEffect(j,J)},Ct.useMemo=function(j,J){return D.H.useMemo(j,J)},Ct.useOptimistic=function(j,J){return D.H.useOptimistic(j,J)},Ct.useReducer=function(j,J,ot){return D.H.useReducer(j,J,ot)},Ct.useRef=function(j){return D.H.useRef(j)},Ct.useState=function(j){return D.H.useState(j)},Ct.useSyncExternalStore=function(j,J,ot){return D.H.useSyncExternalStore(j,J,ot)},Ct.useTransition=function(){return D.H.useTransition()},Ct.version="19.2.3",Ct}var h0;function Ip(){return h0||(h0=1,_m.exports=Jw()),_m.exports}var pt=Ip(),vm={exports:{}},pc={},bm={exports:{}},Em={};var f0;function Zw(){return f0||(f0=1,(function(n){function t(H,st){var ut=H.length;H.push(st);t:for(;0<ut;){var _t=ut-1>>>1,Tt=H[_t];if(0<a(Tt,st))H[_t]=st,H[ut]=Tt,ut=_t;else break t}}function e(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var st=H[0],ut=H.pop();if(ut!==st){H[0]=ut;t:for(var _t=0,Tt=H.length,j=Tt>>>1;_t<j;){var J=2*(_t+1)-1,ot=H[J],ct=J+1,vt=H[ct];if(0>a(ot,ut))ct<Tt&&0>a(vt,ot)?(H[_t]=vt,H[ct]=ut,_t=ct):(H[_t]=ot,H[J]=ut,_t=J);else if(ct<Tt&&0>a(vt,ut))H[_t]=vt,H[ct]=ut,_t=ct;else break t}}return st}function a(H,st){var ut=H.sortIndex-st.sortIndex;return ut!==0?ut:H.id-st.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var d=[],m=[],y=1,_=null,E=3,S=!1,M=!1,V=!1,k=!1,z=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function at(H){for(var st=e(m);st!==null;){if(st.callback===null)i(m);else if(st.startTime<=H)i(m),st.sortIndex=st.expirationTime,t(d,st);else break;st=e(m)}}function it(H){if(V=!1,at(H),!M)if(e(d)!==null)M=!0,Q||(Q=!0,P());else{var st=e(m);st!==null&&gt(it,st.startTime-H)}}var Q=!1,D=-1,R=5,x=-1;function O(){return k?!0:!(n.unstable_now()-x<R)}function N(){if(k=!1,Q){var H=n.unstable_now();x=H;var st=!0;try{t:{M=!1,V&&(V=!1,Y(D),D=-1),S=!0;var ut=E;try{e:{for(at(H),_=e(d);_!==null&&!(_.expirationTime>H&&O());){var _t=_.callback;if(typeof _t=="function"){_.callback=null,E=_.priorityLevel;var Tt=_t(_.expirationTime<=H);if(H=n.unstable_now(),typeof Tt=="function"){_.callback=Tt,at(H),st=!0;break e}_===e(d)&&i(d),at(H)}else i(d);_=e(d)}if(_!==null)st=!0;else{var j=e(m);j!==null&&gt(it,j.startTime-H),st=!1}}break t}finally{_=null,E=ut,S=!1}st=void 0}}finally{st?P():Q=!1}}}var P;if(typeof $=="function")P=function(){$(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ft=C.port2;C.port1.onmessage=N,P=function(){ft.postMessage(null)}}else P=function(){z(N,0)};function gt(H,st){D=z(function(){H(n.unstable_now())},st)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(H){switch(E){case 1:case 2:case 3:var st=3;break;default:st=E}var ut=E;E=st;try{return H()}finally{E=ut}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(H,st){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=E;E=H;try{return st()}finally{E=ut}},n.unstable_scheduleCallback=function(H,st,ut){var _t=n.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?_t+ut:_t):ut=_t,H){case 1:var Tt=-1;break;case 2:Tt=250;break;case 5:Tt=1073741823;break;case 4:Tt=1e4;break;default:Tt=5e3}return Tt=ut+Tt,H={id:y++,callback:st,priorityLevel:H,startTime:ut,expirationTime:Tt,sortIndex:-1},ut>_t?(H.sortIndex=ut,t(m,H),e(d)===null&&H===e(m)&&(V?(Y(D),D=-1):V=!0,gt(it,ut-_t))):(H.sortIndex=Tt,t(d,H),M||S||(M=!0,Q||(Q=!0,P()))),H},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(H){var st=E;return function(){var ut=E;E=st;try{return H.apply(this,arguments)}finally{E=ut}}}})(Em)),Em}var d0;function tR(){return d0||(d0=1,bm.exports=Zw()),bm.exports}var Tm={exports:{}},an={};var g0;function eR(){if(g0)return an;g0=1;var n=Ip();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:d,containerInfo:m,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,an.createPortal=function(d,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(d,m,null,y)},an.flushSync=function(d){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=m,i.p=y,i.d.f()}},an.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},an.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},an.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:S}):y==="script"&&i.d.X(d,{crossOrigin:_,integrity:E,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},an.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},an.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin);i.d.L(d,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},an.preloadModule=function(d,m){if(typeof d=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},an.requestFormReset=function(d){i.d.r(d)},an.unstable_batchedUpdates=function(d,m){return d(m)},an.useFormState=function(d,m,y){return c.H.useFormState(d,m,y)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.2.3",an}var m0;function nR(){if(m0)return Tm.exports;m0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Tm.exports=eR(),Tm.exports}var p0;function iR(){if(p0)return pc;p0=1;var n=tR(),t=Ip(),e=nR();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(i(188))}function m(s){var r=s.alternate;if(!r){if(r=o(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,u=r;;){var g=l.return;if(g===null)break;var p=g.alternate;if(p===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===l)return d(g),s;if(p===u)return d(g),r;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=p;else{for(var b=!1,A=g.child;A;){if(A===l){b=!0,l=g,u=p;break}if(A===u){b=!0,u=g,l=p;break}A=A.sibling}if(!b){for(A=p.child;A;){if(A===l){b=!0,l=p,u=g;break}if(A===u){b=!0,u=p,l=g;break}A=A.sibling}if(!b)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),$=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(s){return s===null||typeof s!="object"?null:(s=N&&s[N]||s["@@iterator"],typeof s=="function"?s:null)}var C=Symbol.for("react.client.reference");function ft(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===C?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case V:return"Fragment";case z:return"Profiler";case k:return"StrictMode";case it:return"Suspense";case Q:return"SuspenseList";case x:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case M:return"Portal";case $:return s.displayName||"Context";case Y:return(s._context.displayName||"Context")+".Consumer";case at:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return r=s.displayName||null,r!==null?r:ft(s.type)||"Memo";case R:r=s._payload,s=s._init;try{return ft(s(r))}catch{}}return null}var gt=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},_t=[],Tt=-1;function j(s){return{current:s}}function J(s){0>Tt||(s.current=_t[Tt],_t[Tt]=null,Tt--)}function ot(s,r){Tt++,_t[Tt]=s.current,s.current=r}var ct=j(null),vt=j(null),St=j(null),Vt=j(null);function _e(s,r){switch(ot(St,r),ot(vt,s),ot(ct,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Mb(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Mb(r),s=Ob(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}J(ct),ot(ct,s)}function oe(){J(ct),J(vt),J(St)}function Un(s){s.memoizedState!==null&&ot(Vt,s);var r=ct.current,l=Ob(r,s.type);r!==l&&(ot(vt,s),ot(ct,l))}function ja(s){vt.current===s&&(J(ct),J(vt)),Vt.current===s&&(J(Vt),hc._currentValue=ut)}var Ua,Ba;function Si(s){if(Ua===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Ua=r&&r[1]||"",Ba=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ua+s+Ba}var hl=!1;function Ur(s,r){if(!s||hl)return"";hl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(W){var K=W}Reflect.construct(s,[],nt)}else{try{nt.call()}catch(W){K=W}s.call(nt.prototype)}}else{try{throw Error()}catch(W){K=W}(nt=s())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],A=p[1];if(b&&A){var L=b.split(`
`),G=A.split(`
`);for(g=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;g<G.length&&!G[g].includes("DetermineComponentFrameRoot");)g++;if(u===L.length||g===G.length)for(u=L.length-1,g=G.length-1;1<=u&&0<=g&&L[u]!==G[g];)g--;for(;1<=u&&0<=g;u--,g--)if(L[u]!==G[g]){if(u!==1||g!==1)do if(u--,g--,0>g||L[u]!==G[g]){var Z=`
`+L[u].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=u&&0<=g);break}}}finally{hl=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Si(l):""}function fl(s,r){switch(s.tag){case 26:case 27:case 5:return Si(s.type);case 16:return Si("Lazy");case 13:return s.child!==r&&r!==null?Si("Suspense Fallback"):Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return Ur(s.type,!1);case 11:return Ur(s.type.render,!1);case 1:return Ur(s.type,!0);case 31:return Si("Activity");default:return""}}function dl(s){try{var r="",l=null;do r+=fl(s,l),l=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var xe=Object.prototype.hasOwnProperty,je=n.unstable_scheduleCallback,Ps=n.unstable_cancelCallback,vd=n.unstable_shouldYield,fu=n.unstable_requestPaint,dn=n.unstable_now,Br=n.unstable_getCurrentPriorityLevel,gl=n.unstable_ImmediatePriority,ml=n.unstable_UserBlockingPriority,Ls=n.unstable_NormalPriority,bd=n.unstable_LowPriority,du=n.unstable_IdlePriority,gu=n.log,mu=n.unstable_setDisableYieldValue,ri=null,Xe=null;function Bn(s){if(typeof gu=="function"&&mu(s),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(ri,s)}catch{}}var ve=Math.clz32?Math.clz32:yu,pu=Math.log,Fa=Math.LN2;function yu(s){return s>>>=0,s===0?32:31-(pu(s)/Fa|0)|0}var Ai=256,Fr=262144,we=4194304;function xi(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function wi(s,r,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,p=s.suspendedLanes,b=s.pingedLanes;s=s.warmLanes;var A=u&134217727;return A!==0?(u=A&~p,u!==0?g=xi(u):(b&=A,b!==0?g=xi(b):l||(l=A&~s,l!==0&&(g=xi(l))))):(A=u&~p,A!==0?g=xi(A):b!==0?g=xi(b):l||(l=u&~s,l!==0&&(g=xi(l)))),g===0?0:r!==0&&r!==g&&(r&p)===0&&(p=g&-g,l=r&-r,p>=l||p===32&&(l&4194048)!==0)?r:g}function ai(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Ed(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _u(){var s=we;return we<<=1,(we&62914560)===0&&(we=4194304),s}function Ri(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function Hr(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Td(s,r,l,u,g,p){var b=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var A=s.entanglements,L=s.expirationTimes,G=s.hiddenUpdates;for(l=b&~l;0<l;){var Z=31-ve(l),nt=1<<Z;A[Z]=0,L[Z]=-1;var K=G[Z];if(K!==null)for(G[Z]=null,Z=0;Z<K.length;Z++){var W=K[Z];W!==null&&(W.lane&=-536870913)}l&=~nt}u!==0&&qr(s,u,0),p!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=p&~(b&~r))}function qr(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-ve(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function pl(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var u=31-ve(l),g=1<<u;g&r|s[u]&r&&(s[u]|=r),l&=~g}}function yl(s,r){var l=r&-r;return l=(l&42)!==0?1:Gr(l),(l&(s.suspendedLanes|r))!==0?0:l}function Gr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function is(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function vu(){var s=st.p;return s!==0?s:(s=window.event,s===void 0?32:e0(s.type))}function oi(s,r){var l=st.p;try{return st.p=s,r()}finally{st.p=l}}var li=Math.random().toString(36).slice(2),Re="__reactFiber$"+li,Ge="__reactProps$"+li,Ci="__reactContainer$"+li,Ha="__reactEvents$"+li,Sd="__reactListeners$"+li,bu="__reactHandles$"+li,Eu="__reactResources$"+li,Ii="__reactMarker$"+li;function qa(s){delete s[Re],delete s[Ge],delete s[Ha],delete s[Sd],delete s[bu]}function Di(s){var r=s[Re];if(r)return r;for(var l=s.parentNode;l;){if(r=l[Ci]||l[Re]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=jb(s);s!==null;){if(l=s[Re])return l;s=jb(s)}return r}s=l,l=s.parentNode}return null}function Fn(s){if(s=s[Re]||s[Ci]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Cn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Mi(s){var r=s[Eu];return r||(r=s[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ce(s){s[Ii]=!0}var _l=new Set,vl={};function Oi(s,r){Ni(s,r),Ni(s+"Capture",r)}function Ni(s,r){for(vl[s]=r,s=0;s<r.length;s++)_l.add(r[s])}var bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},Tl={};function Tu(s){return xe.call(Tl,s)?!0:xe.call(El,s)?!1:bl.test(s)?Tl[s]=!0:(El[s]=!0,!1)}function Ga(s,r,l){if(Tu(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function In(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function Ie(s,r,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+u)}}function Ye(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function zs(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Sl(s,r,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,p=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return g.call(this)},set:function(b){l=""+b,p.call(this,b)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Wt(s){if(!s._valueTracker){var r=zs(s)?"checked":"value";s._valueTracker=Sl(s,r,""+s[r])}}function Yr(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),u="";return s&&(u=zs(s)?s.checked?"true":"false":s.value),s=u,s!==l?(r.setValue(s),!0):!1}function ki(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Kr=/[\n"\\]/g;function pn(s){return s.replace(Kr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ya(s,r,l,u,g,p,b,A){s.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.type=b:s.removeAttribute("type"),r!=null?b==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Ye(r)):s.value!==""+Ye(r)&&(s.value=""+Ye(r)):b!=="submit"&&b!=="reset"||s.removeAttribute("value"),r!=null?Al(s,b,Ye(r)):l!=null?Al(s,b,Ye(l)):u!=null&&s.removeAttribute("value"),g==null&&p!=null&&(s.defaultChecked=!!p),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+Ye(A):s.removeAttribute("name")}function Su(s,r,l,u,g,p,b,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),r!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Wt(s);return}l=l!=null?""+Ye(l):"",r=r!=null?""+Ye(r):l,A||r===s.value||(s.value=r),s.defaultValue=r}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=A?s.checked:!!u,s.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.name=b),Wt(s)}function Al(s,r,l){r==="number"&&ki(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function js(s,r,l,u){if(s=s.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=r.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Ye(l),r=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}r!==null||s[g].disabled||(r=s[g])}r!==null&&(r.selected=!0)}}function Au(s,r,l){if(r!=null&&(r=""+Ye(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+Ye(l):""}function Us(s,r,l,u){if(r==null){if(u!=null){if(l!=null)throw Error(i(92));if(gt(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),r=l}l=Ye(r),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),Wt(s)}function yn(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xl(s,r,l){var u=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,l):typeof l!="number"||l===0||xu.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function wl(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in r)u=r[g],r.hasOwnProperty(g)&&l[g]!==u&&xl(s,g,u)}else for(var p in r)r.hasOwnProperty(p)&&xl(s,p,r[p])}function Ka(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qa(s){return Bs.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ci(){}var Rl=null;function Hn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Fs=null,Vi=null;function Qr(s){var r=Fn(s);if(r&&(s=r.stateNode)){var l=s[Ge]||null;t:switch(s=r.stateNode,r.type){case"input":if(Ya(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+pn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var u=l[r];if(u!==s&&u.form===s.form){var g=u[Ge]||null;if(!g)throw Error(i(90));Ya(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)u=l[r],u.form===s.form&&Yr(u)}break t;case"textarea":Au(s,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&js(s,!!l.multiple,r,!1)}}}var Xa=!1;function Hs(s,r,l){if(Xa)return s(r,l);Xa=!0;try{var u=s(r);return u}finally{if(Xa=!1,(Fs!==null||Vi!==null)&&(vh(),Fs&&(r=Fs,s=Vi,Vi=Fs=null,Qr(r),s)))for(r=0;r<s.length;r++)Qr(s[r])}}function ui(s,r){var l=s.stateNode;if(l===null)return null;var u=l[Ge]||null;if(u===null)return null;l=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xr=!1;if(qn)try{var te={};Object.defineProperty(te,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{Xr=!1}var Pi=null,Cl=null,Wr=null;function Il(){if(Wr)return Wr;var s,r=Cl,l=r.length,u,g="value"in Pi?Pi.value:Pi.textContent,p=g.length;for(s=0;s<l&&r[s]===g[s];s++);var b=l-s;for(u=1;u<=b&&r[l-u]===g[p-u];u++);return Wr=g.slice(s,1<u?1-u:void 0)}function $r(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function ss(){return!0}function hi(){return!1}function We(s){function r(l,u,g,p,b){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(l=s[A],this[A]=l?l(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ss:hi,this.isPropagationStopped=hi,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),r}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=We(rs),qs=_({},rs,{view:0,detail:0}),Dl=We(qs),Gs,Wa,zi,$a=_({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ys,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==zi&&(zi&&s.type==="mousemove"?(Gs=s.screenX-zi.screenX,Wa=s.screenY-zi.screenY):Wa=Gs=0,zi=s),Gs)},movementY:function(s){return"movementY"in s?s.movementY:Wa}}),Ml=We($a),Jr=_({},$a,{dataTransfer:0}),Ru=We(Jr),Cu=_({},qs,{relatedTarget:0}),Zr=We(Cu),Ol=_({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=We(Ol),Ja=_({},rs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Du=We(Ja),Mu=_({},rs,{data:0}),ji=We(Mu),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=ku[s])?!!r[s]:!1}function Ys(){return Vu}var gn=_({},qs,{key:function(s){if(s.key){var r=Ou[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=$r(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Nu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ys,charCode:function(s){return s.type==="keypress"?$r(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?$r(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Pu=We(gn),Lu=_({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),as=We(Lu),f=_({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ys}),v=We(f),T=_({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=We(T),F=_({},$a,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X=We(F),lt=_({},rs,{newState:0,oldState:0}),Dt=We(lt),be=[9,13,27,32],Kt=qn&&"CompositionEvent"in window,de=null;qn&&"documentMode"in document&&(de=document.documentMode);var Gn=qn&&"TextEvent"in window&&!de,Ui=qn&&(!Kt||de&&8<de&&11>=de),fi=" ",di=!1;function ta(s,r){switch(s){case"keyup":return be.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Za(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var to=!1;function b1(s,r){switch(s){case"compositionend":return Za(r);case"keypress":return r.which!==32?null:(di=!0,fi);case"textInput":return s=r.data,s===fi&&di?null:s;default:return null}}function E1(s,r){if(to)return s==="compositionend"||!Kt&&ta(s,r)?(s=Il(),Wr=Cl=Pi=null,to=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ui&&r.locale!=="ko"?null:r.data;default:return null}}var T1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fy(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!T1[s.type]:r==="textarea"}function Hy(s,r,l,u){Fs?Vi?Vi.push(u):Vi=[u]:Fs=u,r=wh(r,"onChange"),0<r.length&&(l=new Li("onChange","change",null,l,u),s.push({event:l,listeners:r}))}var Nl=null,kl=null;function S1(s){xb(s,0)}function zu(s){var r=Cn(s);if(Yr(r))return s}function qy(s,r){if(s==="change")return r}var Gy=!1;if(qn){var Ad;if(qn){var xd="oninput"in document;if(!xd){var Yy=document.createElement("div");Yy.setAttribute("oninput","return;"),xd=typeof Yy.oninput=="function"}Ad=xd}else Ad=!1;Gy=Ad&&(!document.documentMode||9<document.documentMode)}function Ky(){Nl&&(Nl.detachEvent("onpropertychange",Qy),kl=Nl=null)}function Qy(s){if(s.propertyName==="value"&&zu(kl)){var r=[];Hy(r,kl,s,Hn(s)),Hs(S1,r)}}function A1(s,r,l){s==="focusin"?(Ky(),Nl=r,kl=l,Nl.attachEvent("onpropertychange",Qy)):s==="focusout"&&Ky()}function x1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return zu(kl)}function w1(s,r){if(s==="click")return zu(r)}function R1(s,r){if(s==="input"||s==="change")return zu(r)}function C1(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Dn=typeof Object.is=="function"?Object.is:C1;function Vl(s,r){if(Dn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),u=Object.keys(r);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!xe.call(r,g)||!Dn(s[g],r[g]))return!1}return!0}function Xy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Wy(s,r){var l=Xy(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=r&&u>=r)return{node:l,offset:r-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Xy(l)}}function $y(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?$y(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Jy(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=ki(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=ki(s.document)}return r}function wd(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var I1=qn&&"documentMode"in document&&11>=document.documentMode,eo=null,Rd=null,Pl=null,Cd=!1;function Zy(s,r,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Cd||eo==null||eo!==ki(u)||(u=eo,"selectionStart"in u&&wd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Pl&&Vl(Pl,u)||(Pl=u,u=wh(Rd,"onSelect"),0<u.length&&(r=new Li("onSelect","select",null,r,l),s.push({event:r,listeners:u}),r.target=eo)))}function ea(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var no={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Id={},t_={};qn&&(t_=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function na(s){if(Id[s])return Id[s];if(!no[s])return s;var r=no[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in t_)return Id[s]=r[l];return s}var e_=na("animationend"),n_=na("animationiteration"),i_=na("animationstart"),D1=na("transitionrun"),M1=na("transitionstart"),O1=na("transitioncancel"),s_=na("transitionend"),r_=new Map,Dd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dd.push("scrollEnd");function gi(s,r){r_.set(s,r),Oi(r,[s])}var ju=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Yn=[],io=0,Md=0;function Uu(){for(var s=io,r=Md=io=0;r<s;){var l=Yn[r];Yn[r++]=null;var u=Yn[r];Yn[r++]=null;var g=Yn[r];Yn[r++]=null;var p=Yn[r];if(Yn[r++]=null,u!==null&&g!==null){var b=u.pending;b===null?g.next=g:(g.next=b.next,b.next=g),u.pending=g}p!==0&&a_(l,g,p)}}function Bu(s,r,l,u){Yn[io++]=s,Yn[io++]=r,Yn[io++]=l,Yn[io++]=u,Md|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Od(s,r,l,u){return Bu(s,r,l,u),Fu(s)}function ia(s,r){return Bu(s,null,null,r),Fu(s)}function a_(s,r,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(g=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,g&&r!==null&&(g=31-ve(l),s=p.hiddenUpdates,u=s[g],u===null?s[g]=[r]:u.push(r),r.lane=l|536870912),p):null}function Fu(s){if(50<sc)throw sc=0,Bg=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var so={};function N1(s,r,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(s,r,l,u){return new N1(s,r,l,u)}function Nd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function os(s,r){var l=s.alternate;return l===null?(l=Mn(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function o_(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Hu(s,r,l,u,g,p){var b=0;if(u=s,typeof s=="function")Nd(s)&&(b=1);else if(typeof s=="string")b=zw(s,l,ct.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case x:return s=Mn(31,l,r,g),s.elementType=x,s.lanes=p,s;case V:return sa(l.children,g,p,r);case k:b=8,g|=24;break;case z:return s=Mn(12,l,r,g|2),s.elementType=z,s.lanes=p,s;case it:return s=Mn(13,l,r,g),s.elementType=it,s.lanes=p,s;case Q:return s=Mn(19,l,r,g),s.elementType=Q,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case $:b=10;break t;case Y:b=9;break t;case at:b=11;break t;case D:b=14;break t;case R:b=16,u=null;break t}b=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Mn(b,l,r,g),r.elementType=s,r.type=u,r.lanes=p,r}function sa(s,r,l,u){return s=Mn(7,s,u,r),s.lanes=l,s}function kd(s,r,l){return s=Mn(6,s,null,r),s.lanes=l,s}function l_(s){var r=Mn(18,null,null,0);return r.stateNode=s,r}function Vd(s,r,l){return r=Mn(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var c_=new WeakMap;function Kn(s,r){if(typeof s=="object"&&s!==null){var l=c_.get(s);return l!==void 0?l:(r={value:s,source:r,stack:dl(r)},c_.set(s,r),r)}return{value:s,source:r,stack:dl(r)}}var ro=[],ao=0,qu=null,Ll=0,Qn=[],Xn=0,Ks=null,Bi=1,Fi="";function ls(s,r){ro[ao++]=Ll,ro[ao++]=qu,qu=s,Ll=r}function u_(s,r,l){Qn[Xn++]=Bi,Qn[Xn++]=Fi,Qn[Xn++]=Ks,Ks=s;var u=Bi;s=Fi;var g=32-ve(u)-1;u&=~(1<<g),l+=1;var p=32-ve(r)+g;if(30<p){var b=g-g%5;p=(u&(1<<b)-1).toString(32),u>>=b,g-=b,Bi=1<<32-ve(r)+g|l<<g|u,Fi=p+s}else Bi=1<<p|l<<g|u,Fi=s}function Pd(s){s.return!==null&&(ls(s,1),u_(s,1,0))}function Ld(s){for(;s===qu;)qu=ro[--ao],ro[ao]=null,Ll=ro[--ao],ro[ao]=null;for(;s===Ks;)Ks=Qn[--Xn],Qn[Xn]=null,Fi=Qn[--Xn],Qn[Xn]=null,Bi=Qn[--Xn],Qn[Xn]=null}function h_(s,r){Qn[Xn++]=Bi,Qn[Xn++]=Fi,Qn[Xn++]=Ks,Bi=r.id,Fi=r.overflow,Ks=s}var $e=null,ce=null,Bt=!1,Qs=null,Wn=!1,zd=Error(i(519));function Xs(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(Kn(r,s)),zd}function f_(s){var r=s.stateNode,l=s.type,u=s.memoizedProps;switch(r[Re]=s,r[Ge]=u,l){case"dialog":kt("cancel",r),kt("close",r);break;case"iframe":case"object":case"embed":kt("load",r);break;case"video":case"audio":for(l=0;l<ac.length;l++)kt(ac[l],r);break;case"source":kt("error",r);break;case"img":case"image":case"link":kt("error",r),kt("load",r);break;case"details":kt("toggle",r);break;case"input":kt("invalid",r),Su(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":kt("invalid",r);break;case"textarea":kt("invalid",r),Us(r,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||u.suppressHydrationWarning===!0||Ib(r.textContent,l)?(u.popover!=null&&(kt("beforetoggle",r),kt("toggle",r)),u.onScroll!=null&&kt("scroll",r),u.onScrollEnd!=null&&kt("scrollend",r),u.onClick!=null&&(r.onclick=ci),r=!0):r=!1,r||Xs(s,!0)}function d_(s){for($e=s.return;$e;)switch($e.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:$e=$e.return}}function oo(s){if(s!==$e)return!1;if(!Bt)return d_(s),Bt=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||nm(s.type,s.memoizedProps)),l=!l),l&&ce&&Xs(s),d_(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ce=zb(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ce=zb(s)}else r===27?(r=ce,cr(s.type)?(s=om,om=null,ce=s):ce=r):ce=$e?Jn(s.stateNode.nextSibling):null;return!0}function ra(){ce=$e=null,Bt=!1}function jd(){var s=Qs;return s!==null&&(En===null?En=s:En.push.apply(En,s),Qs=null),s}function zl(s){Qs===null?Qs=[s]:Qs.push(s)}var Ud=j(null),aa=null,cs=null;function Ws(s,r,l){ot(Ud,r._currentValue),r._currentValue=l}function us(s){s._currentValue=Ud.current,J(Ud)}function Bd(s,r,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===l)break;s=s.return}}function Fd(s,r,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var p=g.dependencies;if(p!==null){var b=g.child;p=p.firstContext;t:for(;p!==null;){var A=p;p=g;for(var L=0;L<r.length;L++)if(A.context===r[L]){p.lanes|=l,A=p.alternate,A!==null&&(A.lanes|=l),Bd(p.return,l,s),u||(b=null);break t}p=A.next}}else if(g.tag===18){if(b=g.return,b===null)throw Error(i(341));b.lanes|=l,p=b.alternate,p!==null&&(p.lanes|=l),Bd(b,l,s),b=null}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===s){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}}function lo(s,r,l,u){s=null;for(var g=r,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var b=g.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var A=g.type;Dn(g.pendingProps.value,b.value)||(s!==null?s.push(A):s=[A])}}else if(g===Vt.current){if(b=g.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(hc):s=[hc])}g=g.return}s!==null&&Fd(r,s,l,u),r.flags|=262144}function Gu(s){for(s=s.firstContext;s!==null;){if(!Dn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function oa(s){aa=s,cs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Je(s){return g_(aa,s)}function Yu(s,r){return aa===null&&oa(s),g_(s,r)}function g_(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},cs===null){if(s===null)throw Error(i(308));cs=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else cs=cs.next=r;return l}var k1=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},V1=n.unstable_scheduleCallback,P1=n.unstable_NormalPriority,De={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hd(){return{controller:new k1,data:new Map,refCount:0}}function jl(s){s.refCount--,s.refCount===0&&V1(P1,function(){s.controller.abort()})}var Ul=null,qd=0,co=0,uo=null;function L1(s,r){if(Ul===null){var l=Ul=[];qd=0,co=Kg(),uo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return qd++,r.then(m_,m_),r}function m_(){if(--qd===0&&Ul!==null){uo!==null&&(uo.status="fulfilled");var s=Ul;Ul=null,co=0,uo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function z1(s,r){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var p_=H.S;H.S=function(s,r){Zv=dn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&L1(s,r),p_!==null&&p_(s,r)};var la=j(null);function Gd(){var s=la.current;return s!==null?s:se.pooledCache}function Ku(s,r){r===null?ot(la,la.current):ot(la,r.pool)}function y_(){var s=Gd();return s===null?null:{parent:De._currentValue,pool:s}}var ho=Error(i(460)),Yd=Error(i(474)),Qu=Error(i(542)),Xu={then:function(){}};function __(s){return s=s.status,s==="fulfilled"||s==="rejected"}function v_(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(ci,ci),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,E_(s),s;default:if(typeof r.status=="string")r.then(ci,ci);else{if(s=se,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=u}},function(u){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,E_(s),s}throw ua=r,ho}}function ca(s){try{var r=s._init;return r(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ua=l,ho):l}}var ua=null;function b_(){if(ua===null)throw Error(i(459));var s=ua;return ua=null,s}function E_(s){if(s===ho||s===Qu)throw Error(i(483))}var fo=null,Bl=0;function Wu(s){var r=Bl;return Bl+=1,fo===null&&(fo=[]),v_(fo,s,r)}function Fl(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function $u(s,r){throw r.$$typeof===E?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function T_(s){function r(B,U){if(s){var q=B.deletions;q===null?(B.deletions=[U],B.flags|=16):q.push(U)}}function l(B,U){if(!s)return null;for(;U!==null;)r(B,U),U=U.sibling;return null}function u(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function g(B,U){return B=os(B,U),B.index=0,B.sibling=null,B}function p(B,U,q){return B.index=q,s?(q=B.alternate,q!==null?(q=q.index,q<U?(B.flags|=67108866,U):q):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function b(B){return s&&B.alternate===null&&(B.flags|=67108866),B}function A(B,U,q,tt){return U===null||U.tag!==6?(U=kd(q,B.mode,tt),U.return=B,U):(U=g(U,q),U.return=B,U)}function L(B,U,q,tt){var bt=q.type;return bt===V?Z(B,U,q.props.children,tt,q.key):U!==null&&(U.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===R&&ca(bt)===U.type)?(U=g(U,q.props),Fl(U,q),U.return=B,U):(U=Hu(q.type,q.key,q.props,null,B.mode,tt),Fl(U,q),U.return=B,U)}function G(B,U,q,tt){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=Vd(q,B.mode,tt),U.return=B,U):(U=g(U,q.children||[]),U.return=B,U)}function Z(B,U,q,tt,bt){return U===null||U.tag!==7?(U=sa(q,B.mode,tt,bt),U.return=B,U):(U=g(U,q),U.return=B,U)}function nt(B,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=kd(""+U,B.mode,q),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return q=Hu(U.type,U.key,U.props,null,B.mode,q),Fl(q,U),q.return=B,q;case M:return U=Vd(U,B.mode,q),U.return=B,U;case R:return U=ca(U),nt(B,U,q)}if(gt(U)||P(U))return U=sa(U,B.mode,q,null),U.return=B,U;if(typeof U.then=="function")return nt(B,Wu(U),q);if(U.$$typeof===$)return nt(B,Yu(B,U),q);$u(B,U)}return null}function K(B,U,q,tt){var bt=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return bt!==null?null:A(B,U,""+q,tt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===bt?L(B,U,q,tt):null;case M:return q.key===bt?G(B,U,q,tt):null;case R:return q=ca(q),K(B,U,q,tt)}if(gt(q)||P(q))return bt!==null?null:Z(B,U,q,tt,null);if(typeof q.then=="function")return K(B,U,Wu(q),tt);if(q.$$typeof===$)return K(B,U,Yu(B,q),tt);$u(B,q)}return null}function W(B,U,q,tt,bt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return B=B.get(q)||null,A(U,B,""+tt,bt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case S:return B=B.get(tt.key===null?q:tt.key)||null,L(U,B,tt,bt);case M:return B=B.get(tt.key===null?q:tt.key)||null,G(U,B,tt,bt);case R:return tt=ca(tt),W(B,U,q,tt,bt)}if(gt(tt)||P(tt))return B=B.get(q)||null,Z(U,B,tt,bt,null);if(typeof tt.then=="function")return W(B,U,q,Wu(tt),bt);if(tt.$$typeof===$)return W(B,U,q,Yu(U,tt),bt);$u(U,tt)}return null}function mt(B,U,q,tt){for(var bt=null,Gt=null,yt=U,Ot=U=0,Lt=null;yt!==null&&Ot<q.length;Ot++){yt.index>Ot?(Lt=yt,yt=null):Lt=yt.sibling;var Yt=K(B,yt,q[Ot],tt);if(Yt===null){yt===null&&(yt=Lt);break}s&&yt&&Yt.alternate===null&&r(B,yt),U=p(Yt,U,Ot),Gt===null?bt=Yt:Gt.sibling=Yt,Gt=Yt,yt=Lt}if(Ot===q.length)return l(B,yt),Bt&&ls(B,Ot),bt;if(yt===null){for(;Ot<q.length;Ot++)yt=nt(B,q[Ot],tt),yt!==null&&(U=p(yt,U,Ot),Gt===null?bt=yt:Gt.sibling=yt,Gt=yt);return Bt&&ls(B,Ot),bt}for(yt=u(yt);Ot<q.length;Ot++)Lt=W(yt,B,Ot,q[Ot],tt),Lt!==null&&(s&&Lt.alternate!==null&&yt.delete(Lt.key===null?Ot:Lt.key),U=p(Lt,U,Ot),Gt===null?bt=Lt:Gt.sibling=Lt,Gt=Lt);return s&&yt.forEach(function(gr){return r(B,gr)}),Bt&&ls(B,Ot),bt}function At(B,U,q,tt){if(q==null)throw Error(i(151));for(var bt=null,Gt=null,yt=U,Ot=U=0,Lt=null,Yt=q.next();yt!==null&&!Yt.done;Ot++,Yt=q.next()){yt.index>Ot?(Lt=yt,yt=null):Lt=yt.sibling;var gr=K(B,yt,Yt.value,tt);if(gr===null){yt===null&&(yt=Lt);break}s&&yt&&gr.alternate===null&&r(B,yt),U=p(gr,U,Ot),Gt===null?bt=gr:Gt.sibling=gr,Gt=gr,yt=Lt}if(Yt.done)return l(B,yt),Bt&&ls(B,Ot),bt;if(yt===null){for(;!Yt.done;Ot++,Yt=q.next())Yt=nt(B,Yt.value,tt),Yt!==null&&(U=p(Yt,U,Ot),Gt===null?bt=Yt:Gt.sibling=Yt,Gt=Yt);return Bt&&ls(B,Ot),bt}for(yt=u(yt);!Yt.done;Ot++,Yt=q.next())Yt=W(yt,B,Ot,Yt.value,tt),Yt!==null&&(s&&Yt.alternate!==null&&yt.delete(Yt.key===null?Ot:Yt.key),U=p(Yt,U,Ot),Gt===null?bt=Yt:Gt.sibling=Yt,Gt=Yt);return s&&yt.forEach(function(Xw){return r(B,Xw)}),Bt&&ls(B,Ot),bt}function ie(B,U,q,tt){if(typeof q=="object"&&q!==null&&q.type===V&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:t:{for(var bt=q.key;U!==null;){if(U.key===bt){if(bt=q.type,bt===V){if(U.tag===7){l(B,U.sibling),tt=g(U,q.props.children),tt.return=B,B=tt;break t}}else if(U.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===R&&ca(bt)===U.type){l(B,U.sibling),tt=g(U,q.props),Fl(tt,q),tt.return=B,B=tt;break t}l(B,U);break}else r(B,U);U=U.sibling}q.type===V?(tt=sa(q.props.children,B.mode,tt,q.key),tt.return=B,B=tt):(tt=Hu(q.type,q.key,q.props,null,B.mode,tt),Fl(tt,q),tt.return=B,B=tt)}return b(B);case M:t:{for(bt=q.key;U!==null;){if(U.key===bt)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){l(B,U.sibling),tt=g(U,q.children||[]),tt.return=B,B=tt;break t}else{l(B,U);break}else r(B,U);U=U.sibling}tt=Vd(q,B.mode,tt),tt.return=B,B=tt}return b(B);case R:return q=ca(q),ie(B,U,q,tt)}if(gt(q))return mt(B,U,q,tt);if(P(q)){if(bt=P(q),typeof bt!="function")throw Error(i(150));return q=bt.call(q),At(B,U,q,tt)}if(typeof q.then=="function")return ie(B,U,Wu(q),tt);if(q.$$typeof===$)return ie(B,U,Yu(B,q),tt);$u(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(l(B,U.sibling),tt=g(U,q),tt.return=B,B=tt):(l(B,U),tt=kd(q,B.mode,tt),tt.return=B,B=tt),b(B)):l(B,U)}return function(B,U,q,tt){try{Bl=0;var bt=ie(B,U,q,tt);return fo=null,bt}catch(yt){if(yt===ho||yt===Qu)throw yt;var Gt=Mn(29,yt,null,B.mode);return Gt.lanes=tt,Gt.return=B,Gt}}}var ha=T_(!0),S_=T_(!1),$s=!1;function Kd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qd(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Js(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Zs(s,r,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Qt&2)!==0){var g=u.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),u.pending=r,r=Fu(s),a_(s,null,l),r}return Bu(s,u,r,l),Fu(s)}function Hl(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,l|=u,r.lanes=l,pl(s,l)}}function Xd(s,r){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?g=p=b:p=p.next=b,l=l.next}while(l!==null);p===null?g=p=r:p=p.next=r}else g=p=r;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var Wd=!1;function ql(){if(Wd){var s=uo;if(s!==null)throw s}}function Gl(s,r,l,u){Wd=!1;var g=s.updateQueue;$s=!1;var p=g.firstBaseUpdate,b=g.lastBaseUpdate,A=g.shared.pending;if(A!==null){g.shared.pending=null;var L=A,G=L.next;L.next=null,b===null?p=G:b.next=G,b=L;var Z=s.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==b&&(A===null?Z.firstBaseUpdate=G:A.next=G,Z.lastBaseUpdate=L))}if(p!==null){var nt=g.baseState;b=0,Z=G=L=null,A=p;do{var K=A.lane&-536870913,W=K!==A.lane;if(W?(Pt&K)===K:(u&K)===K){K!==0&&K===co&&(Wd=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var mt=s,At=A;K=r;var ie=l;switch(At.tag){case 1:if(mt=At.payload,typeof mt=="function"){nt=mt.call(ie,nt,K);break t}nt=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=At.payload,K=typeof mt=="function"?mt.call(ie,nt,K):mt,K==null)break t;nt=_({},nt,K);break t;case 2:$s=!0}}K=A.callback,K!==null&&(s.flags|=64,W&&(s.flags|=8192),W=g.callbacks,W===null?g.callbacks=[K]:W.push(K))}else W={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(G=Z=W,L=nt):Z=Z.next=W,b|=K;if(A=A.next,A===null){if(A=g.shared.pending,A===null)break;W=A,A=W.next,W.next=null,g.lastBaseUpdate=W,g.shared.pending=null}}while(!0);Z===null&&(L=nt),g.baseState=L,g.firstBaseUpdate=G,g.lastBaseUpdate=Z,p===null&&(g.shared.lanes=0),sr|=b,s.lanes=b,s.memoizedState=nt}}function A_(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function x_(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)A_(l[s],r)}var go=j(null),Ju=j(0);function w_(s,r){s=vs,ot(Ju,s),ot(go,r),vs=s|r.baseLanes}function $d(){ot(Ju,vs),ot(go,go.current)}function Jd(){vs=Ju.current,J(go),J(Ju)}var On=j(null),$n=null;function tr(s){var r=s.alternate;ot(Ee,Ee.current&1),ot(On,s),$n===null&&(r===null||go.current!==null||r.memoizedState!==null)&&($n=s)}function Zd(s){ot(Ee,Ee.current),ot(On,s),$n===null&&($n=s)}function R_(s){s.tag===22?(ot(Ee,Ee.current),ot(On,s),$n===null&&($n=s)):er()}function er(){ot(Ee,Ee.current),ot(On,On.current)}function Nn(s){J(On),$n===s&&($n=null),J(Ee)}var Ee=j(0);function Zu(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||rm(l)||am(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var hs=0,Mt=null,ee=null,Me=null,th=!1,mo=!1,fa=!1,eh=0,Yl=0,po=null,j1=0;function pe(){throw Error(i(321))}function tg(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!Dn(s[l],r[l]))return!1;return!0}function eg(s,r,l,u,g,p){return hs=p,Mt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,H.H=s===null||s.memoizedState===null?uv:pg,fa=!1,p=l(u,g),fa=!1,mo&&(p=I_(r,l,u,g)),C_(s),p}function C_(s){H.H=Xl;var r=ee!==null&&ee.next!==null;if(hs=0,Me=ee=Mt=null,th=!1,Yl=0,po=null,r)throw Error(i(300));s===null||Oe||(s=s.dependencies,s!==null&&Gu(s)&&(Oe=!0))}function I_(s,r,l,u){Mt=s;var g=0;do{if(mo&&(po=null),Yl=0,mo=!1,25<=g)throw Error(i(301));if(g+=1,Me=ee=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}H.H=hv,p=r(l,u)}while(mo);return p}function U1(){var s=H.H,r=s.useState()[0];return r=typeof r.then=="function"?Kl(r):r,s=s.useState()[0],(ee!==null?ee.memoizedState:null)!==s&&(Mt.flags|=1024),r}function ng(){var s=eh!==0;return eh=0,s}function ig(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function sg(s){if(th){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}th=!1}hs=0,Me=ee=Mt=null,mo=!1,Yl=eh=0,po=null}function mn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Mt.memoizedState=Me=s:Me=Me.next=s,Me}function Te(){if(ee===null){var s=Mt.alternate;s=s!==null?s.memoizedState:null}else s=ee.next;var r=Me===null?Mt.memoizedState:Me.next;if(r!==null)Me=r,ee=s;else{if(s===null)throw Mt.alternate===null?Error(i(467)):Error(i(310));ee=s,s={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Me===null?Mt.memoizedState=Me=s:Me=Me.next=s}return Me}function nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(s){var r=Yl;return Yl+=1,po===null&&(po=[]),s=v_(po,s,r),r=Mt,(Me===null?r.memoizedState:Me.next)===null&&(r=r.alternate,H.H=r===null||r.memoizedState===null?uv:pg),s}function ih(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Kl(s);if(s.$$typeof===$)return Je(s)}throw Error(i(438,String(s)))}function rg(s){var r=null,l=Mt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var u=Mt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=nh(),Mt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),u=0;u<s;u++)l[u]=O;return r.index++,l}function fs(s,r){return typeof r=="function"?r(s):r}function sh(s){var r=Te();return ag(r,ee,s)}function ag(s,r,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=s.baseQueue,p=u.pending;if(p!==null){if(g!==null){var b=g.next;g.next=p.next,p.next=b}r.baseQueue=g=p,u.pending=null}if(p=s.baseState,g===null)s.memoizedState=p;else{r=g.next;var A=b=null,L=null,G=r,Z=!1;do{var nt=G.lane&-536870913;if(nt!==G.lane?(Pt&nt)===nt:(hs&nt)===nt){var K=G.revertLane;if(K===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),nt===co&&(Z=!0);else if((hs&K)===K){G=G.next,K===co&&(Z=!0);continue}else nt={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},L===null?(A=L=nt,b=p):L=L.next=nt,Mt.lanes|=K,sr|=K;nt=G.action,fa&&l(p,nt),p=G.hasEagerState?G.eagerState:l(p,nt)}else K={lane:nt,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},L===null?(A=L=K,b=p):L=L.next=K,Mt.lanes|=nt,sr|=nt;G=G.next}while(G!==null&&G!==r);if(L===null?b=p:L.next=A,!Dn(p,s.memoizedState)&&(Oe=!0,Z&&(l=uo,l!==null)))throw l;s.memoizedState=p,s.baseState=b,s.baseQueue=L,u.lastRenderedState=p}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function og(s){var r=Te(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,p=r.memoizedState;if(g!==null){l.pending=null;var b=g=g.next;do p=s(p,b.action),b=b.next;while(b!==g);Dn(p,r.memoizedState)||(Oe=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),l.lastRenderedState=p}return[p,u]}function D_(s,r,l){var u=Mt,g=Te(),p=Bt;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=r();var b=!Dn((ee||g).memoizedState,l);if(b&&(g.memoizedState=l,Oe=!0),g=g.queue,ug(N_.bind(null,u,g,s),[s]),g.getSnapshot!==r||b||Me!==null&&Me.memoizedState.tag&1){if(u.flags|=2048,yo(9,{destroy:void 0},O_.bind(null,u,g,l,r),null),se===null)throw Error(i(349));p||(hs&127)!==0||M_(u,r,l)}return l}function M_(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=Mt.updateQueue,r===null?(r=nh(),Mt.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function O_(s,r,l,u){r.value=l,r.getSnapshot=u,k_(r)&&V_(s)}function N_(s,r,l){return l(function(){k_(r)&&V_(s)})}function k_(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!Dn(s,l)}catch{return!0}}function V_(s){var r=ia(s,2);r!==null&&Tn(r,s,2)}function lg(s){var r=mn();if(typeof s=="function"){var l=s;if(s=l(),fa){Bn(!0);try{l()}finally{Bn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:s},r}function P_(s,r,l,u){return s.baseState=l,ag(s,ee,typeof u=="function"?u:fs)}function B1(s,r,l,u,g){if(oh(s))throw Error(i(485));if(s=r.action,s!==null){var p={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};H.T!==null?l(!0):p.isTransition=!1,u(p),l=r.pending,l===null?(p.next=r.pending=p,L_(r,p)):(p.next=l.next,r.pending=l.next=p)}}function L_(s,r){var l=r.action,u=r.payload,g=s.state;if(r.isTransition){var p=H.T,b={};H.T=b;try{var A=l(g,u),L=H.S;L!==null&&L(b,A),z_(s,r,A)}catch(G){cg(s,r,G)}finally{p!==null&&b.types!==null&&(p.types=b.types),H.T=p}}else try{p=l(g,u),z_(s,r,p)}catch(G){cg(s,r,G)}}function z_(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){j_(s,r,u)},function(u){return cg(s,r,u)}):j_(s,r,l)}function j_(s,r,l){r.status="fulfilled",r.value=l,U_(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,L_(s,l)))}function cg(s,r,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=l,U_(r),r=r.next;while(r!==u)}s.action=null}function U_(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function B_(s,r){return r}function F_(s,r){if(Bt){var l=se.formState;if(l!==null){t:{var u=Mt;if(Bt){if(ce){e:{for(var g=ce,p=Wn;g.nodeType!==8;){if(!p){g=null;break e}if(g=Jn(g.nextSibling),g===null){g=null;break e}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){ce=Jn(g.nextSibling),u=g.data==="F!";break t}}Xs(u)}u=!1}u&&(r=l[0])}}return l=mn(),l.memoizedState=l.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:B_,lastRenderedState:r},l.queue=u,l=ov.bind(null,Mt,u),u.dispatch=l,u=lg(!1),p=mg.bind(null,Mt,!1,u.queue),u=mn(),g={state:r,dispatch:null,action:s,pending:null},u.queue=g,l=B1.bind(null,Mt,g,p,l),g.dispatch=l,u.memoizedState=s,[r,l,!1]}function H_(s){var r=Te();return q_(r,ee,s)}function q_(s,r,l){if(r=ag(s,r,B_)[0],s=sh(fs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Kl(r)}catch(b){throw b===ho?Qu:b}else u=r;r=Te();var g=r.queue,p=g.dispatch;return l!==r.memoizedState&&(Mt.flags|=2048,yo(9,{destroy:void 0},F1.bind(null,g,l),null)),[u,p,s]}function F1(s,r){s.action=r}function G_(s){var r=Te(),l=ee;if(l!==null)return q_(r,l,s);Te(),r=r.memoizedState,l=Te();var u=l.queue.dispatch;return l.memoizedState=s,[r,u,!1]}function yo(s,r,l,u){return s={tag:s,create:l,deps:u,inst:r,next:null},r=Mt.updateQueue,r===null&&(r=nh(),Mt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,r.lastEffect=s),s}function Y_(){return Te().memoizedState}function rh(s,r,l,u){var g=mn();Mt.flags|=s,g.memoizedState=yo(1|r,{destroy:void 0},l,u===void 0?null:u)}function ah(s,r,l,u){var g=Te();u=u===void 0?null:u;var p=g.memoizedState.inst;ee!==null&&u!==null&&tg(u,ee.memoizedState.deps)?g.memoizedState=yo(r,p,l,u):(Mt.flags|=s,g.memoizedState=yo(1|r,p,l,u))}function K_(s,r){rh(8390656,8,s,r)}function ug(s,r){ah(2048,8,s,r)}function H1(s){Mt.flags|=4;var r=Mt.updateQueue;if(r===null)r=nh(),Mt.updateQueue=r,r.events=[s];else{var l=r.events;l===null?r.events=[s]:l.push(s)}}function Q_(s){var r=Te().memoizedState;return H1({ref:r,nextImpl:s}),function(){if((Qt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function X_(s,r){return ah(4,2,s,r)}function W_(s,r){return ah(4,4,s,r)}function $_(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function J_(s,r,l){l=l!=null?l.concat([s]):null,ah(4,4,$_.bind(null,r,s),l)}function hg(){}function Z_(s,r){var l=Te();r=r===void 0?null:r;var u=l.memoizedState;return r!==null&&tg(r,u[1])?u[0]:(l.memoizedState=[s,r],s)}function tv(s,r){var l=Te();r=r===void 0?null:r;var u=l.memoizedState;if(r!==null&&tg(r,u[1]))return u[0];if(u=s(),fa){Bn(!0);try{s()}finally{Bn(!1)}}return l.memoizedState=[u,r],u}function fg(s,r,l){return l===void 0||(hs&1073741824)!==0&&(Pt&261930)===0?s.memoizedState=r:(s.memoizedState=l,s=eb(),Mt.lanes|=s,sr|=s,l)}function ev(s,r,l,u){return Dn(l,r)?l:go.current!==null?(s=fg(s,l,u),Dn(s,r)||(Oe=!0),s):(hs&42)===0||(hs&1073741824)!==0&&(Pt&261930)===0?(Oe=!0,s.memoizedState=l):(s=eb(),Mt.lanes|=s,sr|=s,r)}function nv(s,r,l,u,g){var p=st.p;st.p=p!==0&&8>p?p:8;var b=H.T,A={};H.T=A,mg(s,!1,r,l);try{var L=g(),G=H.S;if(G!==null&&G(A,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var Z=z1(L,u);Ql(s,r,Z,Pn(s))}else Ql(s,r,u,Pn(s))}catch(nt){Ql(s,r,{then:function(){},status:"rejected",reason:nt},Pn())}finally{st.p=p,b!==null&&A.types!==null&&(b.types=A.types),H.T=b}}function q1(){}function dg(s,r,l,u){if(s.tag!==5)throw Error(i(476));var g=iv(s).queue;nv(s,g,r,ut,l===null?q1:function(){return sv(s),l(u)})}function iv(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:ut},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function sv(s){var r=iv(s);r.next===null&&(r=s.alternate.memoizedState),Ql(s,r.next.queue,{},Pn())}function gg(){return Je(hc)}function rv(){return Te().memoizedState}function av(){return Te().memoizedState}function G1(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=Pn();s=Js(l);var u=Zs(r,s,l);u!==null&&(Tn(u,r,l),Hl(u,r,l)),r={cache:Hd()},s.payload=r;return}r=r.return}}function Y1(s,r,l){var u=Pn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},oh(s)?lv(r,l):(l=Od(s,r,l,u),l!==null&&(Tn(l,s,u),cv(l,r,u)))}function ov(s,r,l){var u=Pn();Ql(s,r,l,u)}function Ql(s,r,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(oh(s))lv(r,g);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var b=r.lastRenderedState,A=p(b,l);if(g.hasEagerState=!0,g.eagerState=A,Dn(A,b))return Bu(s,r,g,0),se===null&&Uu(),!1}catch{}if(l=Od(s,r,g,u),l!==null)return Tn(l,s,u),cv(l,r,u),!0}return!1}function mg(s,r,l,u){if(u={lane:2,revertLane:Kg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},oh(s)){if(r)throw Error(i(479))}else r=Od(s,l,u,2),r!==null&&Tn(r,s,2)}function oh(s){var r=s.alternate;return s===Mt||r!==null&&r===Mt}function lv(s,r){mo=th=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function cv(s,r,l){if((l&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,l|=u,r.lanes=l,pl(s,l)}}var Xl={readContext:Je,use:ih,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};Xl.useEffectEvent=pe;var uv={readContext:Je,use:ih,useCallback:function(s,r){return mn().memoizedState=[s,r===void 0?null:r],s},useContext:Je,useEffect:K_,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,rh(4194308,4,$_.bind(null,r,s),l)},useLayoutEffect:function(s,r){return rh(4194308,4,s,r)},useInsertionEffect:function(s,r){rh(4,2,s,r)},useMemo:function(s,r){var l=mn();r=r===void 0?null:r;var u=s();if(fa){Bn(!0);try{s()}finally{Bn(!1)}}return l.memoizedState=[u,r],u},useReducer:function(s,r,l){var u=mn();if(l!==void 0){var g=l(r);if(fa){Bn(!0);try{l(r)}finally{Bn(!1)}}}else g=r;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=Y1.bind(null,Mt,s),[u.memoizedState,s]},useRef:function(s){var r=mn();return s={current:s},r.memoizedState=s},useState:function(s){s=lg(s);var r=s.queue,l=ov.bind(null,Mt,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:hg,useDeferredValue:function(s,r){var l=mn();return fg(l,s,r)},useTransition:function(){var s=lg(!1);return s=nv.bind(null,Mt,s.queue,!0,!1),mn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var u=Mt,g=mn();if(Bt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),se===null)throw Error(i(349));(Pt&127)!==0||M_(u,r,l)}g.memoizedState=l;var p={value:l,getSnapshot:r};return g.queue=p,K_(N_.bind(null,u,p,s),[s]),u.flags|=2048,yo(9,{destroy:void 0},O_.bind(null,u,p,l,r),null),l},useId:function(){var s=mn(),r=se.identifierPrefix;if(Bt){var l=Fi,u=Bi;l=(u&~(1<<32-ve(u)-1)).toString(32)+l,r="_"+r+"R_"+l,l=eh++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=j1++,r="_"+r+"r_"+l.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:gg,useFormState:F_,useActionState:F_,useOptimistic:function(s){var r=mn();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=mg.bind(null,Mt,!0,l),l.dispatch=r,[s,r]},useMemoCache:rg,useCacheRefresh:function(){return mn().memoizedState=G1.bind(null,Mt)},useEffectEvent:function(s){var r=mn(),l={impl:s};return r.memoizedState=l,function(){if((Qt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},pg={readContext:Je,use:ih,useCallback:Z_,useContext:Je,useEffect:ug,useImperativeHandle:J_,useInsertionEffect:X_,useLayoutEffect:W_,useMemo:tv,useReducer:sh,useRef:Y_,useState:function(){return sh(fs)},useDebugValue:hg,useDeferredValue:function(s,r){var l=Te();return ev(l,ee.memoizedState,s,r)},useTransition:function(){var s=sh(fs)[0],r=Te().memoizedState;return[typeof s=="boolean"?s:Kl(s),r]},useSyncExternalStore:D_,useId:rv,useHostTransitionStatus:gg,useFormState:H_,useActionState:H_,useOptimistic:function(s,r){var l=Te();return P_(l,ee,s,r)},useMemoCache:rg,useCacheRefresh:av};pg.useEffectEvent=Q_;var hv={readContext:Je,use:ih,useCallback:Z_,useContext:Je,useEffect:ug,useImperativeHandle:J_,useInsertionEffect:X_,useLayoutEffect:W_,useMemo:tv,useReducer:og,useRef:Y_,useState:function(){return og(fs)},useDebugValue:hg,useDeferredValue:function(s,r){var l=Te();return ee===null?fg(l,s,r):ev(l,ee.memoizedState,s,r)},useTransition:function(){var s=og(fs)[0],r=Te().memoizedState;return[typeof s=="boolean"?s:Kl(s),r]},useSyncExternalStore:D_,useId:rv,useHostTransitionStatus:gg,useFormState:G_,useActionState:G_,useOptimistic:function(s,r){var l=Te();return ee!==null?P_(l,ee,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:rg,useCacheRefresh:av};hv.useEffectEvent=Q_;function yg(s,r,l,u){r=s.memoizedState,l=l(u,r),l=l==null?r:_({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var _g={enqueueSetState:function(s,r,l){s=s._reactInternals;var u=Pn(),g=Js(u);g.payload=r,l!=null&&(g.callback=l),r=Zs(s,g,u),r!==null&&(Tn(r,s,u),Hl(r,s,u))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var u=Pn(),g=Js(u);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=Zs(s,g,u),r!==null&&(Tn(r,s,u),Hl(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=Pn(),u=Js(l);u.tag=2,r!=null&&(u.callback=r),r=Zs(s,u,l),r!==null&&(Tn(r,s,l),Hl(r,s,l))}};function fv(s,r,l,u,g,p,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,b):r.prototype&&r.prototype.isPureReactComponent?!Vl(l,u)||!Vl(g,p):!0}function dv(s,r,l,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,u),r.state!==s&&_g.enqueueReplaceState(r,r.state,null)}function da(s,r){var l=r;if("ref"in r){l={};for(var u in r)u!=="ref"&&(l[u]=r[u])}if(s=s.defaultProps){l===r&&(l=_({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}function gv(s){ju(s)}function mv(s){console.error(s)}function pv(s){ju(s)}function lh(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function yv(s,r,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function vg(s,r,l){return l=Js(l),l.tag=3,l.payload={element:null},l.callback=function(){lh(s,r)},l}function _v(s){return s=Js(s),s.tag=3,s}function vv(s,r,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var p=u.value;s.payload=function(){return g(p)},s.callback=function(){yv(r,l,u)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(s.callback=function(){yv(r,l,u),typeof g!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function K1(s,r,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=l.alternate,r!==null&&lo(r,l,g,!0),l=On.current,l!==null){switch(l.tag){case 31:case 13:return $n===null?bh():l.alternate===null&&ye===0&&(ye=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===Xu?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([u]):r.add(u),qg(s,u,g)),!1;case 22:return l.flags|=65536,u===Xu?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([u]):l.add(u)),qg(s,u,g)),!1}throw Error(i(435,l.tag))}return qg(s,u,g),bh(),!1}if(Bt)return r=On.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,u!==zd&&(s=Error(i(422),{cause:u}),zl(Kn(s,l)))):(u!==zd&&(r=Error(i(423),{cause:u}),zl(Kn(r,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=Kn(u,l),g=vg(s.stateNode,u,g),Xd(s,g),ye!==4&&(ye=2)),!1;var p=Error(i(520),{cause:u});if(p=Kn(p,l),ic===null?ic=[p]:ic.push(p),ye!==4&&(ye=2),r===null)return!0;u=Kn(u,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=vg(l.stateNode,u,s),Xd(l,s),!1;case 1:if(r=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(rr===null||!rr.has(p))))return l.flags|=65536,g&=-g,l.lanes|=g,g=_v(g),vv(g,s,l,u),Xd(l,g),!1}l=l.return}while(l!==null);return!1}var bg=Error(i(461)),Oe=!1;function Ze(s,r,l,u){r.child=s===null?S_(r,null,l,u):ha(r,s.child,l,u)}function bv(s,r,l,u,g){l=l.render;var p=r.ref;if("ref"in u){var b={};for(var A in u)A!=="ref"&&(b[A]=u[A])}else b=u;return oa(r),u=eg(s,r,l,b,p,g),A=ng(),s!==null&&!Oe?(ig(s,r,g),ds(s,r,g)):(Bt&&A&&Pd(r),r.flags|=1,Ze(s,r,u,g),r.child)}function Ev(s,r,l,u,g){if(s===null){var p=l.type;return typeof p=="function"&&!Nd(p)&&p.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=p,Tv(s,r,p,u,g)):(s=Hu(l.type,null,u,r,r.mode,g),s.ref=r.ref,s.return=r,r.child=s)}if(p=s.child,!Cg(s,g)){var b=p.memoizedProps;if(l=l.compare,l=l!==null?l:Vl,l(b,u)&&s.ref===r.ref)return ds(s,r,g)}return r.flags|=1,s=os(p,u),s.ref=r.ref,s.return=r,r.child=s}function Tv(s,r,l,u,g){if(s!==null){var p=s.memoizedProps;if(Vl(p,u)&&s.ref===r.ref)if(Oe=!1,r.pendingProps=u=p,Cg(s,g))(s.flags&131072)!==0&&(Oe=!0);else return r.lanes=s.lanes,ds(s,r,g)}return Eg(s,r,l,u,g)}function Sv(s,r,l,u){var g=u.children,p=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,s!==null){for(u=r.child=s.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~p}else u=0,r.child=null;return Av(s,r,p,l,u)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Ku(r,p!==null?p.cachePool:null),p!==null?w_(r,p):$d(),R_(r);else return u=r.lanes=536870912,Av(s,r,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(Ku(r,p.cachePool),w_(r,p),er(),r.memoizedState=null):(s!==null&&Ku(r,null),$d(),er());return Ze(s,r,g,l),r.child}function Wl(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Av(s,r,l,u,g){var p=Gd();return p=p===null?null:{parent:De._currentValue,pool:p},r.memoizedState={baseLanes:l,cachePool:p},s!==null&&Ku(r,null),$d(),R_(r),s!==null&&lo(s,r,u,!0),r.childLanes=g,null}function ch(s,r){return r=hh({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function xv(s,r,l){return ha(r,s.child,null,l),s=ch(r,r.pendingProps),s.flags|=2,Nn(r),r.memoizedState=null,s}function Q1(s,r,l){var u=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Bt){if(u.mode==="hidden")return s=ch(r,u),r.lanes=536870912,Wl(null,s);if(Zd(r),(s=ce)?(s=Lb(s,Wn),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Ks!==null?{id:Bi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},l=l_(s),l.return=r,r.child=l,$e=r,ce=null)):s=null,s===null)throw Xs(r);return r.lanes=536870912,null}return ch(r,u)}var p=s.memoizedState;if(p!==null){var b=p.dehydrated;if(Zd(r),g)if(r.flags&256)r.flags&=-257,r=xv(s,r,l);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Oe||lo(s,r,l,!1),g=(l&s.childLanes)!==0,Oe||g){if(u=se,u!==null&&(b=yl(u,l),b!==0&&b!==p.retryLane))throw p.retryLane=b,ia(s,b),Tn(u,s,b),bg;bh(),r=xv(s,r,l)}else s=p.treeContext,ce=Jn(b.nextSibling),$e=r,Bt=!0,Qs=null,Wn=!1,s!==null&&h_(r,s),r=ch(r,u),r.flags|=4096;return r}return s=os(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function uh(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function Eg(s,r,l,u,g){return oa(r),l=eg(s,r,l,u,void 0,g),u=ng(),s!==null&&!Oe?(ig(s,r,g),ds(s,r,g)):(Bt&&u&&Pd(r),r.flags|=1,Ze(s,r,l,g),r.child)}function wv(s,r,l,u,g,p){return oa(r),r.updateQueue=null,l=I_(r,u,l,g),C_(s),u=ng(),s!==null&&!Oe?(ig(s,r,p),ds(s,r,p)):(Bt&&u&&Pd(r),r.flags|=1,Ze(s,r,l,p),r.child)}function Rv(s,r,l,u,g){if(oa(r),r.stateNode===null){var p=so,b=l.contextType;typeof b=="object"&&b!==null&&(p=Je(b)),p=new l(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=_g,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},Kd(r),b=l.contextType,p.context=typeof b=="object"&&b!==null?Je(b):so,p.state=r.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(yg(r,l,b,u),p.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&_g.enqueueReplaceState(p,p.state,null),Gl(r,u,p,g),ql(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){p=r.stateNode;var A=r.memoizedProps,L=da(l,A);p.props=L;var G=p.context,Z=l.contextType;b=so,typeof Z=="object"&&Z!==null&&(b=Je(Z));var nt=l.getDerivedStateFromProps;Z=typeof nt=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||G!==b)&&dv(r,p,u,b),$s=!1;var K=r.memoizedState;p.state=K,Gl(r,u,p,g),ql(),G=r.memoizedState,A||K!==G||$s?(typeof nt=="function"&&(yg(r,l,nt,u),G=r.memoizedState),(L=$s||fv(r,l,L,u,K,G,b))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=G),p.props=u,p.state=G,p.context=b,u=L):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,Qd(s,r),b=r.memoizedProps,Z=da(l,b),p.props=Z,nt=r.pendingProps,K=p.context,G=l.contextType,L=so,typeof G=="object"&&G!==null&&(L=Je(G)),A=l.getDerivedStateFromProps,(G=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==nt||K!==L)&&dv(r,p,u,L),$s=!1,K=r.memoizedState,p.state=K,Gl(r,u,p,g),ql();var W=r.memoizedState;b!==nt||K!==W||$s||s!==null&&s.dependencies!==null&&Gu(s.dependencies)?(typeof A=="function"&&(yg(r,l,A,u),W=r.memoizedState),(Z=$s||fv(r,l,Z,u,K,W,L)||s!==null&&s.dependencies!==null&&Gu(s.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,W,L),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,W,L)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&K===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&K===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=W),p.props=u,p.state=W,p.context=L,u=Z):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&K===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&K===s.memoizedState||(r.flags|=1024),u=!1)}return p=u,uh(s,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,s!==null&&u?(r.child=ha(r,s.child,null,g),r.child=ha(r,null,l,g)):Ze(s,r,l,g),r.memoizedState=p.state,s=r.child):s=ds(s,r,g),s}function Cv(s,r,l,u){return ra(),r.flags|=256,Ze(s,r,l,u),r.child}var Tg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sg(s){return{baseLanes:s,cachePool:y_()}}function Ag(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=Vn),s}function Iv(s,r,l){var u=r.pendingProps,g=!1,p=(r.flags&128)!==0,b;if((b=p)||(b=s!==null&&s.memoizedState===null?!1:(Ee.current&2)!==0),b&&(g=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,s===null){if(Bt){if(g?tr(r):er(),(s=ce)?(s=Lb(s,Wn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Ks!==null?{id:Bi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},l=l_(s),l.return=r,r.child=l,$e=r,ce=null)):s=null,s===null)throw Xs(r);return am(s)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,g?(er(),g=r.mode,A=hh({mode:"hidden",children:A},g),u=sa(u,g,l,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=Sg(l),u.childLanes=Ag(s,b,l),r.memoizedState=Tg,Wl(null,u)):(tr(r),xg(r,A))}var L=s.memoizedState;if(L!==null&&(A=L.dehydrated,A!==null)){if(p)r.flags&256?(tr(r),r.flags&=-257,r=wg(s,r,l)):r.memoizedState!==null?(er(),r.child=s.child,r.flags|=128,r=null):(er(),A=u.fallback,g=r.mode,u=hh({mode:"visible",children:u.children},g),A=sa(A,g,l,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,ha(r,s.child,null,l),u=r.child,u.memoizedState=Sg(l),u.childLanes=Ag(s,b,l),r.memoizedState=Tg,r=Wl(null,u));else if(tr(r),am(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var G=b.dgst;b=G,u=Error(i(419)),u.stack="",u.digest=b,zl({value:u,source:null,stack:null}),r=wg(s,r,l)}else if(Oe||lo(s,r,l,!1),b=(l&s.childLanes)!==0,Oe||b){if(b=se,b!==null&&(u=yl(b,l),u!==0&&u!==L.retryLane))throw L.retryLane=u,ia(s,u),Tn(b,s,u),bg;rm(A)||bh(),r=wg(s,r,l)}else rm(A)?(r.flags|=192,r.child=s.child,r=null):(s=L.treeContext,ce=Jn(A.nextSibling),$e=r,Bt=!0,Qs=null,Wn=!1,s!==null&&h_(r,s),r=xg(r,u.children),r.flags|=4096);return r}return g?(er(),A=u.fallback,g=r.mode,L=s.child,G=L.sibling,u=os(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,G!==null?A=os(G,A):(A=sa(A,g,l,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,Wl(null,u),u=r.child,A=s.child.memoizedState,A===null?A=Sg(l):(g=A.cachePool,g!==null?(L=De._currentValue,g=g.parent!==L?{parent:L,pool:L}:g):g=y_(),A={baseLanes:A.baseLanes|l,cachePool:g}),u.memoizedState=A,u.childLanes=Ag(s,b,l),r.memoizedState=Tg,Wl(s.child,u)):(tr(r),l=s.child,s=l.sibling,l=os(l,{mode:"visible",children:u.children}),l.return=r,l.sibling=null,s!==null&&(b=r.deletions,b===null?(r.deletions=[s],r.flags|=16):b.push(s)),r.child=l,r.memoizedState=null,l)}function xg(s,r){return r=hh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function hh(s,r){return s=Mn(22,s,null,r),s.lanes=0,s}function wg(s,r,l){return ha(r,s.child,null,l),s=xg(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Dv(s,r,l){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),Bd(s.return,r,l)}function Rg(s,r,l,u,g,p){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:p}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=l,b.tailMode=g,b.treeForkCount=p)}function Mv(s,r,l){var u=r.pendingProps,g=u.revealOrder,p=u.tail;u=u.children;var b=Ee.current,A=(b&2)!==0;if(A?(b=b&1|2,r.flags|=128):b&=1,ot(Ee,b),Ze(s,r,u,l),u=Bt?Ll:0,!A&&s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Dv(s,l,r);else if(s.tag===19)Dv(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(l=r.child,g=null;l!==null;)s=l.alternate,s!==null&&Zu(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),Rg(r,!1,g,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(s=g.alternate,s!==null&&Zu(s)===null){r.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}Rg(r,!0,l,null,p,u);break;case"together":Rg(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ds(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),sr|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(lo(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=os(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=os(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function Cg(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Gu(s)))}function X1(s,r,l){switch(r.tag){case 3:_e(r,r.stateNode.containerInfo),Ws(r,De,s.memoizedState.cache),ra();break;case 27:case 5:Un(r);break;case 4:_e(r,r.stateNode.containerInfo);break;case 10:Ws(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Zd(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(tr(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Iv(s,r,l):(tr(r),s=ds(s,r,l),s!==null?s.sibling:null);tr(r);break;case 19:var g=(s.flags&128)!==0;if(u=(l&r.childLanes)!==0,u||(lo(s,r,l,!1),u=(l&r.childLanes)!==0),g){if(u)return Mv(s,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ot(Ee,Ee.current),u)break;return null;case 22:return r.lanes=0,Sv(s,r,l,r.pendingProps);case 24:Ws(r,De,s.memoizedState.cache)}return ds(s,r,l)}function Ov(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)Oe=!0;else{if(!Cg(s,l)&&(r.flags&128)===0)return Oe=!1,X1(s,r,l);Oe=(s.flags&131072)!==0}else Oe=!1,Bt&&(r.flags&1048576)!==0&&u_(r,Ll,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(s=ca(r.elementType),r.type=s,typeof s=="function")Nd(s)?(u=da(s,u),r.tag=1,r=Rv(null,r,s,u,l)):(r.tag=0,r=Eg(null,r,s,u,l));else{if(s!=null){var g=s.$$typeof;if(g===at){r.tag=11,r=bv(null,r,s,u,l);break t}else if(g===D){r.tag=14,r=Ev(null,r,s,u,l);break t}}throw r=ft(s)||s,Error(i(306,r,""))}}return r;case 0:return Eg(s,r,r.type,r.pendingProps,l);case 1:return u=r.type,g=da(u,r.pendingProps),Rv(s,r,u,g,l);case 3:t:{if(_e(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var p=r.memoizedState;g=p.element,Qd(s,r),Gl(r,u,null,l);var b=r.memoizedState;if(u=b.cache,Ws(r,De,u),u!==p.cache&&Fd(r,[De],l,!0),ql(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=Cv(s,r,u,l);break t}else if(u!==g){g=Kn(Error(i(424)),r),zl(g),r=Cv(s,r,u,l);break t}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ce=Jn(s.firstChild),$e=r,Bt=!0,Qs=null,Wn=!0,l=S_(r,null,u,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ra(),u===g){r=ds(s,r,l);break t}Ze(s,r,u,l)}r=r.child}return r;case 26:return uh(s,r),s===null?(l=Hb(r.type,null,r.pendingProps,null))?r.memoizedState=l:Bt||(l=r.type,s=r.pendingProps,u=Rh(St.current).createElement(l),u[Re]=r,u[Ge]=s,tn(u,l,s),Ce(u),r.stateNode=u):r.memoizedState=Hb(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Un(r),s===null&&Bt&&(u=r.stateNode=Ub(r.type,r.pendingProps,St.current),$e=r,Wn=!0,g=ce,cr(r.type)?(om=g,ce=Jn(u.firstChild)):ce=g),Ze(s,r,r.pendingProps.children,l),uh(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Bt&&((g=u=ce)&&(u=xw(u,r.type,r.pendingProps,Wn),u!==null?(r.stateNode=u,$e=r,ce=Jn(u.firstChild),Wn=!1,g=!0):g=!1),g||Xs(r)),Un(r),g=r.type,p=r.pendingProps,b=s!==null?s.memoizedProps:null,u=p.children,nm(g,p)?u=null:b!==null&&nm(g,b)&&(r.flags|=32),r.memoizedState!==null&&(g=eg(s,r,U1,null,null,l),hc._currentValue=g),uh(s,r),Ze(s,r,u,l),r.child;case 6:return s===null&&Bt&&((s=l=ce)&&(l=ww(l,r.pendingProps,Wn),l!==null?(r.stateNode=l,$e=r,ce=null,s=!0):s=!1),s||Xs(r)),null;case 13:return Iv(s,r,l);case 4:return _e(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=ha(r,null,u,l):Ze(s,r,u,l),r.child;case 11:return bv(s,r,r.type,r.pendingProps,l);case 7:return Ze(s,r,r.pendingProps,l),r.child;case 8:return Ze(s,r,r.pendingProps.children,l),r.child;case 12:return Ze(s,r,r.pendingProps.children,l),r.child;case 10:return u=r.pendingProps,Ws(r,r.type,u.value),Ze(s,r,u.children,l),r.child;case 9:return g=r.type._context,u=r.pendingProps.children,oa(r),g=Je(g),u=u(g),r.flags|=1,Ze(s,r,u,l),r.child;case 14:return Ev(s,r,r.type,r.pendingProps,l);case 15:return Tv(s,r,r.type,r.pendingProps,l);case 19:return Mv(s,r,l);case 31:return Q1(s,r,l);case 22:return Sv(s,r,l,r.pendingProps);case 24:return oa(r),u=Je(De),s===null?(g=Gd(),g===null&&(g=se,p=Hd(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=l),g=p),r.memoizedState={parent:u,cache:g},Kd(r),Ws(r,De,g)):((s.lanes&l)!==0&&(Qd(s,r),Gl(r,null,null,l),ql()),g=s.memoizedState,p=r.memoizedState,g.parent!==u?(g={parent:u,cache:u},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),Ws(r,De,u)):(u=p.cache,Ws(r,De,u),u!==g.cache&&Fd(r,[De],l,!0))),Ze(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function gs(s){s.flags|=4}function Ig(s,r,l,u,g){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(rb())s.flags|=8192;else throw ua=Xu,Yd}else s.flags&=-16777217}function Nv(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Qb(r))if(rb())s.flags|=8192;else throw ua=Xu,Yd}function fh(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?_u():536870912,s.lanes|=r,Eo|=r)}function $l(s,r){if(!Bt)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ue(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(r)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,r}function W1(s,r,l){var u=r.pendingProps;switch(Ld(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(r),null;case 1:return ue(r),null;case 3:return l=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),us(De),oe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(oo(r)?gs(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,jd())),ue(r),null;case 26:var g=r.type,p=r.memoizedState;return s===null?(gs(r),p!==null?(ue(r),Nv(r,p)):(ue(r),Ig(r,g,null,u,l))):p?p!==s.memoizedState?(gs(r),ue(r),Nv(r,p)):(ue(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&gs(r),ue(r),Ig(r,g,s,u,l)),null;case 27:if(ja(r),l=St.current,g=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&gs(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ue(r),null}s=ct.current,oo(r)?f_(r):(s=Ub(g,u,l),r.stateNode=s,gs(r))}return ue(r),null;case 5:if(ja(r),g=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&gs(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ue(r),null}if(p=ct.current,oo(r))f_(r);else{var b=Rh(St.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?b.createElement(g,{is:u.is}):b.createElement(g)}}p[Re]=r,p[Ge]=u;t:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break t;for(;b.sibling===null;){if(b.return===null||b.return===r)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=p;t:switch(tn(p,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&gs(r)}}return ue(r),Ig(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,l),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&gs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=St.current,oo(r)){if(s=r.stateNode,l=r.memoizedProps,u=null,g=$e,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[Re]=r,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Ib(s.nodeValue,l)),s||Xs(r,!0)}else s=Rh(s).createTextNode(u),s[Re]=r,r.stateNode=s}return ue(r),null;case 31:if(l=r.memoizedState,s===null||s.memoizedState!==null){if(u=oo(r),l!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Re]=r}else ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),s=!1}else l=jd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return r.flags&256?(Nn(r),r):(Nn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ue(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=oo(r),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Re]=r}else ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),g=!1}else g=jd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(Nn(r),r):(Nn(r),null)}return Nn(r),(r.flags&128)!==0?(r.lanes=l,r):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=r.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==g&&(u.flags|=2048)),l!==s&&l&&(r.child.flags|=8192),fh(r,r.updateQueue),ue(r),null);case 4:return oe(),s===null&&$g(r.stateNode.containerInfo),ue(r),null;case 10:return us(r.type),ue(r),null;case 19:if(J(Ee),u=r.memoizedState,u===null)return ue(r),null;if(g=(r.flags&128)!==0,p=u.rendering,p===null)if(g)$l(u,!1);else{if(ye!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(p=Zu(s),p!==null){for(r.flags|=128,$l(u,!1),s=p.updateQueue,r.updateQueue=s,fh(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)o_(l,s),l=l.sibling;return ot(Ee,Ee.current&1|2),Bt&&ls(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&dn()>yh&&(r.flags|=128,g=!0,$l(u,!1),r.lanes=4194304)}else{if(!g)if(s=Zu(p),s!==null){if(r.flags|=128,g=!0,s=s.updateQueue,r.updateQueue=s,fh(r,s),$l(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Bt)return ue(r),null}else 2*dn()-u.renderingStartTime>yh&&l!==536870912&&(r.flags|=128,g=!0,$l(u,!1),r.lanes=4194304);u.isBackwards?(p.sibling=r.child,r.child=p):(s=u.last,s!==null?s.sibling=p:r.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=dn(),s.sibling=null,l=Ee.current,ot(Ee,g?l&1|2:l&1),Bt&&ls(r,u.treeForkCount),s):(ue(r),null);case 22:case 23:return Nn(r),Jd(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(l&536870912)!==0&&(r.flags&128)===0&&(ue(r),r.subtreeFlags&6&&(r.flags|=8192)):ue(r),l=r.updateQueue,l!==null&&fh(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==l&&(r.flags|=2048),s!==null&&J(la),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),us(De),ue(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function $1(s,r){switch(Ld(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return us(De),oe(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return ja(r),null;case 31:if(r.memoizedState!==null){if(Nn(r),r.alternate===null)throw Error(i(340));ra()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Nn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ra()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return J(Ee),null;case 4:return oe(),null;case 10:return us(r.type),null;case 22:case 23:return Nn(r),Jd(),s!==null&&J(la),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return us(De),null;case 25:return null;default:return null}}function kv(s,r){switch(Ld(r),r.tag){case 3:us(De),oe();break;case 26:case 27:case 5:ja(r);break;case 4:oe();break;case 31:r.memoizedState!==null&&Nn(r);break;case 13:Nn(r);break;case 19:J(Ee);break;case 10:us(r.type);break;case 22:case 23:Nn(r),Jd(),s!==null&&J(la);break;case 24:us(De)}}function Jl(s,r){try{var l=r.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var p=l.create,b=l.inst;u=p(),b.destroy=u}l=l.next}while(l!==g)}}catch(A){Jt(r,r.return,A)}}function nr(s,r,l){try{var u=r.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var p=g.next;u=p;do{if((u.tag&s)===s){var b=u.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,g=r;var L=l,G=A;try{G()}catch(Z){Jt(g,L,Z)}}}u=u.next}while(u!==p)}}catch(Z){Jt(r,r.return,Z)}}function Vv(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{x_(r,l)}catch(u){Jt(s,s.return,u)}}}function Pv(s,r,l){l.props=da(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){Jt(s,r,u)}}function Zl(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){Jt(s,r,g)}}function Hi(s,r){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Jt(s,r,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Jt(s,r,g)}else l.current=null}function Lv(s){var r=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Jt(s,s.return,g)}}function Dg(s,r,l){try{var u=s.stateNode;vw(u,s.type,l,r),u[Ge]=r}catch(g){Jt(s,s.return,g)}}function zv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&cr(s.type)||s.tag===4}function Mg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||zv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&cr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Og(s,r,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=ci));else if(u!==4&&(u===27&&cr(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for(Og(s,r,l),s=s.sibling;s!==null;)Og(s,r,l),s=s.sibling}function dh(s,r,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(u!==4&&(u===27&&cr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(dh(s,r,l),s=s.sibling;s!==null;)dh(s,r,l),s=s.sibling}function jv(s){var r=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);tn(r,u,l),r[Re]=s,r[Ge]=l}catch(p){Jt(s,s.return,p)}}var ms=!1,Ne=!1,Ng=!1,Uv=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function J1(s,r){if(s=s.containerInfo,tm=kh,s=Jy(s),wd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var b=0,A=-1,L=-1,G=0,Z=0,nt=s,K=null;e:for(;;){for(var W;nt!==l||g!==0&&nt.nodeType!==3||(A=b+g),nt!==p||u!==0&&nt.nodeType!==3||(L=b+u),nt.nodeType===3&&(b+=nt.nodeValue.length),(W=nt.firstChild)!==null;)K=nt,nt=W;for(;;){if(nt===s)break e;if(K===l&&++G===g&&(A=b),K===p&&++Z===u&&(L=b),(W=nt.nextSibling)!==null)break;nt=K,K=nt.parentNode}nt=W}l=A===-1||L===-1?null:{start:A,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(em={focusedElem:s,selectionRange:l},kh=!1,Ke=r;Ke!==null;)if(r=Ke,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Ke=s;else for(;Ke!==null;){switch(r=Ke,p=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)g=s[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=r,g=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var mt=da(l.type,g);s=u.getSnapshotBeforeUpdate(mt,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(At){Jt(l,l.return,At)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)sm(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":sm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Ke=s;break}Ke=r.return}}function Bv(s,r,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ys(s,l),u&4&&Jl(5,l);break;case 1:if(ys(s,l),u&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(b){Jt(l,l.return,b)}else{var g=da(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(g,r,s.__reactInternalSnapshotBeforeUpdate)}catch(b){Jt(l,l.return,b)}}u&64&&Vv(l),u&512&&Zl(l,l.return);break;case 3:if(ys(s,l),u&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{x_(s,r)}catch(b){Jt(l,l.return,b)}}break;case 27:r===null&&u&4&&jv(l);case 26:case 5:ys(s,l),r===null&&u&4&&Lv(l),u&512&&Zl(l,l.return);break;case 12:ys(s,l);break;case 31:ys(s,l),u&4&&qv(s,l);break;case 13:ys(s,l),u&4&&Gv(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=ow.bind(null,l),Rw(s,l))));break;case 22:if(u=l.memoizedState!==null||ms,!u){r=r!==null&&r.memoizedState!==null||Ne,g=ms;var p=Ne;ms=u,(Ne=r)&&!p?_s(s,l,(l.subtreeFlags&8772)!==0):ys(s,l),ms=g,Ne=p}break;case 30:break;default:ys(s,l)}}function Fv(s){var r=s.alternate;r!==null&&(s.alternate=null,Fv(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&qa(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ge=null,_n=!1;function ps(s,r,l){for(l=l.child;l!==null;)Hv(s,r,l),l=l.sibling}function Hv(s,r,l){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(ri,l)}catch{}switch(l.tag){case 26:Ne||Hi(l,r),ps(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ne||Hi(l,r);var u=ge,g=_n;cr(l.type)&&(ge=l.stateNode,_n=!1),ps(s,r,l),lc(l.stateNode),ge=u,_n=g;break;case 5:Ne||Hi(l,r);case 6:if(u=ge,g=_n,ge=null,ps(s,r,l),ge=u,_n=g,ge!==null)if(_n)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(l.stateNode)}catch(p){Jt(l,r,p)}else try{ge.removeChild(l.stateNode)}catch(p){Jt(l,r,p)}break;case 18:ge!==null&&(_n?(s=ge,Vb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Io(s)):Vb(ge,l.stateNode));break;case 4:u=ge,g=_n,ge=l.stateNode.containerInfo,_n=!0,ps(s,r,l),ge=u,_n=g;break;case 0:case 11:case 14:case 15:nr(2,l,r),Ne||nr(4,l,r),ps(s,r,l);break;case 1:Ne||(Hi(l,r),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Pv(l,r,u)),ps(s,r,l);break;case 21:ps(s,r,l);break;case 22:Ne=(u=Ne)||l.memoizedState!==null,ps(s,r,l),Ne=u;break;default:ps(s,r,l)}}function qv(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Io(s)}catch(l){Jt(r,r.return,l)}}}function Gv(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Io(s)}catch(l){Jt(r,r.return,l)}}function Z1(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Uv),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Uv),r;default:throw Error(i(435,s.tag))}}function gh(s,r){var l=Z1(s);r.forEach(function(u){if(!l.has(u)){l.add(u);var g=lw.bind(null,s,u);u.then(g,g)}})}function vn(s,r){var l=r.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],p=s,b=r,A=b;t:for(;A!==null;){switch(A.tag){case 27:if(cr(A.type)){ge=A.stateNode,_n=!1;break t}break;case 5:ge=A.stateNode,_n=!1;break t;case 3:case 4:ge=A.stateNode.containerInfo,_n=!0;break t}A=A.return}if(ge===null)throw Error(i(160));Hv(p,b,g),ge=null,_n=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Yv(r,s),r=r.sibling}var mi=null;function Yv(s,r){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:vn(r,s),bn(s),u&4&&(nr(3,s,s.return),Jl(3,s),nr(5,s,s.return));break;case 1:vn(r,s),bn(s),u&512&&(Ne||l===null||Hi(l,l.return)),u&64&&ms&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=mi;if(vn(r,s),bn(s),u&512&&(Ne||l===null||Hi(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":p=g.getElementsByTagName("title")[0],(!p||p[Ii]||p[Re]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(u),g.head.insertBefore(p,g.querySelector("head > title"))),tn(p,u,l),p[Re]=s,Ce(p),u=p;break t;case"link":var b=Yb("link","href",g).get(u+(l.href||""));if(b){for(var A=0;A<b.length;A++)if(p=b[A],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(A,1);break e}}p=g.createElement(u),tn(p,u,l),g.head.appendChild(p);break;case"meta":if(b=Yb("meta","content",g).get(u+(l.content||""))){for(A=0;A<b.length;A++)if(p=b[A],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(A,1);break e}}p=g.createElement(u),tn(p,u,l),g.head.appendChild(p);break;default:throw Error(i(468,u))}p[Re]=s,Ce(p),u=p}s.stateNode=u}else Kb(g,s.type,s.stateNode);else s.stateNode=Gb(g,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?Kb(g,s.type,s.stateNode):Gb(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Dg(s,s.memoizedProps,l.memoizedProps)}break;case 27:vn(r,s),bn(s),u&512&&(Ne||l===null||Hi(l,l.return)),l!==null&&u&4&&Dg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(vn(r,s),bn(s),u&512&&(Ne||l===null||Hi(l,l.return)),s.flags&32){g=s.stateNode;try{yn(g,"")}catch(mt){Jt(s,s.return,mt)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,Dg(s,g,l!==null?l.memoizedProps:g)),u&1024&&(Ng=!0);break;case 6:if(vn(r,s),bn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(mt){Jt(s,s.return,mt)}}break;case 3:if(Dh=null,g=mi,mi=Ch(r.containerInfo),vn(r,s),mi=g,bn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Io(r.containerInfo)}catch(mt){Jt(s,s.return,mt)}Ng&&(Ng=!1,Kv(s));break;case 4:u=mi,mi=Ch(s.stateNode.containerInfo),vn(r,s),bn(s),mi=u;break;case 12:vn(r,s),bn(s);break;case 31:vn(r,s),bn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,gh(s,u)));break;case 13:vn(r,s),bn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ph=dn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,gh(s,u)));break;case 22:g=s.memoizedState!==null;var L=l!==null&&l.memoizedState!==null,G=ms,Z=Ne;if(ms=G||g,Ne=Z||L,vn(r,s),Ne=Z,ms=G,bn(s),u&8192)t:for(r=s.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||L||ms||Ne||ga(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){L=l=r;try{if(p=L.stateNode,g)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=L.stateNode;var nt=L.memoizedProps.style,K=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(mt){Jt(L,L.return,mt)}}}else if(r.tag===6){if(l===null){L=r;try{L.stateNode.nodeValue=g?"":L.memoizedProps}catch(mt){Jt(L,L.return,mt)}}}else if(r.tag===18){if(l===null){L=r;try{var W=L.stateNode;g?Pb(W,!0):Pb(L.stateNode,!1)}catch(mt){Jt(L,L.return,mt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,gh(s,l))));break;case 19:vn(r,s),bn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,gh(s,u)));break;case 30:break;case 21:break;default:vn(r,s),bn(s)}}function bn(s){var r=s.flags;if(r&2){try{for(var l,u=s.return;u!==null;){if(zv(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,p=Mg(s);dh(s,p,g);break;case 5:var b=l.stateNode;l.flags&32&&(yn(b,""),l.flags&=-33);var A=Mg(s);dh(s,A,b);break;case 3:case 4:var L=l.stateNode.containerInfo,G=Mg(s);Og(s,G,L);break;default:throw Error(i(161))}}catch(Z){Jt(s,s.return,Z)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Kv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Kv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function ys(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Bv(s,r.alternate,r),r=r.sibling}function ga(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:nr(4,r,r.return),ga(r);break;case 1:Hi(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Pv(r,r.return,l),ga(r);break;case 27:lc(r.stateNode);case 26:case 5:Hi(r,r.return),ga(r);break;case 22:r.memoizedState===null&&ga(r);break;case 30:ga(r);break;default:ga(r)}s=s.sibling}}function _s(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,g=s,p=r,b=p.flags;switch(p.tag){case 0:case 11:case 15:_s(g,p,l),Jl(4,p);break;case 1:if(_s(g,p,l),u=p,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(G){Jt(u,u.return,G)}if(u=p,g=u.updateQueue,g!==null){var A=u.stateNode;try{var L=g.shared.hiddenCallbacks;if(L!==null)for(g.shared.hiddenCallbacks=null,g=0;g<L.length;g++)A_(L[g],A)}catch(G){Jt(u,u.return,G)}}l&&b&64&&Vv(p),Zl(p,p.return);break;case 27:jv(p);case 26:case 5:_s(g,p,l),l&&u===null&&b&4&&Lv(p),Zl(p,p.return);break;case 12:_s(g,p,l);break;case 31:_s(g,p,l),l&&b&4&&qv(g,p);break;case 13:_s(g,p,l),l&&b&4&&Gv(g,p);break;case 22:p.memoizedState===null&&_s(g,p,l),Zl(p,p.return);break;case 30:break;default:_s(g,p,l)}r=r.sibling}}function kg(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&jl(l))}function Vg(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&jl(s))}function pi(s,r,l,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Qv(s,r,l,u),r=r.sibling}function Qv(s,r,l,u){var g=r.flags;switch(r.tag){case 0:case 11:case 15:pi(s,r,l,u),g&2048&&Jl(9,r);break;case 1:pi(s,r,l,u);break;case 3:pi(s,r,l,u),g&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&jl(s)));break;case 12:if(g&2048){pi(s,r,l,u),s=r.stateNode;try{var p=r.memoizedProps,b=p.id,A=p.onPostCommit;typeof A=="function"&&A(b,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){Jt(r,r.return,L)}}else pi(s,r,l,u);break;case 31:pi(s,r,l,u);break;case 13:pi(s,r,l,u);break;case 23:break;case 22:p=r.stateNode,b=r.alternate,r.memoizedState!==null?p._visibility&2?pi(s,r,l,u):tc(s,r):p._visibility&2?pi(s,r,l,u):(p._visibility|=2,_o(s,r,l,u,(r.subtreeFlags&10256)!==0||!1)),g&2048&&kg(b,r);break;case 24:pi(s,r,l,u),g&2048&&Vg(r.alternate,r);break;default:pi(s,r,l,u)}}function _o(s,r,l,u,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=s,b=r,A=l,L=u,G=b.flags;switch(b.tag){case 0:case 11:case 15:_o(p,b,A,L,g),Jl(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?_o(p,b,A,L,g):tc(p,b):(Z._visibility|=2,_o(p,b,A,L,g)),g&&G&2048&&kg(b.alternate,b);break;case 24:_o(p,b,A,L,g),g&&G&2048&&Vg(b.alternate,b);break;default:_o(p,b,A,L,g)}r=r.sibling}}function tc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,u=r,g=u.flags;switch(u.tag){case 22:tc(l,u),g&2048&&kg(u.alternate,u);break;case 24:tc(l,u),g&2048&&Vg(u.alternate,u);break;default:tc(l,u)}r=r.sibling}}var ec=8192;function vo(s,r,l){if(s.subtreeFlags&ec)for(s=s.child;s!==null;)Xv(s,r,l),s=s.sibling}function Xv(s,r,l){switch(s.tag){case 26:vo(s,r,l),s.flags&ec&&s.memoizedState!==null&&jw(l,mi,s.memoizedState,s.memoizedProps);break;case 5:vo(s,r,l);break;case 3:case 4:var u=mi;mi=Ch(s.stateNode.containerInfo),vo(s,r,l),mi=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=ec,ec=16777216,vo(s,r,l),ec=u):vo(s,r,l));break;default:vo(s,r,l)}}function Wv(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function nc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];Ke=u,Jv(u,s)}Wv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)$v(s),s=s.sibling}function $v(s){switch(s.tag){case 0:case 11:case 15:nc(s),s.flags&2048&&nr(9,s,s.return);break;case 3:nc(s);break;case 12:nc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,mh(s)):nc(s);break;default:nc(s)}}function mh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];Ke=u,Jv(u,s)}Wv(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:nr(8,r,r.return),mh(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,mh(r));break;default:mh(r)}s=s.sibling}}function Jv(s,r){for(;Ke!==null;){var l=Ke;switch(l.tag){case 0:case 11:case 15:nr(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:jl(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Ke=u;else t:for(l=s;Ke!==null;){u=Ke;var g=u.sibling,p=u.return;if(Fv(u),u===l){Ke=null;break t}if(g!==null){g.return=p,Ke=g;break t}Ke=p}}}var tw={getCacheForType:function(s){var r=Je(De),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l},cacheSignal:function(){return Je(De).controller.signal}},ew=typeof WeakMap=="function"?WeakMap:Map,Qt=0,se=null,Nt=null,Pt=0,$t=0,kn=null,ir=!1,bo=!1,Pg=!1,vs=0,ye=0,sr=0,ma=0,Lg=0,Vn=0,Eo=0,ic=null,En=null,zg=!1,ph=0,Zv=0,yh=1/0,_h=null,rr=null,Ue=0,ar=null,To=null,bs=0,jg=0,Ug=null,tb=null,sc=0,Bg=null;function Pn(){return(Qt&2)!==0&&Pt!==0?Pt&-Pt:H.T!==null?Kg():vu()}function eb(){if(Vn===0)if((Pt&536870912)===0||Bt){var s=Fr;Fr<<=1,(Fr&3932160)===0&&(Fr=262144),Vn=s}else Vn=536870912;return s=On.current,s!==null&&(s.flags|=32),Vn}function Tn(s,r,l){(s===se&&($t===2||$t===9)||s.cancelPendingCommit!==null)&&(So(s,0),or(s,Pt,Vn,!1)),Hr(s,l),((Qt&2)===0||s!==se)&&(s===se&&((Qt&2)===0&&(ma|=l),ye===4&&or(s,Pt,Vn,!1)),qi(s))}function nb(s,r,l){if((Qt&6)!==0)throw Error(i(327));var u=!l&&(r&127)===0&&(r&s.expiredLanes)===0||ai(s,r),g=u?sw(s,r):Hg(s,r,!0),p=u;do{if(g===0){bo&&!u&&or(s,r,0,!1);break}else{if(l=s.current.alternate,p&&!nw(l)){g=Hg(s,r,!1),p=!1;continue}if(g===2){if(p=r,s.errorRecoveryDisabledLanes&p)var b=0;else b=s.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;t:{var A=s;g=ic;var L=A.current.memoizedState.isDehydrated;if(L&&(So(A,b).flags|=256),b=Hg(A,b,!1),b!==2){if(Pg&&!L){A.errorRecoveryDisabledLanes|=p,ma|=p,g=4;break t}p=En,En=g,p!==null&&(En===null?En=p:En.push.apply(En,p))}g=b}if(p=!1,g!==2)continue}}if(g===1){So(s,0),or(s,r,0,!0);break}t:{switch(u=s,p=g,p){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:or(u,r,Vn,!ir);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(g=ph+300-dn(),10<g)){if(or(u,r,Vn,!ir),wi(u,0,!0)!==0)break t;bs=r,u.timeoutHandle=Nb(ib.bind(null,u,l,En,_h,zg,r,Vn,ma,Eo,ir,p,"Throttled",-0,0),g);break t}ib(u,l,En,_h,zg,r,Vn,ma,Eo,ir,p,null,-0,0)}}break}while(!0);qi(s)}function ib(s,r,l,u,g,p,b,A,L,G,Z,nt,K,W){if(s.timeoutHandle=-1,nt=r.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},Xv(r,p,nt);var mt=(p&62914560)===p?ph-dn():(p&4194048)===p?Zv-dn():0;if(mt=Uw(nt,mt),mt!==null){bs=p,s.cancelPendingCommit=mt(hb.bind(null,s,r,p,l,u,g,b,A,L,Z,nt,null,K,W)),or(s,p,b,!G);return}}hb(s,r,p,l,u,g,b,A,L)}function nw(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],p=g.getSnapshot;g=g.value;try{if(!Dn(p(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function or(s,r,l,u){r&=~Lg,r&=~ma,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var g=r;0<g;){var p=31-ve(g),b=1<<p;u[p]=-1,g&=~b}l!==0&&qr(s,l,r)}function vh(){return(Qt&6)===0?(rc(0),!1):!0}function Fg(){if(Nt!==null){if($t===0)var s=Nt.return;else s=Nt,cs=aa=null,sg(s),fo=null,Bl=0,s=Nt;for(;s!==null;)kv(s.alternate,s),s=s.return;Nt=null}}function So(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,Tw(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),bs=0,Fg(),se=s,Nt=l=os(s.current,null),Pt=r,$t=0,kn=null,ir=!1,bo=ai(s,r),Pg=!1,Eo=Vn=Lg=ma=sr=ye=0,En=ic=null,zg=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var g=31-ve(u),p=1<<g;r|=s[g],u&=~p}return vs=r,Uu(),l}function sb(s,r){Mt=null,H.H=Xl,r===ho||r===Qu?(r=b_(),$t=3):r===Yd?(r=b_(),$t=4):$t=r===bg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,kn=r,Nt===null&&(ye=1,lh(s,Kn(r,s.current)))}function rb(){var s=On.current;return s===null?!0:(Pt&4194048)===Pt?$n===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?s===$n:!1}function ab(){var s=H.H;return H.H=Xl,s===null?Xl:s}function ob(){var s=H.A;return H.A=tw,s}function bh(){ye=4,ir||(Pt&4194048)!==Pt&&On.current!==null||(bo=!0),(sr&134217727)===0&&(ma&134217727)===0||se===null||or(se,Pt,Vn,!1)}function Hg(s,r,l){var u=Qt;Qt|=2;var g=ab(),p=ob();(se!==s||Pt!==r)&&(_h=null,So(s,r)),r=!1;var b=ye;t:do try{if($t!==0&&Nt!==null){var A=Nt,L=kn;switch($t){case 8:Fg(),b=6;break t;case 3:case 2:case 9:case 6:On.current===null&&(r=!0);var G=$t;if($t=0,kn=null,Ao(s,A,L,G),l&&bo){b=0;break t}break;default:G=$t,$t=0,kn=null,Ao(s,A,L,G)}}iw(),b=ye;break}catch(Z){sb(s,Z)}while(!0);return r&&s.shellSuspendCounter++,cs=aa=null,Qt=u,H.H=g,H.A=p,Nt===null&&(se=null,Pt=0,Uu()),b}function iw(){for(;Nt!==null;)lb(Nt)}function sw(s,r){var l=Qt;Qt|=2;var u=ab(),g=ob();se!==s||Pt!==r?(_h=null,yh=dn()+500,So(s,r)):bo=ai(s,r);t:do try{if($t!==0&&Nt!==null){r=Nt;var p=kn;e:switch($t){case 1:$t=0,kn=null,Ao(s,r,p,1);break;case 2:case 9:if(__(p)){$t=0,kn=null,cb(r);break}r=function(){$t!==2&&$t!==9||se!==s||($t=7),qi(s)},p.then(r,r);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:__(p)?($t=0,kn=null,cb(r)):($t=0,kn=null,Ao(s,r,p,7));break;case 5:var b=null;switch(Nt.tag){case 26:b=Nt.memoizedState;case 5:case 27:var A=Nt;if(b?Qb(b):A.stateNode.complete){$t=0,kn=null;var L=A.sibling;if(L!==null)Nt=L;else{var G=A.return;G!==null?(Nt=G,Eh(G)):Nt=null}break e}}$t=0,kn=null,Ao(s,r,p,5);break;case 6:$t=0,kn=null,Ao(s,r,p,6);break;case 8:Fg(),ye=6;break t;default:throw Error(i(462))}}rw();break}catch(Z){sb(s,Z)}while(!0);return cs=aa=null,H.H=u,H.A=g,Qt=l,Nt!==null?0:(se=null,Pt=0,Uu(),ye)}function rw(){for(;Nt!==null&&!vd();)lb(Nt)}function lb(s){var r=Ov(s.alternate,s,vs);s.memoizedProps=s.pendingProps,r===null?Eh(s):Nt=r}function cb(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=wv(l,r,r.pendingProps,r.type,void 0,Pt);break;case 11:r=wv(l,r,r.pendingProps,r.type.render,r.ref,Pt);break;case 5:sg(r);default:kv(l,r),r=Nt=o_(r,vs),r=Ov(l,r,vs)}s.memoizedProps=s.pendingProps,r===null?Eh(s):Nt=r}function Ao(s,r,l,u){cs=aa=null,sg(r),fo=null,Bl=0;var g=r.return;try{if(K1(s,g,r,l,Pt)){ye=1,lh(s,Kn(l,s.current)),Nt=null;return}}catch(p){if(g!==null)throw Nt=g,p;ye=1,lh(s,Kn(l,s.current)),Nt=null;return}r.flags&32768?(Bt||u===1?s=!0:bo||(Pt&536870912)!==0?s=!1:(ir=s=!0,(u===2||u===9||u===3||u===6)&&(u=On.current,u!==null&&u.tag===13&&(u.flags|=16384))),ub(r,s)):Eh(r)}function Eh(s){var r=s;do{if((r.flags&32768)!==0){ub(r,ir);return}s=r.return;var l=W1(r.alternate,r,vs);if(l!==null){Nt=l;return}if(r=r.sibling,r!==null){Nt=r;return}Nt=r=s}while(r!==null);ye===0&&(ye=5)}function ub(s,r){do{var l=$1(s.alternate,s);if(l!==null){l.flags&=32767,Nt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){Nt=s;return}Nt=s=l}while(s!==null);ye=6,Nt=null}function hb(s,r,l,u,g,p,b,A,L){s.cancelPendingCommit=null;do Th();while(Ue!==0);if((Qt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(p=r.lanes|r.childLanes,p|=Md,Td(s,l,p,b,A,L),s===se&&(Nt=se=null,Pt=0),To=r,ar=s,bs=l,jg=p,Ug=g,tb=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,cw(Ls,function(){return pb(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,g=st.p,st.p=2,b=Qt,Qt|=4;try{J1(s,r,l)}finally{Qt=b,st.p=g,H.T=u}}Ue=1,fb(),db(),gb()}}function fb(){if(Ue===1){Ue=0;var s=ar,r=To,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var u=st.p;st.p=2;var g=Qt;Qt|=4;try{Yv(r,s);var p=em,b=Jy(s.containerInfo),A=p.focusedElem,L=p.selectionRange;if(b!==A&&A&&A.ownerDocument&&$y(A.ownerDocument.documentElement,A)){if(L!==null&&wd(A)){var G=L.start,Z=L.end;if(Z===void 0&&(Z=G),"selectionStart"in A)A.selectionStart=G,A.selectionEnd=Math.min(Z,A.value.length);else{var nt=A.ownerDocument||document,K=nt&&nt.defaultView||window;if(K.getSelection){var W=K.getSelection(),mt=A.textContent.length,At=Math.min(L.start,mt),ie=L.end===void 0?At:Math.min(L.end,mt);!W.extend&&At>ie&&(b=ie,ie=At,At=b);var B=Wy(A,At),U=Wy(A,ie);if(B&&U&&(W.rangeCount!==1||W.anchorNode!==B.node||W.anchorOffset!==B.offset||W.focusNode!==U.node||W.focusOffset!==U.offset)){var q=nt.createRange();q.setStart(B.node,B.offset),W.removeAllRanges(),At>ie?(W.addRange(q),W.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),W.addRange(q))}}}}for(nt=[],W=A;W=W.parentNode;)W.nodeType===1&&nt.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<nt.length;A++){var tt=nt[A];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}kh=!!tm,em=tm=null}finally{Qt=g,st.p=u,H.T=l}}s.current=r,Ue=2}}function db(){if(Ue===2){Ue=0;var s=ar,r=To,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var u=st.p;st.p=2;var g=Qt;Qt|=4;try{Bv(s,r.alternate,r)}finally{Qt=g,st.p=u,H.T=l}}Ue=3}}function gb(){if(Ue===4||Ue===3){Ue=0,fu();var s=ar,r=To,l=bs,u=tb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ue=5:(Ue=0,To=ar=null,mb(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(rr=null),is(l),r=r.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(ri,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=H.T,g=st.p,st.p=2,H.T=null;try{for(var p=s.onRecoverableError,b=0;b<u.length;b++){var A=u[b];p(A.value,{componentStack:A.stack})}}finally{H.T=r,st.p=g}}(bs&3)!==0&&Th(),qi(s),g=s.pendingLanes,(l&261930)!==0&&(g&42)!==0?s===Bg?sc++:(sc=0,Bg=s):sc=0,rc(0)}}function mb(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,jl(r)))}function Th(){return fb(),db(),gb(),pb()}function pb(){if(Ue!==5)return!1;var s=ar,r=jg;jg=0;var l=is(bs),u=H.T,g=st.p;try{st.p=32>l?32:l,H.T=null,l=Ug,Ug=null;var p=ar,b=bs;if(Ue=0,To=ar=null,bs=0,(Qt&6)!==0)throw Error(i(331));var A=Qt;if(Qt|=4,$v(p.current),Qv(p,p.current,b,l),Qt=A,rc(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(ri,p)}catch{}return!0}finally{st.p=g,H.T=u,mb(s,r)}}function yb(s,r,l){r=Kn(l,r),r=vg(s.stateNode,r,2),s=Zs(s,r,2),s!==null&&(Hr(s,2),qi(s))}function Jt(s,r,l){if(s.tag===3)yb(s,s,l);else for(;r!==null;){if(r.tag===3){yb(r,s,l);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(rr===null||!rr.has(u))){s=Kn(l,s),l=_v(2),u=Zs(r,l,2),u!==null&&(vv(l,u,r,s),Hr(u,2),qi(u));break}}r=r.return}}function qg(s,r,l){var u=s.pingCache;if(u===null){u=s.pingCache=new ew;var g=new Set;u.set(r,g)}else g=u.get(r),g===void 0&&(g=new Set,u.set(r,g));g.has(l)||(Pg=!0,g.add(l),s=aw.bind(null,s,r,l),r.then(s,s))}function aw(s,r,l){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,se===s&&(Pt&l)===l&&(ye===4||ye===3&&(Pt&62914560)===Pt&&300>dn()-ph?(Qt&2)===0&&So(s,0):Lg|=l,Eo===Pt&&(Eo=0)),qi(s)}function _b(s,r){r===0&&(r=_u()),s=ia(s,r),s!==null&&(Hr(s,r),qi(s))}function ow(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),_b(s,l)}function lw(s,r){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),_b(s,l)}function cw(s,r){return je(s,r)}var Sh=null,xo=null,Gg=!1,Ah=!1,Yg=!1,lr=0;function qi(s){s!==xo&&s.next===null&&(xo===null?Sh=xo=s:xo=xo.next=s),Ah=!0,Gg||(Gg=!0,hw())}function rc(s,r){if(!Yg&&Ah){Yg=!0;do for(var l=!1,u=Sh;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var p=0;else{var b=u.suspendedLanes,A=u.pingedLanes;p=(1<<31-ve(42|s)+1)-1,p&=g&~(b&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Tb(u,p))}else p=Pt,p=wi(u,u===se?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ai(u,p)||(l=!0,Tb(u,p));u=u.next}while(l);Yg=!1}}function uw(){vb()}function vb(){Ah=Gg=!1;var s=0;lr!==0&&Ew()&&(s=lr);for(var r=dn(),l=null,u=Sh;u!==null;){var g=u.next,p=bb(u,r);p===0?(u.next=null,l===null?Sh=g:l.next=g,g===null&&(xo=l)):(l=u,(s!==0||(p&3)!==0)&&(Ah=!0)),u=g}Ue!==0&&Ue!==5||rc(s),lr!==0&&(lr=0)}function bb(s,r){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var b=31-ve(p),A=1<<b,L=g[b];L===-1?((A&l)===0||(A&u)!==0)&&(g[b]=Ed(A,r)):L<=r&&(s.expiredLanes|=A),p&=~A}if(r=se,l=Pt,l=wi(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===r&&($t===2||$t===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Ps(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ai(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(u!==null&&Ps(u),is(l)){case 2:case 8:l=ml;break;case 32:l=Ls;break;case 268435456:l=du;break;default:l=Ls}return u=Eb.bind(null,s),l=je(l,u),s.callbackPriority=r,s.callbackNode=l,r}return u!==null&&u!==null&&Ps(u),s.callbackPriority=2,s.callbackNode=null,2}function Eb(s,r){if(Ue!==0&&Ue!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Th()&&s.callbackNode!==l)return null;var u=Pt;return u=wi(s,s===se?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(nb(s,u,r),bb(s,dn()),s.callbackNode!=null&&s.callbackNode===l?Eb.bind(null,s):null)}function Tb(s,r){if(Th())return null;nb(s,r,!0)}function hw(){Sw(function(){(Qt&6)!==0?je(gl,uw):vb()})}function Kg(){if(lr===0){var s=co;s===0&&(s=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),lr=s}return lr}function Sb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Qa(""+s)}function Ab(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function fw(s,r,l,u,g){if(r==="submit"&&l&&l.stateNode===g){var p=Sb((g[Ge]||null).action),b=u.submitter;b&&(r=(r=b[Ge]||null)?Sb(r.formAction):b.getAttribute("formAction"),r!==null&&(p=r,b=null));var A=new Li("action","action",null,u,g);s.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(lr!==0){var L=b?Ab(g,b):new FormData(g);dg(l,{pending:!0,data:L,method:g.method,action:p},null,L)}}else typeof p=="function"&&(A.preventDefault(),L=b?Ab(g,b):new FormData(g),dg(l,{pending:!0,data:L,method:g.method,action:p},p,L))},currentTarget:g}]})}}for(var Qg=0;Qg<Dd.length;Qg++){var Xg=Dd[Qg],dw=Xg.toLowerCase(),gw=Xg[0].toUpperCase()+Xg.slice(1);gi(dw,"on"+gw)}gi(e_,"onAnimationEnd"),gi(n_,"onAnimationIteration"),gi(i_,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(D1,"onTransitionRun"),gi(M1,"onTransitionStart"),gi(O1,"onTransitionCancel"),gi(s_,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ac));function xb(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;t:{var p=void 0;if(r)for(var b=u.length-1;0<=b;b--){var A=u[b],L=A.instance,G=A.currentTarget;if(A=A.listener,L!==p&&g.isPropagationStopped())break t;p=A,g.currentTarget=G;try{p(g)}catch(Z){ju(Z)}g.currentTarget=null,p=L}else for(b=0;b<u.length;b++){if(A=u[b],L=A.instance,G=A.currentTarget,A=A.listener,L!==p&&g.isPropagationStopped())break t;p=A,g.currentTarget=G;try{p(g)}catch(Z){ju(Z)}g.currentTarget=null,p=L}}}}function kt(s,r){var l=r[Ha];l===void 0&&(l=r[Ha]=new Set);var u=s+"__bubble";l.has(u)||(wb(r,s,2,!1),l.add(u))}function Wg(s,r,l){var u=0;r&&(u|=4),wb(l,s,u,r)}var xh="_reactListening"+Math.random().toString(36).slice(2);function $g(s){if(!s[xh]){s[xh]=!0,_l.forEach(function(l){l!=="selectionchange"&&(mw.has(l)||Wg(l,!1,s),Wg(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[xh]||(r[xh]=!0,Wg("selectionchange",!1,r))}}function wb(s,r,l,u){switch(e0(r)){case 2:var g=Hw;break;case 8:g=qw;break;default:g=fm}l=g.bind(null,r,l,s),g=void 0,!Xr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(r,l,{capture:!0,passive:g}):s.addEventListener(r,l,!0):g!==void 0?s.addEventListener(r,l,{passive:g}):s.addEventListener(r,l,!1)}function Jg(s,r,l,u,g){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var A=u.stateNode.containerInfo;if(A===g)break;if(b===4)for(b=u.return;b!==null;){var L=b.tag;if((L===3||L===4)&&b.stateNode.containerInfo===g)return;b=b.return}for(;A!==null;){if(b=Di(A),b===null)return;if(L=b.tag,L===5||L===6||L===26||L===27){u=p=b;continue t}A=A.parentNode}}u=u.return}Hs(function(){var G=p,Z=Hn(l),nt=[];t:{var K=r_.get(s);if(K!==void 0){var W=Li,mt=s;switch(s){case"keypress":if($r(l)===0)break t;case"keydown":case"keyup":W=Pu;break;case"focusin":mt="focus",W=Zr;break;case"focusout":mt="blur",W=Zr;break;case"beforeblur":case"afterblur":W=Zr;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=v;break;case e_:case n_:case i_:W=Iu;break;case s_:W=w;break;case"scroll":case"scrollend":W=Dl;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=as;break;case"toggle":case"beforetoggle":W=Dt}var At=(r&4)!==0,ie=!At&&(s==="scroll"||s==="scrollend"),B=At?K!==null?K+"Capture":null:K;At=[];for(var U=G,q;U!==null;){var tt=U;if(q=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||q===null||B===null||(tt=ui(U,B),tt!=null&&At.push(oc(U,tt,q))),ie)break;U=U.return}0<At.length&&(K=new W(K,mt,null,l,Z),nt.push({event:K,listeners:At}))}}if((r&7)===0){t:{if(K=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",K&&l!==Rl&&(mt=l.relatedTarget||l.fromElement)&&(Di(mt)||mt[Ci]))break t;if((W||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,W?(mt=l.relatedTarget||l.toElement,W=G,mt=mt?Di(mt):null,mt!==null&&(ie=o(mt),At=mt.tag,mt!==ie||At!==5&&At!==27&&At!==6)&&(mt=null)):(W=null,mt=G),W!==mt)){if(At=Ml,tt="onMouseLeave",B="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(At=as,tt="onPointerLeave",B="onPointerEnter",U="pointer"),ie=W==null?K:Cn(W),q=mt==null?K:Cn(mt),K=new At(tt,U+"leave",W,l,Z),K.target=ie,K.relatedTarget=q,tt=null,Di(Z)===G&&(At=new At(B,U+"enter",mt,l,Z),At.target=q,At.relatedTarget=ie,tt=At),ie=tt,W&&mt)e:{for(At=pw,B=W,U=mt,q=0,tt=B;tt;tt=At(tt))q++;tt=0;for(var bt=U;bt;bt=At(bt))tt++;for(;0<q-tt;)B=At(B),q--;for(;0<tt-q;)U=At(U),tt--;for(;q--;){if(B===U||U!==null&&B===U.alternate){At=B;break e}B=At(B),U=At(U)}At=null}else At=null;W!==null&&Rb(nt,K,W,At,!1),mt!==null&&ie!==null&&Rb(nt,ie,mt,At,!0)}}t:{if(K=G?Cn(G):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var Gt=qy;else if(Fy(K))if(Gy)Gt=R1;else{Gt=x1;var yt=A1}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&Ka(G.elementType)&&(Gt=qy):Gt=w1;if(Gt&&(Gt=Gt(s,G))){Hy(nt,Gt,l,Z);break t}yt&&yt(s,K,G),s==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Al(K,"number",K.value)}switch(yt=G?Cn(G):window,s){case"focusin":(Fy(yt)||yt.contentEditable==="true")&&(eo=yt,Rd=G,Pl=null);break;case"focusout":Pl=Rd=eo=null;break;case"mousedown":Cd=!0;break;case"contextmenu":case"mouseup":case"dragend":Cd=!1,Zy(nt,l,Z);break;case"selectionchange":if(I1)break;case"keydown":case"keyup":Zy(nt,l,Z)}var Ot;if(Kt)t:{switch(s){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else to?ta(s,l)&&(Lt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Lt="onCompositionStart");Lt&&(Ui&&l.locale!=="ko"&&(to||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&to&&(Ot=Il()):(Pi=Z,Cl="value"in Pi?Pi.value:Pi.textContent,to=!0)),yt=wh(G,Lt),0<yt.length&&(Lt=new ji(Lt,s,null,l,Z),nt.push({event:Lt,listeners:yt}),Ot?Lt.data=Ot:(Ot=Za(l),Ot!==null&&(Lt.data=Ot)))),(Ot=Gn?b1(s,l):E1(s,l))&&(Lt=wh(G,"onBeforeInput"),0<Lt.length&&(yt=new ji("onBeforeInput","beforeinput",null,l,Z),nt.push({event:yt,listeners:Lt}),yt.data=Ot)),fw(nt,s,G,l,Z)}xb(nt,r)})}function oc(s,r,l){return{instance:s,listener:r,currentTarget:l}}function wh(s,r){for(var l=r+"Capture",u=[];s!==null;){var g=s,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=ui(s,l),g!=null&&u.unshift(oc(s,g,p)),g=ui(s,r),g!=null&&u.push(oc(s,g,p))),s.tag===3)return u;s=s.return}return[]}function pw(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Rb(s,r,l,u,g){for(var p=r._reactName,b=[];l!==null&&l!==u;){var A=l,L=A.alternate,G=A.stateNode;if(A=A.tag,L!==null&&L===u)break;A!==5&&A!==26&&A!==27||G===null||(L=G,g?(G=ui(l,p),G!=null&&b.unshift(oc(l,G,L))):g||(G=ui(l,p),G!=null&&b.push(oc(l,G,L)))),l=l.return}b.length!==0&&s.push({event:r,listeners:b})}var yw=/\r\n?/g,_w=/\u0000|\uFFFD/g;function Cb(s){return(typeof s=="string"?s:""+s).replace(yw,`
`).replace(_w,"")}function Ib(s,r){return r=Cb(r),Cb(s)===r}function ne(s,r,l,u,g,p){switch(l){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||yn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&yn(s,""+u);break;case"className":In(s,"class",u);break;case"tabIndex":In(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":In(s,l,u);break;case"style":wl(s,u,p);break;case"data":if(r!=="object"){In(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Qa(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(r!=="input"&&ne(s,r,"name",g.name,g,null),ne(s,r,"formEncType",g.formEncType,g,null),ne(s,r,"formMethod",g.formMethod,g,null),ne(s,r,"formTarget",g.formTarget,g,null)):(ne(s,r,"encType",g.encType,g,null),ne(s,r,"method",g.method,g,null),ne(s,r,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Qa(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=ci);break;case"onScroll":u!=null&&kt("scroll",s);break;case"onScrollEnd":u!=null&&kt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=Qa(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":kt("beforetoggle",s),kt("toggle",s),Ga(s,"popover",u);break;case"xlinkActuate":Ie(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ie(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ie(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ie(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ie(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ie(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ga(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=wu.get(l)||l,Ga(s,l,u))}}function Zg(s,r,l,u,g,p){switch(l){case"style":wl(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?yn(s,u):(typeof u=="number"||typeof u=="bigint")&&yn(s,""+u);break;case"onScroll":u!=null&&kt("scroll",s);break;case"onScrollEnd":u!=null&&kt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vl.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),p=s[Ge]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(r,p,g),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,u,g);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Ga(s,l,u)}}}function tn(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",s),kt("load",s);var u=!1,g=!1,p;for(p in l)if(l.hasOwnProperty(p)){var b=l[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ne(s,r,p,b,l,null)}}g&&ne(s,r,"srcSet",l.srcSet,l,null),u&&ne(s,r,"src",l.src,l,null);return;case"input":kt("invalid",s);var A=p=b=g=null,L=null,G=null;for(u in l)if(l.hasOwnProperty(u)){var Z=l[u];if(Z!=null)switch(u){case"name":g=Z;break;case"type":b=Z;break;case"checked":L=Z;break;case"defaultChecked":G=Z;break;case"value":p=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,r));break;default:ne(s,r,u,Z,l,null)}}Su(s,p,A,L,G,b,g,!1);return;case"select":kt("invalid",s),u=b=p=null;for(g in l)if(l.hasOwnProperty(g)&&(A=l[g],A!=null))switch(g){case"value":p=A;break;case"defaultValue":b=A;break;case"multiple":u=A;default:ne(s,r,g,A,l,null)}r=p,l=b,s.multiple=!!u,r!=null?js(s,!!u,r,!1):l!=null&&js(s,!!u,l,!0);return;case"textarea":kt("invalid",s),p=g=u=null;for(b in l)if(l.hasOwnProperty(b)&&(A=l[b],A!=null))switch(b){case"value":u=A;break;case"defaultValue":g=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ne(s,r,b,A,l,null)}Us(s,u,g,p);return;case"option":for(L in l)l.hasOwnProperty(L)&&(u=l[L],u!=null)&&(L==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":ne(s,r,L,u,l,null));return;case"dialog":kt("beforetoggle",s),kt("toggle",s),kt("cancel",s),kt("close",s);break;case"iframe":case"object":kt("load",s);break;case"video":case"audio":for(u=0;u<ac.length;u++)kt(ac[u],s);break;case"image":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"embed":case"source":case"link":kt("error",s),kt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(u=l[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ne(s,r,G,u,l,null)}return;default:if(Ka(r)){for(Z in l)l.hasOwnProperty(Z)&&(u=l[Z],u!==void 0&&Zg(s,r,Z,u,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(u=l[A],u!=null&&ne(s,r,A,u,l,null))}function vw(s,r,l,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,b=null,A=null,L=null,G=null,Z=null;for(W in l){var nt=l[W];if(l.hasOwnProperty(W)&&nt!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":L=nt;default:u.hasOwnProperty(W)||ne(s,r,W,null,u,nt)}}for(var K in u){var W=u[K];if(nt=l[K],u.hasOwnProperty(K)&&(W!=null||nt!=null))switch(K){case"type":p=W;break;case"name":g=W;break;case"checked":G=W;break;case"defaultChecked":Z=W;break;case"value":b=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:W!==nt&&ne(s,r,K,W,u,nt)}}Ya(s,b,A,L,G,Z,p,g);return;case"select":W=b=A=K=null;for(p in l)if(L=l[p],l.hasOwnProperty(p)&&L!=null)switch(p){case"value":break;case"multiple":W=L;default:u.hasOwnProperty(p)||ne(s,r,p,null,u,L)}for(g in u)if(p=u[g],L=l[g],u.hasOwnProperty(g)&&(p!=null||L!=null))switch(g){case"value":K=p;break;case"defaultValue":A=p;break;case"multiple":b=p;default:p!==L&&ne(s,r,g,p,u,L)}r=A,l=b,u=W,K!=null?js(s,!!l,K,!1):!!u!=!!l&&(r!=null?js(s,!!l,r,!0):js(s,!!l,l?[]:"",!1));return;case"textarea":W=K=null;for(A in l)if(g=l[A],l.hasOwnProperty(A)&&g!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ne(s,r,A,null,u,g)}for(b in u)if(g=u[b],p=l[b],u.hasOwnProperty(b)&&(g!=null||p!=null))switch(b){case"value":K=g;break;case"defaultValue":W=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==p&&ne(s,r,b,g,u,p)}Au(s,K,W);return;case"option":for(var mt in l)K=l[mt],l.hasOwnProperty(mt)&&K!=null&&!u.hasOwnProperty(mt)&&(mt==="selected"?s.selected=!1:ne(s,r,mt,null,u,K));for(L in u)K=u[L],W=l[L],u.hasOwnProperty(L)&&K!==W&&(K!=null||W!=null)&&(L==="selected"?s.selected=K&&typeof K!="function"&&typeof K!="symbol":ne(s,r,L,K,u,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in l)K=l[At],l.hasOwnProperty(At)&&K!=null&&!u.hasOwnProperty(At)&&ne(s,r,At,null,u,K);for(G in u)if(K=u[G],W=l[G],u.hasOwnProperty(G)&&K!==W&&(K!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,r));break;default:ne(s,r,G,K,u,W)}return;default:if(Ka(r)){for(var ie in l)K=l[ie],l.hasOwnProperty(ie)&&K!==void 0&&!u.hasOwnProperty(ie)&&Zg(s,r,ie,void 0,u,K);for(Z in u)K=u[Z],W=l[Z],!u.hasOwnProperty(Z)||K===W||K===void 0&&W===void 0||Zg(s,r,Z,K,u,W);return}}for(var B in l)K=l[B],l.hasOwnProperty(B)&&K!=null&&!u.hasOwnProperty(B)&&ne(s,r,B,null,u,K);for(nt in u)K=u[nt],W=l[nt],!u.hasOwnProperty(nt)||K===W||K==null&&W==null||ne(s,r,nt,K,u,W)}function Db(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bw(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],p=g.transferSize,b=g.initiatorType,A=g.duration;if(p&&A&&Db(b)){for(b=0,A=g.responseEnd,u+=1;u<l.length;u++){var L=l[u],G=L.startTime;if(G>A)break;var Z=L.transferSize,nt=L.initiatorType;Z&&Db(nt)&&(L=L.responseEnd,b+=Z*(L<A?1:(A-G)/(L-G)))}if(--u,r+=8*(p+b)/(g.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var tm=null,em=null;function Rh(s){return s.nodeType===9?s:s.ownerDocument}function Mb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ob(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function nm(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var im=null;function Ew(){var s=window.event;return s&&s.type==="popstate"?s===im?!1:(im=s,!0):(im=null,!1)}var Nb=typeof setTimeout=="function"?setTimeout:void 0,Tw=typeof clearTimeout=="function"?clearTimeout:void 0,kb=typeof Promise=="function"?Promise:void 0,Sw=typeof queueMicrotask=="function"?queueMicrotask:typeof kb<"u"?function(s){return kb.resolve(null).then(s).catch(Aw)}:Nb;function Aw(s){setTimeout(function(){throw s})}function cr(s){return s==="head"}function Vb(s,r){var l=r,u=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(g),Io(r);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")lc(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,lc(l);for(var p=l.firstChild;p;){var b=p.nextSibling,A=p.nodeName;p[Ii]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=b}}else l==="body"&&lc(s.ownerDocument.body);l=g}while(l);Io(r)}function Pb(s,r){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function sm(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":sm(l),qa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function xw(s,r,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Ii])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=Jn(s.nextSibling),s===null)break}return null}function ww(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Jn(s.nextSibling),s===null))return null;return s}function Lb(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=Jn(s.nextSibling),s===null))return null;return s}function rm(s){return s.data==="$?"||s.data==="$~"}function am(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function Rw(s,r){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||l.readyState!=="loading")r();else{var u=function(){r(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Jn(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var om=null;function zb(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(r===0)return Jn(s.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}s=s.nextSibling}return null}function jb(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return s;r--}else l!=="/$"&&l!=="/&"||r++}s=s.previousSibling}return null}function Ub(s,r,l){switch(r=Rh(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function lc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);qa(s)}var Zn=new Map,Bb=new Set;function Ch(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Es=st.d;st.d={f:Cw,r:Iw,D:Dw,C:Mw,L:Ow,m:Nw,X:Vw,S:kw,M:Pw};function Cw(){var s=Es.f(),r=vh();return s||r}function Iw(s){var r=Fn(s);r!==null&&r.tag===5&&r.type==="form"?sv(r):Es.r(s)}var wo=typeof document>"u"?null:document;function Fb(s,r,l){var u=wo;if(u&&typeof r=="string"&&r){var g=pn(r);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Bb.has(g)||(Bb.add(g),s={rel:s,crossOrigin:l,href:r},u.querySelector(g)===null&&(r=u.createElement("link"),tn(r,"link",s),Ce(r),u.head.appendChild(r)))}}function Dw(s){Es.D(s),Fb("dns-prefetch",s,null)}function Mw(s,r){Es.C(s,r),Fb("preconnect",s,r)}function Ow(s,r,l){Es.L(s,r,l);var u=wo;if(u&&s&&r){var g='link[rel="preload"][as="'+pn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+pn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+pn(l.imageSizes)+'"]')):g+='[href="'+pn(s)+'"]';var p=g;switch(r){case"style":p=Ro(s);break;case"script":p=Co(s)}Zn.has(p)||(s=_({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),Zn.set(p,s),u.querySelector(g)!==null||r==="style"&&u.querySelector(cc(p))||r==="script"&&u.querySelector(uc(p))||(r=u.createElement("link"),tn(r,"link",s),Ce(r),u.head.appendChild(r)))}}function Nw(s,r){Es.m(s,r);var l=wo;if(l&&s){var u=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+pn(u)+'"][href="'+pn(s)+'"]',p=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Co(s)}if(!Zn.has(p)&&(s=_({rel:"modulepreload",href:s},r),Zn.set(p,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(uc(p)))return}u=l.createElement("link"),tn(u,"link",s),Ce(u),l.head.appendChild(u)}}}function kw(s,r,l){Es.S(s,r,l);var u=wo;if(u&&s){var g=Mi(u).hoistableStyles,p=Ro(s);r=r||"default";var b=g.get(p);if(!b){var A={loading:0,preload:null};if(b=u.querySelector(cc(p)))A.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":r},l),(l=Zn.get(p))&&lm(s,l);var L=b=u.createElement("link");Ce(L),tn(L,"link",s),L._p=new Promise(function(G,Z){L.onload=G,L.onerror=Z}),L.addEventListener("load",function(){A.loading|=1}),L.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Ih(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:A},g.set(p,b)}}}function Vw(s,r){Es.X(s,r);var l=wo;if(l&&s){var u=Mi(l).hoistableScripts,g=Co(s),p=u.get(g);p||(p=l.querySelector(uc(g)),p||(s=_({src:s,async:!0},r),(r=Zn.get(g))&&cm(s,r),p=l.createElement("script"),Ce(p),tn(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function Pw(s,r){Es.M(s,r);var l=wo;if(l&&s){var u=Mi(l).hoistableScripts,g=Co(s),p=u.get(g);p||(p=l.querySelector(uc(g)),p||(s=_({src:s,async:!0,type:"module"},r),(r=Zn.get(g))&&cm(s,r),p=l.createElement("script"),Ce(p),tn(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function Hb(s,r,l,u){var g=(g=St.current)?Ch(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Ro(l.href),l=Mi(g).hoistableStyles,u=l.get(r),u||(u={type:"style",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Ro(l.href);var p=Mi(g).hoistableStyles,b=p.get(s);if(b||(g=g.ownerDocument||g,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,b),(p=g.querySelector(cc(s)))&&!p._p&&(b.instance=p,b.state.loading=5),Zn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Zn.set(s,l),p||Lw(g,s,l,b.state))),r&&u===null)throw Error(i(528,""));return b}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Co(l),l=Mi(g).hoistableScripts,u=l.get(r),u||(u={type:"script",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Ro(s){return'href="'+pn(s)+'"'}function cc(s){return'link[rel="stylesheet"]['+s+"]"}function qb(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function Lw(s,r,l,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),tn(r,"link",l),Ce(r),s.head.appendChild(r))}function Co(s){return'[src="'+pn(s)+'"]'}function uc(s){return"script[async]"+s}function Gb(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+pn(l.href)+'"]');if(u)return r.instance=u,Ce(u),u;var g=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ce(u),tn(u,"style",g),Ih(u,l.precedence,s),r.instance=u;case"stylesheet":g=Ro(l.href);var p=s.querySelector(cc(g));if(p)return r.state.loading|=4,r.instance=p,Ce(p),p;u=qb(l),(g=Zn.get(g))&&lm(u,g),p=(s.ownerDocument||s).createElement("link"),Ce(p);var b=p;return b._p=new Promise(function(A,L){b.onload=A,b.onerror=L}),tn(p,"link",u),r.state.loading|=4,Ih(p,l.precedence,s),r.instance=p;case"script":return p=Co(l.src),(g=s.querySelector(uc(p)))?(r.instance=g,Ce(g),g):(u=l,(g=Zn.get(p))&&(u=_({},l),cm(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),Ce(g),tn(g,"link",u),s.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Ih(u,l.precedence,s));return r.instance}function Ih(s,r,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,p=g,b=0;b<u.length;b++){var A=u[b];if(A.dataset.precedence===r)p=A;else if(p!==g)break}p?p.parentNode.insertBefore(s,p.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function lm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function cm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Dh=null;function Yb(s,r,l){if(Dh===null){var u=new Map,g=Dh=new Map;g.set(l,u)}else g=Dh,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var p=l[g];if(!(p[Ii]||p[Re]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(r)||"";b=s+b;var A=u.get(b);A?A.push(p):u.set(b,[p])}}return u}function Kb(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function zw(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Qb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function jw(s,r,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Ro(u.href),p=r.querySelector(cc(g));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=Mh.bind(s),r.then(s,s)),l.state.loading|=4,l.instance=p,Ce(p);return}p=r.ownerDocument||r,u=qb(u),(g=Zn.get(g))&&lm(u,g),p=p.createElement("link"),Ce(p);var b=p;b._p=new Promise(function(A,L){b.onload=A,b.onerror=L}),tn(p,"link",u),l.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Mh.bind(s),r.addEventListener("load",l),r.addEventListener("error",l))}}var um=0;function Uw(s,r){return s.stylesheets&&s.count===0&&Nh(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&Nh(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+r);0<s.imgBytes&&um===0&&(um=62500*bw());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Nh(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>um?50:800)+r);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Mh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Oh=null;function Nh(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Oh=new Map,r.forEach(Bw,s),Oh=null,Mh.call(s))}function Bw(s,r){if(!(r.state.loading&4)){var l=Oh.get(s);if(l)var u=l.get(null);else{l=new Map,Oh.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var b=g[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),u=b)}u&&l.set(null,u)}g=r.instance,b=g.getAttribute("data-precedence"),p=l.get(b)||u,p===u&&l.set(null,g),l.set(b,g),this.count++,u=Mh.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),p?p.parentNode.insertBefore(g,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),r.state.loading|=4}}var hc={$$typeof:$,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function Fw(s,r,l,u,g,p,b,A,L){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Xb(s,r,l,u,g,p,b,A,L,G,Z,nt){return s=new Fw(s,r,l,b,L,G,Z,nt,A),r=1,p===!0&&(r|=24),p=Mn(3,null,null,r),s.current=p,p.stateNode=s,r=Hd(),r.refCount++,s.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:r},Kd(p),s}function Wb(s){return s?(s=so,s):so}function $b(s,r,l,u,g,p){g=Wb(g),u.context===null?u.context=g:u.pendingContext=g,u=Js(r),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=Zs(s,u,r),l!==null&&(Tn(l,s,r),Hl(l,s,r))}function Jb(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function hm(s,r){Jb(s,r),(s=s.alternate)&&Jb(s,r)}function Zb(s){if(s.tag===13||s.tag===31){var r=ia(s,67108864);r!==null&&Tn(r,s,67108864),hm(s,67108864)}}function t0(s){if(s.tag===13||s.tag===31){var r=Pn();r=Gr(r);var l=ia(s,r);l!==null&&Tn(l,s,r),hm(s,r)}}var kh=!0;function Hw(s,r,l,u){var g=H.T;H.T=null;var p=st.p;try{st.p=2,fm(s,r,l,u)}finally{st.p=p,H.T=g}}function qw(s,r,l,u){var g=H.T;H.T=null;var p=st.p;try{st.p=8,fm(s,r,l,u)}finally{st.p=p,H.T=g}}function fm(s,r,l,u){if(kh){var g=dm(u);if(g===null)Jg(s,r,u,Vh,l),n0(s,u);else if(Yw(g,s,r,l,u))u.stopPropagation();else if(n0(s,u),r&4&&-1<Gw.indexOf(s)){for(;g!==null;){var p=Fn(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=xi(p.pendingLanes);if(b!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var L=1<<31-ve(b);A.entanglements[1]|=L,b&=~L}qi(p),(Qt&6)===0&&(yh=dn()+500,rc(0))}}break;case 31:case 13:A=ia(p,2),A!==null&&Tn(A,p,2),vh(),hm(p,2)}if(p=dm(u),p===null&&Jg(s,r,u,Vh,l),p===g)break;g=p}g!==null&&u.stopPropagation()}else Jg(s,r,u,null,l)}}function dm(s){return s=Hn(s),gm(s)}var Vh=null;function gm(s){if(Vh=null,s=Di(s),s!==null){var r=o(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=c(r),s!==null)return s;s=null}else if(l===31){if(s=h(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Vh=s,null}function e0(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Br()){case gl:return 2;case ml:return 8;case Ls:case bd:return 32;case du:return 268435456;default:return 32}default:return 32}}var mm=!1,ur=null,hr=null,fr=null,fc=new Map,dc=new Map,dr=[],Gw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n0(s,r){switch(s){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":fc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":dc.delete(r.pointerId)}}function gc(s,r,l,u,g,p){return s===null||s.nativeEvent!==p?(s={blockedOn:r,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[g]},r!==null&&(r=Fn(r),r!==null&&Zb(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),s)}function Yw(s,r,l,u,g){switch(r){case"focusin":return ur=gc(ur,s,r,l,u,g),!0;case"dragenter":return hr=gc(hr,s,r,l,u,g),!0;case"mouseover":return fr=gc(fr,s,r,l,u,g),!0;case"pointerover":var p=g.pointerId;return fc.set(p,gc(fc.get(p)||null,s,r,l,u,g)),!0;case"gotpointercapture":return p=g.pointerId,dc.set(p,gc(dc.get(p)||null,s,r,l,u,g)),!0}return!1}function i0(s){var r=Di(s.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){s.blockedOn=r,oi(s.priority,function(){t0(l)});return}}else if(r===31){if(r=h(l),r!==null){s.blockedOn=r,oi(s.priority,function(){t0(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ph(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=dm(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Rl=u,l.target.dispatchEvent(u),Rl=null}else return r=Fn(l),r!==null&&Zb(r),s.blockedOn=l,!1;r.shift()}return!0}function s0(s,r,l){Ph(s)&&l.delete(r)}function Kw(){mm=!1,ur!==null&&Ph(ur)&&(ur=null),hr!==null&&Ph(hr)&&(hr=null),fr!==null&&Ph(fr)&&(fr=null),fc.forEach(s0),dc.forEach(s0)}function Lh(s,r){s.blockedOn===r&&(s.blockedOn=null,mm||(mm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Kw)))}var zh=null;function r0(s){zh!==s&&(zh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){zh===s&&(zh=null);for(var r=0;r<s.length;r+=3){var l=s[r],u=s[r+1],g=s[r+2];if(typeof u!="function"){if(gm(u||l)===null)continue;break}var p=Fn(l);p!==null&&(s.splice(r,3),r-=3,dg(p,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function Io(s){function r(L){return Lh(L,s)}ur!==null&&Lh(ur,s),hr!==null&&Lh(hr,s),fr!==null&&Lh(fr,s),fc.forEach(r),dc.forEach(r);for(var l=0;l<dr.length;l++){var u=dr[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<dr.length&&(l=dr[0],l.blockedOn===null);)i0(l),l.blockedOn===null&&dr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],p=l[u+1],b=g[Ge]||null;if(typeof p=="function")b||r0(l);else if(b){var A=null;if(p&&p.hasAttribute("formAction")){if(g=p,b=p[Ge]||null)A=b.formAction;else if(gm(g)!==null)continue}else A=b.action;typeof A=="function"?l[u+1]=A:(l.splice(u,3),u-=3),r0(l)}}}function a0(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return g=b})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function pm(s){this._internalRoot=s}jh.prototype.render=pm.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,u=Pn();$b(l,u,s,r,null,null)},jh.prototype.unmount=pm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;$b(s.current,2,null,s,null,null),vh(),r[Ci]=null}};function jh(s){this._internalRoot=s}jh.prototype.unstable_scheduleHydration=function(s){if(s){var r=vu();s={blockedOn:null,target:s,priority:r};for(var l=0;l<dr.length&&r!==0&&r<dr[l].priority;l++);dr.splice(l,0,s),l===0&&i0(s)}};var o0=t.version;if(o0!=="19.2.3")throw Error(i(527,o0,"19.2.3"));st.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var Qw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uh.isDisabled&&Uh.supportsFiber)try{ri=Uh.inject(Qw),Xe=Uh}catch{}}return pc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var l=!1,u="",g=gv,p=mv,b=pv;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=Xb(s,1,!1,null,null,l,u,null,g,p,b,a0),s[Ci]=r.current,$g(s),new pm(r)},pc.hydrateRoot=function(s,r,l){if(!a(s))throw Error(i(299));var u=!1,g="",p=gv,b=mv,A=pv,L=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.formState!==void 0&&(L=l.formState)),r=Xb(s,1,!0,r,l??null,u,g,L,p,b,A,a0),r.context=Wb(null),l=r.current,u=Pn(),u=Gr(u),g=Js(u),g.callback=null,Zs(l,g,u),l=u,r.current.lanes=l,Hr(r,l),qi(r),s[Ci]=r.current,$g(s),new jh(r)},pc.version="19.2.3",pc}var y0;function sR(){if(y0)return vm.exports;y0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),vm.exports=iR(),vm.exports}var rR=sR();const yc="coste-vida-digital-expenses",Bh="coste-vida-digital-theme",Fh="coste-vida-digital-settings",Hh="coste-vida-digital-credit-cards",Ln={getExpenses:()=>{try{const n=localStorage.getItem(yc);return n?JSON.parse(n):[]}catch(n){return console.error("Error reading expenses from storage:",n),[]}},saveExpenses:n=>{try{return localStorage.setItem(yc,JSON.stringify(n)),!0}catch(t){return console.error("Error saving expenses to storage:",t),!1}},getTheme:()=>{try{return localStorage.getItem(Bh)||"light"}catch{return"light"}},saveTheme:n=>{try{return localStorage.setItem(Bh,n),!0}catch{return!1}},clearAll:()=>{try{return localStorage.removeItem(yc),!0}catch{return!1}},getSettings:()=>{try{const n=localStorage.getItem(Fh);return n?JSON.parse(n):{salary:0,currency:"ARS"}}catch{return{salary:0,currency:"ARS"}}},saveSettings:n=>{try{return localStorage.setItem(Fh,JSON.stringify(n)),!0}catch{return!1}},getCreditCards:()=>{try{const n=localStorage.getItem(Hh);return n?JSON.parse(n):[]}catch{return[]}},saveCreditCards:n=>{try{return localStorage.setItem(Hh,JSON.stringify(n)),!0}catch{return!1}},exportData:()=>{try{return{expenses:JSON.parse(localStorage.getItem(yc)||"[]"),settings:JSON.parse(localStorage.getItem(Fh)||'{"salary":0,"currency":"ARS"}'),creditCards:JSON.parse(localStorage.getItem(Hh)||"[]"),theme:localStorage.getItem(Bh)||"light",exportDate:new Date().toISOString(),version:"1.0"}}catch(n){return console.error("Error exporting data:",n),null}},importData:n=>{try{if(!n||!n.expenses)throw new Error("Formato de archivo invlido");return localStorage.setItem(yc,JSON.stringify(n.expenses)),n.settings&&localStorage.setItem(Fh,JSON.stringify(n.settings)),n.creditCards&&localStorage.setItem(Hh,JSON.stringify(n.creditCards)),n.theme&&localStorage.setItem(Bh,n.theme),!0}catch(t){return console.error("Error importing data:",t),!1}}},aR=()=>{};var _0={};const lS=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},oR=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[e++];t[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[e++],c=n[e++],h=n[e++],d=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return t.join("")},cS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,h=c?n[a+1]:0,d=a+2<n.length,m=d?n[a+2]:0,y=o>>2,_=(o&3)<<4|h>>4;let E=(h&15)<<2|m>>6,S=m&63;d||(S=64,c||(E=64)),i.push(e[y],e[_],e[E],e[S])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(lS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):oR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const o=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const m=a<n.length?e[n.charAt(a)]:64;++a;const _=a<n.length?e[n.charAt(a)]:64;if(++a,o==null||h==null||m==null||_==null)throw new lR;const E=o<<2|h>>4;if(i.push(E),m!==64){const S=h<<4&240|m>>2;if(i.push(S),_!==64){const M=m<<6&192|_;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class lR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cR=function(n){const t=lS(n);return cS.encodeByteArray(t,!0)},Tf=function(n){return cR(n).replace(/\./g,"")},uS=function(n){try{return cS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function uR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const hR=()=>uR().__FIREBASE_DEFAULTS__,fR=()=>{if(typeof process>"u"||typeof _0>"u")return;const n=_0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&uS(n[1]);return t&&JSON.parse(t)},Wf=()=>{try{return aR()||hR()||fR()||dR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},hS=n=>Wf()?.emulatorHosts?.[n],gR=n=>{const t=hS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},fS=()=>Wf()?.config,dS=n=>Wf()?.[`_${n}`];class mR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function el(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gS(n){return(await fetch(n,{credentials:"include"})).ok}function pR(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Tf(JSON.stringify(e)),Tf(JSON.stringify(c)),""].join(".")}const Mc={};function yR(){const n={prod:[],emulator:[]};for(const t of Object.keys(Mc))Mc[t]?n.emulator.push(t):n.prod.push(t);return n}function _R(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let v0=!1;function mS(n,t){if(typeof window>"u"||typeof document>"u"||!el(window.location.host)||Mc[n]===t||Mc[n]||v0)return;Mc[n]=t;function e(E){return`__firebase__banner__${E}`}const i="__firebase__banner",o=yR().prod.length>0;function c(){const E=document.getElementById(i);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,S){E.setAttribute("width","24"),E.setAttribute("id",S),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{v0=!0,c()},E}function y(E,S){E.setAttribute("id",S),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=_R(i),S=e("text"),M=document.getElementById(S)||document.createElement("span"),V=e("learnmore"),k=document.getElementById(V)||document.createElement("a"),z=e("preprendIcon"),Y=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const $=E.element;h($),y(k,V);const at=m();d(Y,z),$.append(Y,M,k,at),document.body.appendChild($)}o?(M.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function bR(){const n=Wf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ER(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function SR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AR(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function xR(){return!bR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wR(){try{return typeof indexedDB=="object"}catch{return!1}}function RR(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const CR="FirebaseError";class Vs extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=CR,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,o=this.errors[t],c=o?IR(o,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Vs(a,h,i)}}function IR(n,t){return n.replace(DR,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const DR=/\{\$([^}]+)}/g;function MR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Ca(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const o=n[a],c=t[a];if(b0(o)&&b0(c)){if(!Ca(o,c))return!1}else if(o!==c)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function b0(n){return n!==null&&typeof n=="object"}function eu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function OR(n,t){const e=new NR(n,t);return e.subscribe.bind(e)}class NR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");kR(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=Sm),a.error===void 0&&(a.error=Sm),a.complete===void 0&&(a.complete=Sm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kR(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Sm(){}function qe(n){return n&&n._delegate?n._delegate:n}class Ia{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const va="[DEFAULT]";class VR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new mR;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(LR(t))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(t=va){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=va){return this.instances.has(t)}getOptions(t=va){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&t(o,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:PR(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=va){return this.component?this.component.multipleInstances?t:va:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PR(n){return n===va?void 0:n}function LR(n){return n.instantiationMode==="EAGER"}class zR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new VR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var zt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(zt||(zt={}));const jR={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},UR=zt.INFO,BR={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},FR=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=BR[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Dp{constructor(t){this.name=t,this._logLevel=UR,this._logHandler=FR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?jR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...t),this._logHandler(this,zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...t),this._logHandler(this,zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...t),this._logHandler(this,zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...t),this._logHandler(this,zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...t),this._logHandler(this,zt.ERROR,...t)}}const HR=(n,t)=>t.some(e=>n instanceof e);let E0,T0;function qR(){return E0||(E0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GR(){return T0||(T0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pS=new WeakMap,Zm=new WeakMap,yS=new WeakMap,Am=new WeakMap,Mp=new WeakMap;function YR(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Sr(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&pS.set(e,n)}).catch(()=>{}),Mp.set(t,n),t}function KR(n){if(Zm.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Zm.set(n,t)}let tp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Zm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||yS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Sr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function QR(n){tp=n(tp)}function XR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(xm(this),t,...e);return yS.set(i,t.sort?t.sort():[t]),Sr(i)}:GR().includes(n)?function(...t){return n.apply(xm(this),t),Sr(pS.get(this))}:function(...t){return Sr(n.apply(xm(this),t))}}function WR(n){return typeof n=="function"?XR(n):(n instanceof IDBTransaction&&KR(n),HR(n,qR())?new Proxy(n,tp):n)}function Sr(n){if(n instanceof IDBRequest)return YR(n);if(Am.has(n))return Am.get(n);const t=WR(n);return t!==n&&(Am.set(n,t),Mp.set(t,n)),t}const xm=n=>Mp.get(n);function $R(n,t,{blocked:e,upgrade:i,blocking:a,terminated:o}={}){const c=indexedDB.open(n,t),h=Sr(c);return i&&c.addEventListener("upgradeneeded",d=>{i(Sr(c.result),d.oldVersion,d.newVersion,Sr(c.transaction),d)}),e&&c.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const JR=["get","getKey","getAll","getAllKeys","count"],ZR=["put","add","delete","clear"],wm=new Map;function S0(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(wm.get(t))return wm.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=ZR.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||JR.includes(e)))return;const o=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),a&&d.done]))[0]};return wm.set(t,o),o}QR(n=>({...n,get:(t,e,i)=>S0(t,e)||n.get(t,e,i),has:(t,e)=>!!S0(t,e)||n.has(t,e)}));class tC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(eC(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function eC(n){return n.getComponent()?.type==="VERSION"}const ep="@firebase/app",A0="0.14.7";const Ms=new Dp("@firebase/app"),nC="@firebase/app-compat",iC="@firebase/analytics-compat",sC="@firebase/analytics",rC="@firebase/app-check-compat",aC="@firebase/app-check",oC="@firebase/auth",lC="@firebase/auth-compat",cC="@firebase/database",uC="@firebase/data-connect",hC="@firebase/database-compat",fC="@firebase/functions",dC="@firebase/functions-compat",gC="@firebase/installations",mC="@firebase/installations-compat",pC="@firebase/messaging",yC="@firebase/messaging-compat",_C="@firebase/performance",vC="@firebase/performance-compat",bC="@firebase/remote-config",EC="@firebase/remote-config-compat",TC="@firebase/storage",SC="@firebase/storage-compat",AC="@firebase/firestore",xC="@firebase/ai",wC="@firebase/firestore-compat",RC="firebase",CC="12.8.0";const np="[DEFAULT]",IC={[ep]:"fire-core",[nC]:"fire-core-compat",[sC]:"fire-analytics",[iC]:"fire-analytics-compat",[aC]:"fire-app-check",[rC]:"fire-app-check-compat",[oC]:"fire-auth",[lC]:"fire-auth-compat",[cC]:"fire-rtdb",[uC]:"fire-data-connect",[hC]:"fire-rtdb-compat",[fC]:"fire-fn",[dC]:"fire-fn-compat",[gC]:"fire-iid",[mC]:"fire-iid-compat",[pC]:"fire-fcm",[yC]:"fire-fcm-compat",[_C]:"fire-perf",[vC]:"fire-perf-compat",[bC]:"fire-rc",[EC]:"fire-rc-compat",[TC]:"fire-gcs",[SC]:"fire-gcs-compat",[AC]:"fire-fst",[wC]:"fire-fst-compat",[xC]:"fire-vertex","fire-js":"fire-js",[RC]:"fire-js-all"};const Sf=new Map,DC=new Map,ip=new Map;function x0(n,t){try{n.container.addComponent(t)}catch(e){Ms.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function qo(n){const t=n.name;if(ip.has(t))return Ms.debug(`There were multiple attempts to register component ${t}.`),!1;ip.set(t,n);for(const e of Sf.values())x0(e,n);for(const e of DC.values())x0(e,n);return!0}function Op(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function _i(n){return n==null?!1:n.settings!==void 0}const MC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ar=new tu("app","Firebase",MC);class OC{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}const nl=CC;function _S(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:np,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw Ar.create("bad-app-name",{appName:String(a)});if(e||(e=fS()),!e)throw Ar.create("no-options");const o=Sf.get(a);if(o){if(Ca(e,o.options)&&Ca(i,o.config))return o;throw Ar.create("duplicate-app",{appName:a})}const c=new zR(a);for(const d of ip.values())c.addComponent(d);const h=new OC(e,i,c);return Sf.set(a,h),h}function vS(n=np){const t=Sf.get(n);if(!t&&n===np&&fS())return _S();if(!t)throw Ar.create("no-app",{appName:n});return t}function xr(n,t,e){let i=IC[n]??n;e&&(i+=`-${e}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const c=[`Unable to register library "${i}" with version "${t}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ms.warn(c.join(" "));return}qo(new Ia(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const NC="firebase-heartbeat-database",kC=1,Uc="firebase-heartbeat-store";let Rm=null;function bS(){return Rm||(Rm=$R(NC,kC,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Uc)}catch(e){console.warn(e)}}}}).catch(n=>{throw Ar.create("idb-open",{originalErrorMessage:n.message})})),Rm}async function VC(n){try{const e=(await bS()).transaction(Uc),i=await e.objectStore(Uc).get(ES(n));return await e.done,i}catch(t){if(t instanceof Vs)Ms.warn(t.message);else{const e=Ar.create("idb-get",{originalErrorMessage:t?.message});Ms.warn(e.message)}}}async function w0(n,t){try{const i=(await bS()).transaction(Uc,"readwrite");await i.objectStore(Uc).put(t,ES(n)),await i.done}catch(e){if(e instanceof Vs)Ms.warn(e.message);else{const i=Ar.create("idb-set",{originalErrorMessage:e?.message});Ms.warn(i.message)}}}function ES(n){return`${n.name}!${n.options.appId}`}const PC=1024,LC=30;class zC{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new UC(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=R0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>LC){const a=BC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ms.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=R0(),{heartbeatsToSend:e,unsentEntries:i}=jC(this._heartbeatsCache.heartbeats),a=Tf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ms.warn(t),""}}}function R0(){return new Date().toISOString().substring(0,10)}function jC(n,t=PC){const e=[];let i=n.slice();for(const a of n){const o=e.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),C0(e)>t){o.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),C0(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class UC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wR()?RR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await VC(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return w0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return w0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function C0(n){return Tf(JSON.stringify({version:2,heartbeats:n})).length}function BC(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function FC(n){qo(new Ia("platform-logger",t=>new tC(t),"PRIVATE")),qo(new Ia("heartbeat",t=>new zC(t),"PRIVATE")),xr(ep,A0,n),xr(ep,A0,"esm2020"),xr("fire-js","")}FC("");var HC="firebase",qC="12.8.0";xr(HC,qC,"app");function TS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GC=TS,SS=new tu("auth","Firebase",TS());const Af=new Dp("@firebase/auth");function YC(n,...t){Af.logLevel<=zt.WARN&&Af.warn(`Auth (${nl}): ${n}`,...t)}function cf(n,...t){Af.logLevel<=zt.ERROR&&Af.error(`Auth (${nl}): ${n}`,...t)}function es(n,...t){throw kp(n,...t)}function bi(n,...t){return kp(n,...t)}function Np(n,t,e){const i={...GC(),[t]:e};return new tu("auth","Firebase",i).create(t,{appName:n.name})}function Aa(n){return Np(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KC(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&es(n,"argument-error"),Np(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kp(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return SS.create(n,...t)}function wt(n,t,...e){if(!n)throw kp(t,...e)}function Cs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw cf(t),new Error(t)}function Os(n,t){n||Cs(t)}function sp(){return typeof self<"u"&&self.location?.href||""}function QC(){return I0()==="http:"||I0()==="https:"}function I0(){return typeof self<"u"&&self.location?.protocol||null}function XC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QC()||TR()||"connection"in navigator)?navigator.onLine:!0}function WC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class nu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Os(e>t,"Short delay should be less than long delay!"),this.isMobile=vR()||SR()}get(){return XC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vp(n,t){Os(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class AS{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $C={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const JC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZC=new nu(3e4,6e4);function Pp(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function il(n,t,e,i,a={}){return xS(n,a,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=eu({key:n.config.apiKey,...c}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const m={method:t,headers:d,...o};return ER()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&el(n.emulatorConfig.host)&&(m.credentials="include"),AS.fetch()(await wS(n,n.config.apiHost,e,h),m)})}async function xS(n,t,e){n._canInitEmulator=!1;const i={...$C,...t};try{const a=new e2(n),o=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw qh(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw qh(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw qh(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw qh(n,"user-disabled",c);const y=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Np(n,y,m);es(n,y)}}catch(a){if(a instanceof Vs)throw a;es(n,"network-request-failed",{message:String(a)})}}async function t2(n,t,e,i,a={}){const o=await il(n,t,e,i,a);return"mfaPendingCredential"in o&&es(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function wS(n,t,e,i){const a=`${t}${e}?${i}`,o=n,c=o.config.emulator?Vp(n.config,a):`${n.config.apiScheme}://${a}`;return JC.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class e2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(bi(this.auth,"network-request-failed")),ZC.get())})}}function qh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=bi(n,t,i);return a.customData._tokenResponse=e,a}async function n2(n,t){return il(n,"POST","/v1/accounts:delete",t)}async function xf(n,t){return il(n,"POST","/v1/accounts:lookup",t)}function Oc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function i2(n,t=!1){const e=qe(n),i=await e.getIdToken(t),a=Lp(i);wt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:i,authTime:Oc(Cm(a.auth_time)),issuedAtTime:Oc(Cm(a.iat)),expirationTime:Oc(Cm(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Cm(n){return Number(n)*1e3}function Lp(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return cf("JWT malformed, contained fewer than 3 sections"),null;try{const a=uS(e);return a?JSON.parse(a):(cf("Failed to decode base64 JWT payload"),null)}catch(a){return cf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function D0(n){const t=Lp(n);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Bc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Vs&&s2(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function s2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class r2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function wf(n){const t=n.auth,e=await n.getIdToken(),i=await Bc(n,xf(t,{idToken:e}));wt(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?RS(a.providerUserInfo):[],c=o2(n.providerData,o),h=n.isAnonymous,d=!(n.email&&a.passwordHash)&&!c?.length,m=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new rp(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function a2(n){const t=qe(n);await wf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function o2(n,t){return[...n.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function RS(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function l2(n,t){const e=await xS(n,{},async()=>{const i=eu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await wS(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return n.emulatorConfig&&el(n.emulatorConfig.host)&&(d.credentials="include"),AS.fetch()(c,d)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function c2(n,t){return il(n,"POST","/v2/accounts:revokeToken",Pp(n,t))}class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):D0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const e=D0(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:o}=await l2(t,e);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:o}=e,c=new Po;return i&&(wt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),a&&(wt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),o&&(wt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return Cs("not implemented")}}function mr(n,t){wt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class vi{constructor({uid:t,auth:e,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new r2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new rp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Bc(this,this.stsTokenManager.getToken(this.auth,t));return wt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return i2(this,t)}reload(){return a2(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new vi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await wf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(Aa(this.auth));const t=await this.getIdToken();return await Bc(this,n2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,a=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,d=e._redirectEventId??void 0,m=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:S,providerData:M,stsTokenManager:V}=e;wt(_&&V,t,"internal-error");const k=Po.fromJSON(this.name,V);wt(typeof _=="string",t,"internal-error"),mr(i,t.name),mr(a,t.name),wt(typeof E=="boolean",t,"internal-error"),wt(typeof S=="boolean",t,"internal-error"),mr(o,t.name),mr(c,t.name),mr(h,t.name),mr(d,t.name),mr(m,t.name),mr(y,t.name);const z=new vi({uid:_,auth:t,email:a,emailVerified:E,displayName:i,isAnonymous:S,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:k,createdAt:m,lastLoginAt:y});return M&&Array.isArray(M)&&(z.providerData=M.map(Y=>({...Y}))),d&&(z._redirectEventId=d),z}static async _fromIdTokenResponse(t,e,i=!1){const a=new Po;a.updateFromServerResponse(e);const o=new vi({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await wf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];wt(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?RS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,h=new Po;h.updateFromIdToken(i);const d=new vi({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new rp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(d,m),d}}const M0=new Map;function Is(n){Os(n instanceof Function,"Expected a class definition");let t=M0.get(n);return t?(Os(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,M0.set(n,t),t)}class CS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}CS.type="NONE";const O0=CS;function uf(n,t,e){return`firebase:${n}:${t}:${e}`}class Lo{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=uf(this.userKey,a.apiKey,o),this.fullPersistenceKey=uf("persistence",a.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await xf(this.auth,{idToken:t}).catch(()=>{});return e?vi._fromGetAccountInfoResponse(this.auth,e,t):null}return vi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Lo(Is(O0),t,i);const a=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Is(O0);const c=uf(i,t.config.apiKey,t.name);let h=null;for(const m of e)try{const y=await m._get(c);if(y){let _;if(typeof y=="string"){const E=await xf(t,{idToken:y}).catch(()=>{});if(!E)break;_=await vi._fromGetAccountInfoResponse(t,E,y)}else _=vi._fromJSON(t,y);m!==o&&(h=_),o=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Lo(o,t,i):(o=d[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new Lo(o,t,i))}}function N0(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(OS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(IS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(kS(t))return"Blackberry";if(VS(t))return"Webos";if(DS(t))return"Safari";if((t.includes("chrome/")||MS(t))&&!t.includes("edge/"))return"Chrome";if(NS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function IS(n=fn()){return/firefox\//i.test(n)}function DS(n=fn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function MS(n=fn()){return/crios\//i.test(n)}function OS(n=fn()){return/iemobile/i.test(n)}function NS(n=fn()){return/android/i.test(n)}function kS(n=fn()){return/blackberry/i.test(n)}function VS(n=fn()){return/webos/i.test(n)}function zp(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function u2(n=fn()){return zp(n)&&!!window.navigator?.standalone}function h2(){return AR()&&document.documentMode===10}function PS(n=fn()){return zp(n)||NS(n)||VS(n)||kS(n)||/windows phone/i.test(n)||OS(n)}function LS(n,t=[]){let e;switch(n){case"Browser":e=N0(fn());break;case"Worker":e=`${N0(fn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${nl}/${i}`}class f2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const d=t(o);c(d)}catch(d){h(d)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function d2(n,t={}){return il(n,"GET","/v2/passwordPolicy",Pp(n,t))}const g2=6;class m2{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??g2,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class p2{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k0(this),this.idTokenSubscription=new k0(this),this.beforeStateQueue=new f2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Is(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Lo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await xf(this,{idToken:t}),i=await vi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(_i(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await wf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=WC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_i(this.app))return Promise.reject(Aa(this));const e=t?qe(t):null;return e&&wt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(Aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _i(this.app)?Promise.reject(Aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await d2(this),e=new m2(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new tu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await c2(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Is(t)||this._popupRedirectResolver;wt(e,this,"argument-error"),this.redirectPersistenceManager=await Lo.create(this,[Is(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,i,a);return()=>{c=!0,d()}}else{const d=t.addObserver(e);return()=>{c=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=LS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&YC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function $f(n){return qe(n)}class k0{constructor(t){this.auth=t,this.observer=null,this.addObserver=OR(e=>this.observer=e)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let jp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function y2(n){jp=n}function _2(n){return jp.loadJS(n)}function v2(){return jp.gapiScript}function b2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function E2(n,t){const e=Op(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),o=e.getOptions();if(Ca(o,t??{}))return a;es(a,"already-initialized")}return e.initialize({options:t})}function T2(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Is);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function S2(n,t,e){const i=$f(n);wt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,o=zS(t),{host:c,port:h}=A2(t),d=h===null?"":`:${h}`,m={url:`${o}//${c}${d}/`},y=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){wt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),wt(Ca(m,i.config.emulator)&&Ca(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,el(c)?(gS(`${o}//${c}${d}`),mS("Auth",!0)):x2()}function zS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function A2(n){const t=zS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:V0(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:V0(c)}}}function V0(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function x2(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class jS{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Cs("not implemented")}_getIdTokenResponse(t){return Cs("not implemented")}_linkToIdToken(t,e){return Cs("not implemented")}_getReauthenticationResolver(t){return Cs("not implemented")}}async function zo(n,t){return t2(n,"POST","/v1/accounts:signInWithIdp",Pp(n,t))}const w2="http://localhost";class Da extends jS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Da(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):es("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...o}=e;if(!i||!a)return null;const c=new Da(i,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return zo(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,zo(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,zo(t,e)}buildRequest(){const t={requestUri:w2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=eu(e)}return t}}class Up{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class iu extends Up{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class pr extends iu{constructor(){super("facebook.com")}static credential(t){return Da._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return pr.credentialFromTaggedObject(t)}static credentialFromError(t){return pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return pr.credential(t.oauthAccessToken)}catch{return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";pr.PROVIDER_ID="facebook.com";class Rs extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Da._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Rs.credentialFromTaggedObject(t)}static credentialFromError(t){return Rs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Rs.credential(e,i)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";class yr extends iu{constructor(){super("github.com")}static credential(t){return Da._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yr.credentialFromTaggedObject(t)}static credentialFromError(t){return yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yr.credential(t.oauthAccessToken)}catch{return null}}}yr.GITHUB_SIGN_IN_METHOD="github.com";yr.PROVIDER_ID="github.com";class _r extends iu{constructor(){super("twitter.com")}static credential(t,e){return Da._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return _r.credentialFromTaggedObject(t)}static credentialFromError(t){return _r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return _r.credential(e,i)}catch{return null}}}_r.TWITTER_SIGN_IN_METHOD="twitter.com";_r.PROVIDER_ID="twitter.com";class Go{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const o=await vi._fromIdTokenResponse(t,i,a),c=P0(i);return new Go({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=P0(i);return new Go({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function P0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Rf extends Vs{constructor(t,e,i,a){super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Rf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new Rf(t,e,i,a)}}function US(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Rf._fromErrorAndOperation(n,o,t,i):o})}async function R2(n,t,e=!1){const i=await Bc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Go._forOperation(n,"link",i)}async function C2(n,t,e=!1){const{auth:i}=n;if(_i(i.app))return Promise.reject(Aa(i));const a="reauthenticate";try{const o=await Bc(n,US(i,a,t,n),e);wt(o.idToken,i,"internal-error");const c=Lp(o.idToken);wt(c,i,"internal-error");const{sub:h}=c;return wt(n.uid===h,i,"user-mismatch"),Go._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&es(i,"user-mismatch"),o}}async function I2(n,t,e=!1){if(_i(n.app))return Promise.reject(Aa(n));const i="signIn",a=await US(n,i,t),o=await Go._fromIdTokenResponse(n,i,a);return e||await n._updateCurrentUser(o.user),o}function D2(n,t,e,i){return qe(n).onIdTokenChanged(t,e,i)}function M2(n,t,e){return qe(n).beforeAuthStateChanged(t,e)}function O2(n,t,e,i){return qe(n).onAuthStateChanged(t,e,i)}function N2(n){return qe(n).signOut()}const Cf="__sak";class BS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Cf,"1"),this.storage.removeItem(Cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const k2=1e3,V2=10;class FS extends BS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);h2()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,V2):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},k2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}FS.type="LOCAL";const P2=FS;class HS extends BS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}HS.type="SESSION";const qS=HS;function L2(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Jf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new Jf(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:o}=e.data,c=this.handlersMap[a];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async m=>m(e.origin,o)),d=await L2(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jf.receivers=[];function Bp(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class z2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,d)=>{const m=Bp("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(y),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function $i(){return window}function j2(n){$i().location.href=n}function GS(){return typeof $i().WorkerGlobalScope<"u"&&typeof $i().importScripts=="function"}async function U2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B2(){return navigator?.serviceWorker?.controller||null}function F2(){return GS()?self:null}const YS="firebaseLocalStorageDb",H2=1,If="firebaseLocalStorage",KS="fbase_key";class su{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Zf(n,t){return n.transaction([If],t?"readwrite":"readonly").objectStore(If)}function q2(){const n=indexedDB.deleteDatabase(YS);return new su(n).toPromise()}function ap(){const n=indexedDB.open(YS,H2);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(If,{keyPath:KS})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(If)?t(i):(i.close(),await q2(),t(await ap()))})})}async function L0(n,t,e){const i=Zf(n,!0).put({[KS]:t,value:e});return new su(i).toPromise()}async function G2(n,t){const e=Zf(n,!1).get(t),i=await new su(e).toPromise();return i===void 0?null:i.value}function z0(n,t){const e=Zf(n,!0).delete(t);return new su(e).toPromise()}const Y2=800,K2=3;class QS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ap(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>K2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jf._getInstance(F2()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await U2(),!this.activeServiceWorker)return;this.sender=new z2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||B2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ap();return await L0(t,Cf,"1"),await z0(t,Cf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>L0(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>G2(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>z0(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const o=Zf(a,!1).getAll();return new su(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:o}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QS.type="LOCAL";const Q2=QS;new nu(3e4,6e4);function XS(n,t){return t?Is(t):(wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Fp extends jS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return zo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return zo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return zo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function X2(n){return I2(n.auth,new Fp(n),n.bypassAuthState)}function W2(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),C2(e,new Fp(n),n.bypassAuthState)}async function $2(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),R2(e,new Fp(n),n.bypassAuthState)}class WS{constructor(t,e,i,a,o=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return X2;case"linkViaPopup":case"linkViaRedirect":return $2;case"reauthViaPopup":case"reauthViaRedirect":return W2;default:es(this.auth,"internal-error")}}resolve(t){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const J2=new nu(2e3,1e4);async function Z2(n,t,e){if(_i(n.app))return Promise.reject(bi(n,"operation-not-supported-in-this-environment"));const i=$f(n);KC(n,t,Up);const a=XS(i,e);return new Ea(i,"signInViaPopup",t,a).executeNotNull()}class Ea extends WS{constructor(t,e,i,a,o){super(t,e,a,o),this.provider=i,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const t=Bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,J2.get())};t()}}Ea.currentPopupAction=null;const tI="pendingRedirect",hf=new Map;class eI extends WS{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=hf.get(this.auth._key());if(!t){try{const i=await nI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}hf.set(this.auth._key(),t)}return this.bypassAuthState||hf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nI(n,t){const e=rI(t),i=sI(n);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}function iI(n,t){hf.set(n._key(),t)}function sI(n){return Is(n._redirectPersistence)}function rI(n){return uf(tI,n.config.apiKey,n.name)}async function aI(n,t,e=!1){if(_i(n.app))return Promise.reject(Aa(n));const i=$f(n),a=XS(i,t),c=await new eI(i,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}const oI=600*1e3;class lI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!cI(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!$S(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(bi(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=oI&&this.cachedEventUids.clear(),this.cachedEventUids.has(j0(t))}saveEventToCache(t){this.cachedEventUids.add(j0(t)),this.lastProcessedEventTime=Date.now()}}function j0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function $S({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function cI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $S(n);default:return!1}}async function uI(n,t={}){return il(n,"GET","/v1/projects",t)}const hI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fI=/^https?/;async function dI(n){if(n.config.emulator)return;const{authorizedDomains:t}=await uI(n);for(const e of t)try{if(gI(e))return}catch{}es(n,"unauthorized-domain")}function gI(n){const t=sp(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!fI.test(e))return!1;if(hI.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const mI=new nu(3e4,6e4);function U0(){const n=$i().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function pI(n){return new Promise((t,e)=>{function i(){U0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{U0(),e(bi(n,"network-request-failed"))},timeout:mI.get()})}if($i().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if($i().gapi?.load)i();else{const a=b2("iframefcb");return $i()[a]=()=>{gapi.load?i():e(bi(n,"network-request-failed"))},_2(`${v2()}?onload=${a}`).catch(o=>e(o))}}).catch(t=>{throw ff=null,t})}let ff=null;function yI(n){return ff=ff||pI(n),ff}const _I=new nu(5e3,15e3),vI="__/auth/iframe",bI="emulator/auth/iframe",EI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SI(n){const t=n.config;wt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Vp(t,bI):`https://${n.config.authDomain}/${vI}`,i={apiKey:t.apiKey,appName:n.name,v:nl},a=TI.get(n.config.apiHost);a&&(i.eid=a);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${eu(i).slice(1)}`}async function AI(n){const t=await yI(n),e=$i().gapi;return wt(e,n,"internal-error"),t.open({where:document.body,url:SI(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EI,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const c=bi(n,"network-request-failed"),h=$i().setTimeout(()=>{o(c)},_I.get());function d(){$i().clearTimeout(h),a(i)}i.ping(d).then(d,()=>{o(c)})}))}const xI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wI=500,RI=600,CI="_blank",II="http://localhost";class B0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DI(n,t,e,i=wI,a=RI){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d={...xI,width:i.toString(),height:a.toString(),top:o,left:c},m=fn().toLowerCase();e&&(h=MS(m)?CI:e),IS(m)&&(t=t||II,d.scrollbars="yes");const y=Object.entries(d).reduce((E,[S,M])=>`${E}${S}=${M},`,"");if(u2(m)&&h!=="_self")return MI(t||"",h),new B0(null);const _=window.open(t||"",h,y);wt(_,n,"popup-blocked");try{_.focus()}catch{}return new B0(_)}function MI(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const OI="__/auth/handler",NI="emulator/auth/handler",kI=encodeURIComponent("fac");async function F0(n,t,e,i,a,o){wt(n.config.authDomain,n,"auth-domain-config-required"),wt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:nl,eventId:a};if(t instanceof Up){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",MR(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof iu){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await n._getAppCheckToken(),m=d?`#${kI}=${encodeURIComponent(d)}`:"";return`${VI(n)}?${eu(h).slice(1)}${m}`}function VI({config:n}){return n.emulator?Vp(n,NI):`https://${n.authDomain}/${OI}`}const Im="webStorageSupport";class PI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qS,this._completeRedirectFn=aI,this._overrideRedirectResult=iI}async _openPopup(t,e,i,a){Os(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await F0(t,e,i,sp(),a);return DI(t,o,Bp())}async _openRedirect(t,e,i,a){await this._originValidation(t);const o=await F0(t,e,i,sp(),a);return j2(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:o}=this.eventManagers[e];return a?Promise.resolve(a):(Os(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await AI(t),i=new lI(t);return e.register("authEvent",a=>(wt(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Im,{type:Im},a=>{const o=a?.[0]?.[Im];o!==void 0&&e(!!o),es(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=dI(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return PS()||DS()||zp()}}const LI=PI;var H0="@firebase/auth",q0="1.12.0";class zI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UI(n){qo(new Ia("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;wt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LS(n)},m=new p2(i,a,o,d);return T2(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),qo(new Ia("auth-internal",t=>{const e=$f(t.getProvider("auth").getImmediate());return(i=>new zI(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(H0,q0,jI(n)),xr(H0,q0,"esm2020")}const BI=300,FI=dS("authIdTokenMaxAge")||BI;let G0=null;const HI=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>FI)return;const a=e?.token;G0!==a&&(G0=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function qI(n=vS()){const t=Op(n,"auth");if(t.isInitialized())return t.getImmediate();const e=E2(n,{popupRedirectResolver:LI,persistence:[Q2,P2,qS]}),i=dS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=HI(o.toString());M2(e,c,()=>c(e.currentUser)),D2(e,h=>c(h))}}const a=hS("auth");return a&&S2(e,`http://${a}`),e}function GI(){return document.getElementsByTagName("head")?.[0]??document}y2({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=a=>{const o=bi("internal-error");o.customData=a,e(o)},i.type="text/javascript",i.charset="UTF-8",GI().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UI("Browser");var Y0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var wr,JS;(function(){var n;function t(D,R){function x(){}x.prototype=R.prototype,D.F=R.prototype,D.prototype=new x,D.prototype.constructor=D,D.D=function(O,N,P){for(var C=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)C[ft-2]=arguments[ft];return R.prototype[N].apply(O,C)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,R,x){x||(x=0);const O=Array(16);if(typeof R=="string")for(var N=0;N<16;++N)O[N]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(N=0;N<16;++N)O[N]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=D.g[0],x=D.g[1],N=D.g[2];let P=D.g[3],C;C=R+(P^x&(N^P))+O[0]+3614090360&4294967295,R=x+(C<<7&4294967295|C>>>25),C=P+(N^R&(x^N))+O[1]+3905402710&4294967295,P=R+(C<<12&4294967295|C>>>20),C=N+(x^P&(R^x))+O[2]+606105819&4294967295,N=P+(C<<17&4294967295|C>>>15),C=x+(R^N&(P^R))+O[3]+3250441966&4294967295,x=N+(C<<22&4294967295|C>>>10),C=R+(P^x&(N^P))+O[4]+4118548399&4294967295,R=x+(C<<7&4294967295|C>>>25),C=P+(N^R&(x^N))+O[5]+1200080426&4294967295,P=R+(C<<12&4294967295|C>>>20),C=N+(x^P&(R^x))+O[6]+2821735955&4294967295,N=P+(C<<17&4294967295|C>>>15),C=x+(R^N&(P^R))+O[7]+4249261313&4294967295,x=N+(C<<22&4294967295|C>>>10),C=R+(P^x&(N^P))+O[8]+1770035416&4294967295,R=x+(C<<7&4294967295|C>>>25),C=P+(N^R&(x^N))+O[9]+2336552879&4294967295,P=R+(C<<12&4294967295|C>>>20),C=N+(x^P&(R^x))+O[10]+4294925233&4294967295,N=P+(C<<17&4294967295|C>>>15),C=x+(R^N&(P^R))+O[11]+2304563134&4294967295,x=N+(C<<22&4294967295|C>>>10),C=R+(P^x&(N^P))+O[12]+1804603682&4294967295,R=x+(C<<7&4294967295|C>>>25),C=P+(N^R&(x^N))+O[13]+4254626195&4294967295,P=R+(C<<12&4294967295|C>>>20),C=N+(x^P&(R^x))+O[14]+2792965006&4294967295,N=P+(C<<17&4294967295|C>>>15),C=x+(R^N&(P^R))+O[15]+1236535329&4294967295,x=N+(C<<22&4294967295|C>>>10),C=R+(N^P&(x^N))+O[1]+4129170786&4294967295,R=x+(C<<5&4294967295|C>>>27),C=P+(x^N&(R^x))+O[6]+3225465664&4294967295,P=R+(C<<9&4294967295|C>>>23),C=N+(R^x&(P^R))+O[11]+643717713&4294967295,N=P+(C<<14&4294967295|C>>>18),C=x+(P^R&(N^P))+O[0]+3921069994&4294967295,x=N+(C<<20&4294967295|C>>>12),C=R+(N^P&(x^N))+O[5]+3593408605&4294967295,R=x+(C<<5&4294967295|C>>>27),C=P+(x^N&(R^x))+O[10]+38016083&4294967295,P=R+(C<<9&4294967295|C>>>23),C=N+(R^x&(P^R))+O[15]+3634488961&4294967295,N=P+(C<<14&4294967295|C>>>18),C=x+(P^R&(N^P))+O[4]+3889429448&4294967295,x=N+(C<<20&4294967295|C>>>12),C=R+(N^P&(x^N))+O[9]+568446438&4294967295,R=x+(C<<5&4294967295|C>>>27),C=P+(x^N&(R^x))+O[14]+3275163606&4294967295,P=R+(C<<9&4294967295|C>>>23),C=N+(R^x&(P^R))+O[3]+4107603335&4294967295,N=P+(C<<14&4294967295|C>>>18),C=x+(P^R&(N^P))+O[8]+1163531501&4294967295,x=N+(C<<20&4294967295|C>>>12),C=R+(N^P&(x^N))+O[13]+2850285829&4294967295,R=x+(C<<5&4294967295|C>>>27),C=P+(x^N&(R^x))+O[2]+4243563512&4294967295,P=R+(C<<9&4294967295|C>>>23),C=N+(R^x&(P^R))+O[7]+1735328473&4294967295,N=P+(C<<14&4294967295|C>>>18),C=x+(P^R&(N^P))+O[12]+2368359562&4294967295,x=N+(C<<20&4294967295|C>>>12),C=R+(x^N^P)+O[5]+4294588738&4294967295,R=x+(C<<4&4294967295|C>>>28),C=P+(R^x^N)+O[8]+2272392833&4294967295,P=R+(C<<11&4294967295|C>>>21),C=N+(P^R^x)+O[11]+1839030562&4294967295,N=P+(C<<16&4294967295|C>>>16),C=x+(N^P^R)+O[14]+4259657740&4294967295,x=N+(C<<23&4294967295|C>>>9),C=R+(x^N^P)+O[1]+2763975236&4294967295,R=x+(C<<4&4294967295|C>>>28),C=P+(R^x^N)+O[4]+1272893353&4294967295,P=R+(C<<11&4294967295|C>>>21),C=N+(P^R^x)+O[7]+4139469664&4294967295,N=P+(C<<16&4294967295|C>>>16),C=x+(N^P^R)+O[10]+3200236656&4294967295,x=N+(C<<23&4294967295|C>>>9),C=R+(x^N^P)+O[13]+681279174&4294967295,R=x+(C<<4&4294967295|C>>>28),C=P+(R^x^N)+O[0]+3936430074&4294967295,P=R+(C<<11&4294967295|C>>>21),C=N+(P^R^x)+O[3]+3572445317&4294967295,N=P+(C<<16&4294967295|C>>>16),C=x+(N^P^R)+O[6]+76029189&4294967295,x=N+(C<<23&4294967295|C>>>9),C=R+(x^N^P)+O[9]+3654602809&4294967295,R=x+(C<<4&4294967295|C>>>28),C=P+(R^x^N)+O[12]+3873151461&4294967295,P=R+(C<<11&4294967295|C>>>21),C=N+(P^R^x)+O[15]+530742520&4294967295,N=P+(C<<16&4294967295|C>>>16),C=x+(N^P^R)+O[2]+3299628645&4294967295,x=N+(C<<23&4294967295|C>>>9),C=R+(N^(x|~P))+O[0]+4096336452&4294967295,R=x+(C<<6&4294967295|C>>>26),C=P+(x^(R|~N))+O[7]+1126891415&4294967295,P=R+(C<<10&4294967295|C>>>22),C=N+(R^(P|~x))+O[14]+2878612391&4294967295,N=P+(C<<15&4294967295|C>>>17),C=x+(P^(N|~R))+O[5]+4237533241&4294967295,x=N+(C<<21&4294967295|C>>>11),C=R+(N^(x|~P))+O[12]+1700485571&4294967295,R=x+(C<<6&4294967295|C>>>26),C=P+(x^(R|~N))+O[3]+2399980690&4294967295,P=R+(C<<10&4294967295|C>>>22),C=N+(R^(P|~x))+O[10]+4293915773&4294967295,N=P+(C<<15&4294967295|C>>>17),C=x+(P^(N|~R))+O[1]+2240044497&4294967295,x=N+(C<<21&4294967295|C>>>11),C=R+(N^(x|~P))+O[8]+1873313359&4294967295,R=x+(C<<6&4294967295|C>>>26),C=P+(x^(R|~N))+O[15]+4264355552&4294967295,P=R+(C<<10&4294967295|C>>>22),C=N+(R^(P|~x))+O[6]+2734768916&4294967295,N=P+(C<<15&4294967295|C>>>17),C=x+(P^(N|~R))+O[13]+1309151649&4294967295,x=N+(C<<21&4294967295|C>>>11),C=R+(N^(x|~P))+O[4]+4149444226&4294967295,R=x+(C<<6&4294967295|C>>>26),C=P+(x^(R|~N))+O[11]+3174756917&4294967295,P=R+(C<<10&4294967295|C>>>22),C=N+(R^(P|~x))+O[2]+718787259&4294967295,N=P+(C<<15&4294967295|C>>>17),C=x+(P^(N|~R))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+P&4294967295}i.prototype.v=function(D,R){R===void 0&&(R=D.length);const x=R-this.blockSize,O=this.C;let N=this.h,P=0;for(;P<R;){if(N==0)for(;P<=x;)a(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<R;)if(O[N++]=D.charCodeAt(P++),N==this.blockSize){a(this,O),N=0;break}}else for(;P<R;)if(O[N++]=D[P++],N==this.blockSize){a(this,O),N=0;break}}this.h=N,this.o+=R},i.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;R=this.o*8;for(var x=D.length-8;x<D.length;++x)D[x]=R&255,R/=256;for(this.v(D),D=Array(16),R=0,x=0;x<4;++x)for(let O=0;O<32;O+=8)D[R++]=this.g[x]>>>O&255;return D};function o(D,R){var x=h;return Object.prototype.hasOwnProperty.call(x,D)?x[D]:x[D]=R(D)}function c(D,R){this.h=R;const x=[];let O=!0;for(let N=D.length-1;N>=0;N--){const P=D[N]|0;O&&P==R||(x[N]=P,O=!1)}this.g=x}var h={};function d(D){return-128<=D&&D<128?o(D,function(R){return new c([R|0],R<0?-1:0)}):new c([D|0],D<0?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return _;if(D<0)return k(m(-D));const R=[];let x=1;for(let O=0;D>=x;O++)R[O]=D/x|0,x*=4294967296;return new c(R,0)}function y(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return k(y(D.substring(1),R));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=m(Math.pow(R,8));let O=_;for(let P=0;P<D.length;P+=8){var N=Math.min(8,D.length-P);const C=parseInt(D.substring(P,P+N),R);N<8?(N=m(Math.pow(R,N)),O=O.j(N).add(m(C))):(O=O.j(x),O=O.add(m(C)))}return O}var _=d(0),E=d(1),S=d(16777216);n=c.prototype,n.m=function(){if(V(this))return-k(this).m();let D=0,R=1;for(let x=0;x<this.g.length;x++){const O=this.i(x);D+=(O>=0?O:4294967296+O)*R,R*=4294967296}return D},n.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(M(this))return"0";if(V(this))return"-"+k(this).toString(D);const R=m(Math.pow(D,6));var x=this;let O="";for(;;){const N=at(x,R).g;x=z(x,N.j(R));let P=((x.g.length>0?x.g[0]:x.h)>>>0).toString(D);if(x=N,M(x))return P+O;for(;P.length<6;)P="0"+P;O=P+O}},n.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function M(D){if(D.h!=0)return!1;for(let R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function V(D){return D.h==-1}n.l=function(D){return D=z(this,D),V(D)?-1:M(D)?0:1};function k(D){const R=D.g.length,x=[];for(let O=0;O<R;O++)x[O]=~D.g[O];return new c(x,~D.h).add(E)}n.abs=function(){return V(this)?k(this):this},n.add=function(D){const R=Math.max(this.g.length,D.g.length),x=[];let O=0;for(let N=0;N<=R;N++){let P=O+(this.i(N)&65535)+(D.i(N)&65535),C=(P>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);O=C>>>16,P&=65535,C&=65535,x[N]=C<<16|P}return new c(x,x[x.length-1]&-2147483648?-1:0)};function z(D,R){return D.add(k(R))}n.j=function(D){if(M(this)||M(D))return _;if(V(this))return V(D)?k(this).j(k(D)):k(k(this).j(D));if(V(D))return k(this.j(k(D)));if(this.l(S)<0&&D.l(S)<0)return m(this.m()*D.m());const R=this.g.length+D.g.length,x=[];for(var O=0;O<2*R;O++)x[O]=0;for(O=0;O<this.g.length;O++)for(let N=0;N<D.g.length;N++){const P=this.i(O)>>>16,C=this.i(O)&65535,ft=D.i(N)>>>16,gt=D.i(N)&65535;x[2*O+2*N]+=C*gt,Y(x,2*O+2*N),x[2*O+2*N+1]+=P*gt,Y(x,2*O+2*N+1),x[2*O+2*N+1]+=C*ft,Y(x,2*O+2*N+1),x[2*O+2*N+2]+=P*ft,Y(x,2*O+2*N+2)}for(D=0;D<R;D++)x[D]=x[2*D+1]<<16|x[2*D];for(D=R;D<2*R;D++)x[D]=0;return new c(x,0)};function Y(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function $(D,R){this.g=D,this.h=R}function at(D,R){if(M(R))throw Error("division by zero");if(M(D))return new $(_,_);if(V(D))return R=at(k(D),R),new $(k(R.g),k(R.h));if(V(R))return R=at(D,k(R)),new $(k(R.g),R.h);if(D.g.length>30){if(V(D)||V(R))throw Error("slowDivide_ only works with positive integers.");for(var x=E,O=R;O.l(D)<=0;)x=it(x),O=it(O);var N=Q(x,1),P=Q(O,1);for(O=Q(O,2),x=Q(x,2);!M(O);){var C=P.add(O);C.l(D)<=0&&(N=N.add(x),P=C),O=Q(O,1),x=Q(x,1)}return R=z(D,N.j(R)),new $(N,R)}for(N=_;D.l(R)>=0;){for(x=Math.max(1,Math.floor(D.m()/R.m())),O=Math.ceil(Math.log(x)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),P=m(x),C=P.j(R);V(C)||C.l(D)>0;)x-=O,P=m(x),C=P.j(R);M(P)&&(P=E),N=N.add(P),D=z(D,C)}return new $(N,D)}n.B=function(D){return at(this,D).h},n.and=function(D){const R=Math.max(this.g.length,D.g.length),x=[];for(let O=0;O<R;O++)x[O]=this.i(O)&D.i(O);return new c(x,this.h&D.h)},n.or=function(D){const R=Math.max(this.g.length,D.g.length),x=[];for(let O=0;O<R;O++)x[O]=this.i(O)|D.i(O);return new c(x,this.h|D.h)},n.xor=function(D){const R=Math.max(this.g.length,D.g.length),x=[];for(let O=0;O<R;O++)x[O]=this.i(O)^D.i(O);return new c(x,this.h^D.h)};function it(D){const R=D.g.length+1,x=[];for(let O=0;O<R;O++)x[O]=D.i(O)<<1|D.i(O-1)>>>31;return new c(x,D.h)}function Q(D,R){const x=R>>5;R%=32;const O=D.g.length-x,N=[];for(let P=0;P<O;P++)N[P]=R>0?D.i(P+x)>>>R|D.i(P+x+1)<<32-R:D.i(P+x);return new c(N,D.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,JS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,wr=c}).apply(typeof Y0<"u"?Y0:typeof self<"u"?self:typeof window<"u"?window:{});var Gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ZS,Ac,tA,df,op,eA,nA,iA;(function(){var n,t=Object.defineProperty;function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gh=="object"&&Gh];for(var v=0;v<f.length;++v){var T=f[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=e(this);function a(f,v){if(v)t:{var T=i;f=f.split(".");for(var w=0;w<f.length-1;w++){var F=f[w];if(!(F in T))break t;T=T[F]}f=f[f.length-1],w=T[f],v=v(w),v!=w&&v!=null&&t(T,f,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(v){var T=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&T.push([w,v[w]]);return T}});var o=o||{},c=this||self;function h(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function d(f,v,T){return f.call.apply(f.bind,arguments)}function m(f,v,T){return m=d,m.apply(null,arguments)}function y(f,v){var T=Array.prototype.slice.call(arguments,1);return function(){var w=T.slice();return w.push.apply(w,arguments),f.apply(this,w)}}function _(f,v){function T(){}T.prototype=v.prototype,f.Z=v.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(w,F,X){for(var lt=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)lt[Dt-2]=arguments[Dt];return v.prototype[F].apply(w,lt)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function S(f){const v=f.length;if(v>0){const T=Array(v);for(let w=0;w<v;w++)T[w]=f[w];return T}return[]}function M(f,v){for(let w=1;w<arguments.length;w++){const F=arguments[w];var T=typeof F;if(T=T!="object"?T:F?Array.isArray(F)?"array":T:"null",T=="array"||T=="object"&&typeof F.length=="number"){T=f.length||0;const X=F.length||0;f.length=T+X;for(let lt=0;lt<X;lt++)f[T+lt]=F[lt]}else f.push(F)}}class V{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function k(f){c.setTimeout(()=>{throw f},0)}function z(){var f=D;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class Y{constructor(){this.h=this.g=null}add(v,T){const w=$.get();w.set(v,T),this.h?this.h.next=w:this.g=w,this.h=w}}var $=new V(()=>new at,f=>f.reset());class at{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let it,Q=!1,D=new Y,R=()=>{const f=Promise.resolve(void 0);it=()=>{f.then(x)}};function x(){for(var f;f=z();){try{f.h.call(f.g)}catch(T){k(T)}var v=$;v.j(f),v.h<100&&(v.h++,f.next=v.g,v.g=f)}Q=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};c.addEventListener("test",T,v),c.removeEventListener("test",T,v)}catch{}return f})();function C(f){return/^[\s\xa0]*$/.test(f)}function ft(f,v){N.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,v)}_(ft,N),ft.prototype.init=function(f,v){const T=this.type=f.type,w=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget,v||(T=="mouseover"?v=f.fromElement:T=="mouseout"&&(v=f.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ft.Z.h.call(this)},ft.prototype.h=function(){ft.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var gt="closure_listenable_"+(Math.random()*1e6|0),H=0;function st(f,v,T,w,F){this.listener=f,this.proxy=null,this.src=v,this.type=T,this.capture=!!w,this.ha=F,this.key=++H,this.da=this.fa=!1}function ut(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function _t(f,v,T){for(const w in f)v.call(T,f[w],w,f)}function Tt(f,v){for(const T in f)v.call(void 0,f[T],T,f)}function j(f){const v={};for(const T in f)v[T]=f[T];return v}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ot(f,v){let T,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(T in w)f[T]=w[T];for(let X=0;X<J.length;X++)T=J[X],Object.prototype.hasOwnProperty.call(w,T)&&(f[T]=w[T])}}function ct(f){this.src=f,this.g={},this.h=0}ct.prototype.add=function(f,v,T,w,F){const X=f.toString();f=this.g[X],f||(f=this.g[X]=[],this.h++);const lt=St(f,v,w,F);return lt>-1?(v=f[lt],T||(v.fa=!1)):(v=new st(v,this.src,X,!!w,F),v.fa=T,f.push(v)),v};function vt(f,v){const T=v.type;if(T in f.g){var w=f.g[T],F=Array.prototype.indexOf.call(w,v,void 0),X;(X=F>=0)&&Array.prototype.splice.call(w,F,1),X&&(ut(v),f.g[T].length==0&&(delete f.g[T],f.h--))}}function St(f,v,T,w){for(let F=0;F<f.length;++F){const X=f[F];if(!X.da&&X.listener==v&&X.capture==!!T&&X.ha==w)return F}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),_e={};function oe(f,v,T,w,F){if(Array.isArray(v)){for(let X=0;X<v.length;X++)oe(f,v[X],T,w,F);return null}return T=dl(T),f&&f[gt]?f.J(v,T,h(w)?!!w.capture:!1,F):Un(f,v,T,!1,w,F)}function Un(f,v,T,w,F,X){if(!v)throw Error("Invalid event type");const lt=h(F)?!!F.capture:!!F;let Dt=Ur(f);if(Dt||(f[Vt]=Dt=new ct(f)),T=Dt.add(v,T,w,lt,X),T.proxy)return T;if(w=ja(),T.proxy=w,w.src=f,w.listener=T,f.addEventListener)P||(F=lt),F===void 0&&(F=!1),f.addEventListener(v.toString(),w,F);else if(f.attachEvent)f.attachEvent(Si(v.toString()),w);else if(f.addListener&&f.removeListener)f.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ja(){function f(T){return v.call(f.src,f.listener,T)}const v=hl;return f}function Ua(f,v,T,w,F){if(Array.isArray(v))for(var X=0;X<v.length;X++)Ua(f,v[X],T,w,F);else w=h(w)?!!w.capture:!!w,T=dl(T),f&&f[gt]?(f=f.i,X=String(v).toString(),X in f.g&&(v=f.g[X],T=St(v,T,w,F),T>-1&&(ut(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete f.g[X],f.h--)))):f&&(f=Ur(f))&&(v=f.g[v.toString()],f=-1,v&&(f=St(v,T,w,F)),(T=f>-1?v[f]:null)&&Ba(T))}function Ba(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[gt])vt(v.i,f);else{var T=f.type,w=f.proxy;v.removeEventListener?v.removeEventListener(T,w,f.capture):v.detachEvent?v.detachEvent(Si(T),w):v.addListener&&v.removeListener&&v.removeListener(w),(T=Ur(v))?(vt(T,f),T.h==0&&(T.src=null,v[Vt]=null)):ut(f)}}}function Si(f){return f in _e?_e[f]:_e[f]="on"+f}function hl(f,v){if(f.da)f=!0;else{v=new ft(v,this);const T=f.listener,w=f.ha||f.src;f.fa&&Ba(f),f=T.call(w,v)}return f}function Ur(f){return f=f[Vt],f instanceof ct?f:null}var fl="__closure_events_fn_"+(Math.random()*1e9>>>0);function dl(f){return typeof f=="function"?f:(f[fl]||(f[fl]=function(v){return f.handleEvent(v)}),f[fl])}function xe(){O.call(this),this.i=new ct(this),this.M=this,this.G=null}_(xe,O),xe.prototype[gt]=!0,xe.prototype.removeEventListener=function(f,v,T,w){Ua(this,f,v,T,w)};function je(f,v){var T,w=f.G;if(w)for(T=[];w;w=w.G)T.push(w);if(f=f.M,w=v.type||v,typeof v=="string")v=new N(v,f);else if(v instanceof N)v.target=v.target||f;else{var F=v;v=new N(w,f),ot(v,F)}F=!0;let X,lt;if(T)for(lt=T.length-1;lt>=0;lt--)X=v.g=T[lt],F=Ps(X,w,!0,v)&&F;if(X=v.g=f,F=Ps(X,w,!0,v)&&F,F=Ps(X,w,!1,v)&&F,T)for(lt=0;lt<T.length;lt++)X=v.g=T[lt],F=Ps(X,w,!1,v)&&F}xe.prototype.N=function(){if(xe.Z.N.call(this),this.i){var f=this.i;for(const v in f.g){const T=f.g[v];for(let w=0;w<T.length;w++)ut(T[w]);delete f.g[v],f.h--}}this.G=null},xe.prototype.J=function(f,v,T,w){return this.i.add(String(f),v,!1,T,w)},xe.prototype.K=function(f,v,T,w){return this.i.add(String(f),v,!0,T,w)};function Ps(f,v,T,w){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();let F=!0;for(let X=0;X<v.length;++X){const lt=v[X];if(lt&&!lt.da&&lt.capture==T){const Dt=lt.listener,be=lt.ha||lt.src;lt.fa&&vt(f.i,lt),F=Dt.call(be,w)!==!1&&F}}return F&&!w.defaultPrevented}function vd(f,v){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(f,v||0)}function fu(f){f.g=vd(()=>{f.g=null,f.i&&(f.i=!1,fu(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class dn extends O{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:fu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Br(f){O.call(this),this.h=f,this.g={}}_(Br,O);var gl=[];function ml(f){_t(f.g,function(v,T){this.g.hasOwnProperty(T)&&Ba(v)},f),f.g={}}Br.prototype.N=function(){Br.Z.N.call(this),ml(this)},Br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ls=c.JSON.stringify,bd=c.JSON.parse,du=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function gu(){}function mu(){}var ri={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xe(){N.call(this,"d")}_(Xe,N);function Bn(){N.call(this,"c")}_(Bn,N);var ve={},pu=null;function Fa(){return pu=pu||new xe}ve.Ia="serverreachability";function yu(f){N.call(this,ve.Ia,f)}_(yu,N);function Ai(f){const v=Fa();je(v,new yu(v))}ve.STAT_EVENT="statevent";function Fr(f,v){N.call(this,ve.STAT_EVENT,f),this.stat=v}_(Fr,N);function we(f){const v=Fa();je(v,new Fr(v,f))}ve.Ja="timingevent";function xi(f,v){N.call(this,ve.Ja,f),this.size=v}_(xi,N);function wi(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},v)}function ai(){this.g=!0}ai.prototype.ua=function(){this.g=!1};function Ed(f,v,T,w,F,X){f.info(function(){if(f.g)if(X){var lt="",Dt=X.split("&");for(let Kt=0;Kt<Dt.length;Kt++){var be=Dt[Kt].split("=");if(be.length>1){const de=be[0];be=be[1];const Gn=de.split("_");lt=Gn.length>=2&&Gn[1]=="type"?lt+(de+"="+be+"&"):lt+(de+"=redacted&")}}}else lt=null;else lt=X;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+v+`
`+T+`
`+lt})}function _u(f,v,T,w,F,X,lt){f.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+v+`
`+T+`
`+X+" "+lt})}function Ri(f,v,T,w){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Td(f,T)+(w?" "+w:"")})}function Hr(f,v){f.info(function(){return"TIMEOUT: "+v})}ai.prototype.info=function(){};function Td(f,v){if(!f.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(f=0;f<X.length;f++)if(Array.isArray(X[f])){var T=X[f];if(!(T.length<2)){var w=T[1];if(Array.isArray(w)&&!(w.length<1)){var F=w[0];if(F!="noop"&&F!="stop"&&F!="close")for(let lt=1;lt<w.length;lt++)w[lt]=""}}}}return Ls(X)}catch{return v}}var qr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yl;function Gr(){}_(Gr,gu),Gr.prototype.g=function(){return new XMLHttpRequest},yl=new Gr;function is(f){return encodeURIComponent(String(f))}function vu(f){var v=1;f=f.split(":");const T=[];for(;v>0&&f.length;)T.push(f.shift()),v--;return f.length&&T.push(f.join(":")),T}function oi(f,v,T,w){this.j=f,this.i=v,this.l=T,this.S=w||1,this.V=new Br(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var Re={},Ge={};function Ci(f,v,T){f.M=1,f.A=Yr(Ie(v)),f.u=T,f.R=!0,Ha(f,null)}function Ha(f,v){f.F=Date.now(),Ii(f),f.B=Ie(f.A);var T=f.B,w=f.S;Array.isArray(w)||(w=[String(w)]),Ka(T.i,"t",w),f.C=0,T=f.j.L,f.h=new li,f.g=ku(f.j,T?v:null,!f.u),f.P>0&&(f.O=new dn(m(f.Y,f,f.g),f.P)),v=f.V,T=f.g,w=f.ba;var F="readystatechange";Array.isArray(F)||(F&&(gl[0]=F.toString()),F=gl);for(let X=0;X<F.length;X++){const lt=oe(T,F[X],w||v.handleEvent,!1,v.h||v);if(!lt)break;v.g[lt.key]=lt}v=f.J?j(f.J):{},f.u?(f.v||(f.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,v)):(f.v="GET",f.g.ea(f.B,f.v,null,v)),Ai(),Ed(f.i,f.v,f.B,f.l,f.S,f.u)}oi.prototype.ba=function(f){f=f.target;const v=this.O;v&&hi(f)==3?v.j():this.Y(f)},oi.prototype.Y=function(f){try{if(f==this.g)t:{const Dt=hi(this.g),be=this.g.ya(),Kt=this.g.ca();if(!(Dt<3)&&(Dt!=3||this.g&&(this.h.h||this.g.la()||We(this.g)))){this.K||Dt!=4||be==7||(be==8||Kt<=0?Ai(3):Ai(2)),Di(this);var v=this.g.ca();this.X=v;var T=Sd(this);if(this.o=v==200,_u(this.i,this.v,this.B,this.l,this.S,Dt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var w,F=this.g;if((w=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var X=w;break e}}X=null}if(f=X)Ri(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mi(this,f);else{this.o=!1,this.m=3,we(12),Cn(this),Fn(this);break t}}if(this.R){f=!0;let de;for(;!this.K&&this.C<T.length;)if(de=Eu(this,T),de==Ge){Dt==4&&(this.m=4,we(14),f=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(de==Re){this.m=4,we(15),Ri(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else Ri(this.i,this.l,de,null),Mi(this,de);if(bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||T.length!=0||this.h.h||(this.m=1,we(16),f=!1),this.o=this.o&&f,!f)Ri(this.i,this.l,T,"[Invalid Chunked Response]"),Cn(this),Fn(this);else if(T.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Ol(lt),lt.P=!0,we(11))}}else Ri(this.i,this.l,T,null),Mi(this,T);Dt==4&&Cn(this),this.o&&!this.K&&(Dt==4?Du(this.j,this):(this.o=!1,Ii(this)))}else rs(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),Cn(this),Fn(this)}}}catch{}};function Sd(f){if(!bu(f))return f.g.la();const v=We(f.g);if(v==="")return"";let T="";const w=v.length,F=hi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Cn(f),Fn(f),"";f.h.i=new c.TextDecoder}for(let X=0;X<w;X++)f.h.h=!0,T+=f.h.i.decode(v[X],{stream:!(F&&X==w-1)});return v.length=0,f.h.g+=T,f.C=0,f.h.g}function bu(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Eu(f,v){var T=f.C,w=v.indexOf(`
`,T);return w==-1?Ge:(T=Number(v.substring(T,w)),isNaN(T)?Re:(w+=1,w+T>v.length?Ge:(v=v.slice(w,w+T),f.C=w+T,v)))}oi.prototype.cancel=function(){this.K=!0,Cn(this)};function Ii(f){f.T=Date.now()+f.H,qa(f,f.H)}function qa(f,v){if(f.D!=null)throw Error("WatchDog timer not null");f.D=wi(m(f.aa,f),v)}function Di(f){f.D&&(c.clearTimeout(f.D),f.D=null)}oi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Hr(this.i,this.B),this.M!=2&&(Ai(),we(17)),Cn(this),this.m=2,Fn(this)):qa(this,this.T-f)};function Fn(f){f.j.I==0||f.K||Du(f.j,f)}function Cn(f){Di(f);var v=f.O;v&&typeof v.dispose=="function"&&v.dispose(),f.O=null,ml(f.V),f.g&&(v=f.g,f.g=null,v.abort(),v.dispose())}function Mi(f,v){try{var T=f.j;if(T.I!=0&&(T.g==f||Ni(T.h,f))){if(!f.L&&Ni(T.h,f)&&T.I==3){try{var w=T.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)Ja(T),Gs(T);else break t;Zr(T),we(18)}}else T.xa=F[1],0<T.xa-T.K&&F[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=wi(m(T.Va,T),6e3));Oi(T.h)<=1&&T.ta&&(T.ta=void 0)}else ji(T,11)}else if((f.L||T.g==f)&&Ja(T),!C(v))for(F=T.Ba.g.parse(v),v=0;v<F.length;v++){let Kt=F[v];const de=Kt[0];if(!(de<=T.K))if(T.K=de,Kt=Kt[1],T.I==2)if(Kt[0]=="c"){T.M=Kt[1],T.ba=Kt[2];const Gn=Kt[3];Gn!=null&&(T.ka=Gn,T.j.info("VER="+T.ka));const Ui=Kt[4];Ui!=null&&(T.za=Ui,T.j.info("SVER="+T.za));const fi=Kt[5];fi!=null&&typeof fi=="number"&&fi>0&&(w=1.5*fi,T.O=w,T.j.info("backChannelRequestTimeoutMs_="+w)),w=T;const di=f.g;if(di){const ta=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var X=w.h;X.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(bl(X,X.h),X.h=null))}if(w.G){const Za=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;Za&&(w.wa=Za,Wt(w.J,w.G,Za))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),w=T;var lt=f;if(w.na=Nu(w,w.L?w.ba:null,w.W),lt.L){El(w.h,lt);var Dt=lt,be=w.O;be&&(Dt.H=be),Dt.D&&(Di(Dt),Ii(Dt)),w.g=lt}else Cu(w);T.i.length>0&&zi(T)}else Kt[0]!="stop"&&Kt[0]!="close"||ji(T,7);else T.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?ji(T,7):Dl(T):Kt[0]!="noop"&&T.l&&T.l.qa(Kt),T.A=0)}}Ai(4)}catch{}}var Ce=class{constructor(f,v){this.g=f,this.map=v}};function _l(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Oi(f){return f.h?1:f.g?f.g.size:0}function Ni(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function bl(f,v){f.g?f.g.add(v):f.h=v}function El(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}_l.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Tl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const T of f.g.values())v=v.concat(T.G);return v}return S(f.i)}var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ga(f,v){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const w=f[T].indexOf("=");let F,X=null;w>=0?(F=f[T].substring(0,w),X=f[T].substring(w+1)):F=f[T],v(F,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function In(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;f instanceof In?(this.l=f.l,Ye(this,f.j),this.o=f.o,this.g=f.g,zs(this,f.u),this.h=f.h,Sl(this,wu(f.i)),this.m=f.m):f&&(v=String(f).match(Tu))?(this.l=!1,Ye(this,v[1]||"",!0),this.o=ki(v[2]||""),this.g=ki(v[3]||"",!0),zs(this,v[4]),this.h=ki(v[5]||"",!0),Sl(this,v[6]||"",!0),this.m=ki(v[7]||"")):(this.l=!1,this.i=new Us(null,this.l))}In.prototype.toString=function(){const f=[];var v=this.j;v&&f.push(Kr(v,Ya,!0),":");var T=this.g;return(T||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Kr(v,Ya,!0),"@"),f.push(is(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(Kr(T,T.charAt(0)=="/"?Al:Su,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",Kr(T,Au)),f.join("")},In.prototype.resolve=function(f){const v=Ie(this);let T=!!f.j;T?Ye(v,f.j):T=!!f.o,T?v.o=f.o:T=!!f.g,T?v.g=f.g:T=f.u!=null;var w=f.h;if(T)zs(v,f.u);else if(T=!!f.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var F=v.h.lastIndexOf("/");F!=-1&&(w=v.h.slice(0,F+1)+w)}if(F=w,F==".."||F==".")w="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){w=F.lastIndexOf("/",0)==0,F=F.split("/");const X=[];for(let lt=0;lt<F.length;){const Dt=F[lt++];Dt=="."?w&&lt==F.length&&X.push(""):Dt==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),w&&lt==F.length&&X.push("")):(X.push(Dt),w=!0)}w=X.join("/")}else w=F}return T?v.h=w:T=f.i.toString()!=="",T?Sl(v,wu(f.i)):T=!!f.m,T&&(v.m=f.m),v};function Ie(f){return new In(f)}function Ye(f,v,T){f.j=T?ki(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function zs(f,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);f.u=v}else f.u=null}function Sl(f,v,T){v instanceof Us?(f.i=v,Qa(f.i,f.l)):(T||(v=Kr(v,js)),f.i=new Us(v,f.l))}function Wt(f,v,T){f.i.set(v,T)}function Yr(f){return Wt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ki(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Kr(f,v,T){return typeof f=="string"?(f=encodeURI(f).replace(v,pn),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function pn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ya=/[#\/\?@]/g,Su=/[#\?:]/g,Al=/[#\?]/g,js=/[#\?@]/g,Au=/#/g;function Us(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function yn(f){f.g||(f.g=new Map,f.h=0,f.i&&Ga(f.i,function(v,T){f.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=Us.prototype,n.add=function(f,v){yn(this),this.i=null,f=Bs(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(v),this.h+=1,this};function xu(f,v){yn(f),v=Bs(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function xl(f,v){return yn(f),v=Bs(f,v),f.g.has(v)}n.forEach=function(f,v){yn(this),this.g.forEach(function(T,w){T.forEach(function(F){f.call(v,F,w,this)},this)},this)};function wl(f,v){yn(f);let T=[];if(typeof v=="string")xl(f,v)&&(T=T.concat(f.g.get(Bs(f,v))));else for(f=Array.from(f.g.values()),v=0;v<f.length;v++)T=T.concat(f[v]);return T}n.set=function(f,v){return yn(this),this.i=null,f=Bs(this,f),xl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},n.get=function(f,v){return f?(f=wl(this,f),f.length>0?String(f[0]):v):v};function Ka(f,v,T){xu(f,v),T.length>0&&(f.i=null,f.g.set(Bs(f,v),S(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var T=v[w];const F=is(T);T=wl(this,T);for(let X=0;X<T.length;X++){let lt=F;T[X]!==""&&(lt+="="+is(T[X])),f.push(lt)}}return this.i=f.join("&")};function wu(f){const v=new Us;return v.i=f.i,f.g&&(v.g=new Map(f.g),v.h=f.h),v}function Bs(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function Qa(f,v){v&&!f.j&&(yn(f),f.i=null,f.g.forEach(function(T,w){const F=w.toLowerCase();w!=F&&(xu(this,w),Ka(this,F,T))},f)),f.j=v}function ci(f,v){const T=new ai;if(c.Image){const w=new Image;w.onload=y(Hn,T,"TestLoadImage: loaded",!0,v,w),w.onerror=y(Hn,T,"TestLoadImage: error",!1,v,w),w.onabort=y(Hn,T,"TestLoadImage: abort",!1,v,w),w.ontimeout=y(Hn,T,"TestLoadImage: timeout",!1,v,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=f}else v(!1)}function Rl(f,v){const T=new ai,w=new AbortController,F=setTimeout(()=>{w.abort(),Hn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:w.signal}).then(X=>{clearTimeout(F),X.ok?Hn(T,"TestPingServer: ok",!0,v):Hn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),Hn(T,"TestPingServer: error",!1,v)})}function Hn(f,v,T,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(T)}catch{}}function Fs(){this.g=new du}function Vi(f){this.i=f.Sb||null,this.h=f.ab||!1}_(Vi,gu),Vi.prototype.g=function(){return new Qr(this.i,this.h)};function Qr(f,v){xe.call(this),this.H=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Qr,xe),n=Qr.prototype,n.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=v,this.readyState=1,ui(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(v.body=f),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xa(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xa(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Hs(this):ui(this),this.readyState==3&&Xa(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,Hs(this))},n.Na=function(f){this.g&&(this.response=f,Hs(this))},n.ga=function(){this.g&&Hs(this)};function Hs(f){f.readyState=4,f.l=null,f.j=null,f.B=null,ui(f)}n.setRequestHeader=function(f,v){this.A.append(f,v)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=v.next();return f.join(`\r
`)};function ui(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function qn(f){let v="";return _t(f,function(T,w){v+=w,v+=":",v+=T,v+=`\r
`}),v}function Xr(f,v,T){t:{for(w in T){var w=!1;break t}w=!0}w||(T=qn(T),typeof f=="string"?T!=null&&is(T):Wt(f,v,T))}function te(f){xe.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(te,xe);var Pi=/^https?$/i,Cl=["POST","PUT"];n=te.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,v,T,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yl.g(),this.g.onreadystatechange=E(m(this.Ca,this));try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(X){Wr(this,X);return}if(f=T||"",T=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)T.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const X of w.keys())T.set(X,w.get(X));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),F=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Cl,v,void 0)>=0)||w||F||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,lt]of T)this.g.setRequestHeader(X,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(X){Wr(this,X)}};function Wr(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.o=5,Il(f),ss(f)}function Il(f){f.A||(f.A=!0,je(f,"complete"),je(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,je(this,"complete"),je(this,"abort"),ss(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),te.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?$r(this):this.Xa())},n.Xa=function(){$r(this)};function $r(f){if(f.h&&typeof o<"u"){if(f.v&&hi(f)==4)setTimeout(f.Ca.bind(f),0);else if(je(f,"readystatechange"),hi(f)==4){f.h=!1;try{const X=f.ca();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var T;if(!(T=v)){var w;if(w=X===0){let lt=String(f.D).match(Tu)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),w=!Pi.test(lt?lt.toLowerCase():"")}T=w}if(T)je(f,"complete"),je(f,"success");else{f.o=6;try{var F=hi(f)>2?f.g.statusText:""}catch{F=""}f.l=F+" ["+f.ca()+"]",Il(f)}}finally{ss(f)}}}}function ss(f,v){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,v||je(f,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function hi(f){return f.g?f.g.readyState:0}n.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),bd(v)}};function We(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(f){const v={};f=(f.g&&hi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<f.length;w++){if(C(f[w]))continue;var T=vu(f[w]);const F=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=v[F]||[];v[F]=X,X.push(T)}Tt(v,function(w){return w.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(f,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||v}function qs(f){this.za=0,this.i=[],this.j=new ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Li("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Li("baseRetryDelayMs",5e3,f),this.Za=Li("retryDelaySeedMs",1e4,f),this.Ta=Li("forwardChannelMaxRetries",2,f),this.va=Li("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new _l(f&&f.concurrentRequestLimit),this.Ba=new Fs,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=qs.prototype,n.ka=8,n.I=1,n.connect=function(f,v,T,w){we(0),this.W=f,this.H=v||{},T&&w!==void 0&&(this.H.OSID=T,this.H.OAID=w),this.F=this.X,this.J=Nu(this,null,this.W),zi(this)};function Dl(f){if(Wa(f),f.I==3){var v=f.V++,T=Ie(f.J);if(Wt(T,"SID",f.M),Wt(T,"RID",v),Wt(T,"TYPE","terminate"),Jr(f,T),v=new oi(f,f.j,v),v.M=2,v.A=Yr(Ie(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=v.A,T=!0),T||(v.g=ku(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ii(v)}Ou(f)}function Gs(f){f.g&&(Ol(f),f.g.cancel(),f.g=null)}function Wa(f){Gs(f),f.v&&(c.clearTimeout(f.v),f.v=null),Ja(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function zi(f){if(!vl(f.h)&&!f.m){f.m=!0;var v=f.Ea;it||R(),Q||(it(),Q=!0),D.add(v,f),f.D=0}}function $a(f,v){return Oi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=v.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=wi(m(f.Ea,f,v),Mu(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const F=new oi(this,this.j,f);let X=this.o;if(this.U&&(X?(X=j(X),ot(X,this.U)):X=this.U),this.u!==null||this.R||(F.J=X,X=null),this.S)t:{for(var v=0,T=0;T<this.i.length;T++){e:{var w=this.i[T];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=T;break t}if(v===4096||T===this.i.length-1){v=T+1;break t}}v=1e3}else v=1e3;v=Ru(this,F,v),T=Ie(this.J),Wt(T,"RID",f),Wt(T,"CVER",22),this.G&&Wt(T,"X-HTTP-Session-Id",this.G),Jr(this,T),X&&(this.R?v="headers="+is(qn(X))+"&"+v:this.u&&Xr(T,this.u,X)),bl(this.h,F),this.Ra&&Wt(T,"TYPE","init"),this.S?(Wt(T,"$req",v),Wt(T,"SID","null"),F.U=!0,Ci(F,T,null)):Ci(F,T,v),this.I=2}}else this.I==3&&(f?Ml(this,f):this.i.length==0||vl(this.h)||Ml(this))};function Ml(f,v){var T;v?T=v.l:T=f.V++;const w=Ie(f.J);Wt(w,"SID",f.M),Wt(w,"RID",T),Wt(w,"AID",f.K),Jr(f,w),f.u&&f.o&&Xr(w,f.u,f.o),T=new oi(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),v&&(f.i=v.G.concat(f.i)),v=Ru(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),bl(f.h,T),Ci(T,w,v)}function Jr(f,v){f.H&&_t(f.H,function(T,w){Wt(v,w,T)}),f.l&&_t({},function(T,w){Wt(v,w,T)})}function Ru(f,v,T){T=Math.min(f.i.length,T);const w=f.l?m(f.l.Ka,f.l,f):null;t:{var F=f.i;let Dt=-1;for(;;){const be=["count="+T];Dt==-1?T>0?(Dt=F[0].g,be.push("ofs="+Dt)):Dt=0:be.push("ofs="+Dt);let Kt=!0;for(let de=0;de<T;de++){var X=F[de].g;const Gn=F[de].map;if(X-=Dt,X<0)Dt=Math.max(0,F[de].g-100),Kt=!1;else try{X="req"+X+"_"||"";try{var lt=Gn instanceof Map?Gn:Object.entries(Gn);for(const[Ui,fi]of lt){let di=fi;h(fi)&&(di=Ls(fi)),be.push(X+Ui+"="+encodeURIComponent(di))}}catch(Ui){throw be.push(X+"type="+encodeURIComponent("_badmap")),Ui}}catch{w&&w(Gn)}}if(Kt){lt=be.join("&");break t}}lt=void 0}return f=f.i.splice(0,T),v.G=f,lt}function Cu(f){if(!f.g&&!f.v){f.Y=1;var v=f.Da;it||R(),Q||(it(),Q=!0),D.add(v,f),f.A=0}}function Zr(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=wi(m(f.Da,f),Mu(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=wi(m(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),Gs(this),Iu(this))};function Ol(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Iu(f){f.g=new oi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var v=Ie(f.na);Wt(v,"RID","rpc"),Wt(v,"SID",f.M),Wt(v,"AID",f.K),Wt(v,"CI",f.F?"0":"1"),!f.F&&f.ia&&Wt(v,"TO",f.ia),Wt(v,"TYPE","xmlhttp"),Jr(f,v),f.u&&f.o&&Xr(v,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=Yr(Ie(v)),T.u=null,T.R=!0,Ha(T,f)}n.Va=function(){this.C!=null&&(this.C=null,Gs(this),Zr(this),we(19))};function Ja(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Du(f,v){var T=null;if(f.g==v){Ja(f),Ol(f),f.g=null;var w=2}else if(Ni(f.h,v))T=v.G,El(f.h,v),w=1;else return;if(f.I!=0){if(v.o)if(w==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var F=f.D;w=Fa(),je(w,new xi(w,T)),zi(f)}else Cu(f);else if(F=v.m,F==3||F==0&&v.X>0||!(w==1&&$a(f,v)||w==2&&Zr(f)))switch(T&&T.length>0&&(v=f.h,v.i=v.i.concat(T)),F){case 1:ji(f,5);break;case 4:ji(f,10);break;case 3:ji(f,6);break;default:ji(f,2)}}}function Mu(f,v){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*v}function ji(f,v){if(f.j.info("Error code "+v),v==2){var T=m(f.bb,f),w=f.Ua;const F=!w;w=new In(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ye(w,"https"),Yr(w),F?ci(w.toString(),T):Rl(w.toString(),T)}else we(2);f.I=0,f.l&&f.l.pa(v),Ou(f),Wa(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function Ou(f){if(f.I=0,f.ja=[],f.l){const v=Tl(f.h);(v.length!=0||f.i.length!=0)&&(M(f.ja,v),M(f.ja,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.oa()}}function Nu(f,v,T){var w=T instanceof In?Ie(T):new In(T);if(w.g!="")v&&(w.g=v+"."+w.g),zs(w,w.u);else{var F=c.location;w=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;const X=new In(null);w&&Ye(X,w),v&&(X.g=v),F&&zs(X,F),T&&(X.h=T),w=X}return T=f.G,v=f.wa,T&&v&&Wt(w,T,v),Wt(w,"VER",f.ka),Jr(f,w),w}function ku(f,v,T){if(v&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Aa&&!f.ma?new te(new Vi({ab:T})):new te(f.ma),v.Fa(f.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}n=Vu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ys(){}Ys.prototype.g=function(f,v){return new gn(f,v)};function gn(f,v){xe.call(this),this.g=new qs(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(f?f["X-WebChannel-Client-Profile"]=v.sa:f={"X-WebChannel-Client-Profile":v.sa}),this.g.U=f,(f=v&&v.Qb)&&!C(f)&&(this.g.u=f),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!C(v)&&(this.g.G=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new as(this)}_(gn,xe),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Dl(this.g)},gn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=Ls(f),f=T);v.i.push(new Ce(v.Ya++,f)),v.I==3&&zi(v)},gn.prototype.N=function(){this.g.l=null,delete this.j,Dl(this.g),delete this.g,gn.Z.N.call(this)};function Pu(f){Xe.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){t:{for(const T in v){f=T;break t}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}_(Pu,Xe);function Lu(){Bn.call(this),this.status=1}_(Lu,Bn);function as(f){this.g=f}_(as,Vu),as.prototype.ra=function(){je(this.g,"a")},as.prototype.qa=function(f){je(this.g,new Pu(f))},as.prototype.pa=function(f){je(this.g,new Lu)},as.prototype.oa=function(){je(this.g,"b")},Ys.prototype.createWebChannel=Ys.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,iA=function(){return new Ys},nA=function(){return Fa()},eA=ve,op={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qr.NO_ERROR=0,qr.TIMEOUT=8,qr.HTTP_ERROR=6,df=qr,pl.COMPLETE="complete",tA=pl,mu.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",xe.prototype.listen=xe.prototype.J,Ac=mu,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,ZS=te}).apply(typeof Gh<"u"?Gh:typeof self<"u"?self:typeof window<"u"?window:{});class cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let sl="12.8.0";function YI(n){sl=n}const Ma=new Dp("@firebase/firestore");function Oo(){return Ma.logLevel}function dt(n,...t){if(Ma.logLevel<=zt.DEBUG){const e=t.map(Hp);Ma.debug(`Firestore (${sl}): ${n}`,...e)}}function Ns(n,...t){if(Ma.logLevel<=zt.ERROR){const e=t.map(Hp);Ma.error(`Firestore (${sl}): ${n}`,...e)}}function Yo(n,...t){if(Ma.logLevel<=zt.WARN){const e=t.map(Hp);Ma.warn(`Firestore (${sl}): ${n}`,...e)}}function Hp(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function xt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,sA(n,i,e)}function sA(n,t,e){let i=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Ns(i),new Error(i)}function Xt(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||sA(t,a,i)}function It(n,t){return n}const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Vs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xa{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class rA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class KI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(cn.UNAUTHENTICATED)))}shutdown(){}}class QI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class XI{constructor(t){this.t=t,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Xt(this.o===void 0,42304);let i=this.i;const a=d=>this.i!==i?(i=this.i,e(d)):Promise.resolve();let o=new xa;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new xa,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=o;t.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new xa)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xt(typeof i.accessToken=="string",31837,{l:i}),new rA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new cn(t)}}class WI{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class $I{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new WI(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class K0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JI{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_i(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Xt(this.o===void 0,3512);const i=o=>{o.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,dt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const a=o=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new K0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Xt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new K0(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ZI(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class qp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=ZI(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<e&&(i+=t.charAt(a[o]%62))}return i}}function jt(n,t){return n<t?-1:n>t?1:0}function lp(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const a=n.charAt(i),o=t.charAt(i);if(a!==o)return Dm(a)===Dm(o)?jt(a,o):Dm(a)?1:-1}return jt(n.length,t.length)}const tD=55296,eD=57343;function Dm(n){const t=n.charCodeAt(0);return t>=tD&&t<=eD}function Ko(n,t,e){return n.length===t.length&&n.every(((i,a)=>e(i,t[a])))}const Q0="__name__";class Xi{constructor(t,e,i){e===void 0?e=0:e>t.length&&xt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&xt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Xi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Xi?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const o=Xi.compareSegments(t.get(a),e.get(a));if(o!==0)return o}return jt(t.length,e.length)}static compareSegments(t,e){const i=Xi.isNumericId(t),a=Xi.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?Xi.extractNumericId(t).compare(Xi.extractNumericId(e)):lp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return wr.fromString(t.substring(4,t.length-2))}}class le extends Xi{construct(t,e,i){return new le(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ht(et.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((a=>a.length>0)))}return new le(e)}static emptyPath(){return new le([])}}const nD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Xi{construct(t,e,i){return new sn(t,e,i)}static isValidIdentifier(t){return nD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q0}static keyField(){return new sn([Q0])}static fromServerFormat(t){const e=[];let i="",a=0;const o=()=>{if(i.length===0)throw new ht(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new ht(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ht(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(o(),a++)}if(o(),c)throw new ht(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new sn(e)}static emptyPath(){return new sn([])}}class Et{constructor(t){this.path=t}static fromPath(t){return new Et(le.fromString(t))}static fromName(t){return new Et(le.fromString(t).popFirst(5))}static empty(){return new Et(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return le.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new le(t.slice()))}}function aA(n,t,e){if(!e)throw new ht(et.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function iD(n,t,e,i){if(t===!0&&i===!0)throw new ht(et.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function X0(n){if(!Et.isDocumentKey(n))throw new ht(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function W0(n){if(Et.isDocumentKey(n))throw new ht(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function oA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function td(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":xt(12329,{type:typeof n})}function Rr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ht(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=td(n);throw new ht(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Pe(n,t){const e={typeString:n};return t&&(e.value=t),e}function ru(n,t){if(!oA(n))throw new ht(et.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const a=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(a&&typeof c!==a){e=`JSON field '${i}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new ht(et.INVALID_ARGUMENT,e);return!0}const $0=-62135596800,J0=1e6;class fe{static now(){return fe.fromMillis(Date.now())}static fromDate(t){return fe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*J0);return new fe(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ht(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ht(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<$0)throw new ht(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J0}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ru(t,fe._jsonSchema))return new fe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-$0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fe._jsonSchemaVersion="firestore/timestamp/1.0",fe._jsonSchema={type:Pe("string",fe._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new fe(0,0))}static max(){return new Rt(new fe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fc=-1;function sD(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Rt.fromTimestamp(i===1e9?new fe(e+1,0):new fe(e,i));return new Mr(a,Et.empty(),t)}function rD(n){return new Mr(n.readTime,n.key,Fc)}class Mr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Mr(Rt.min(),Et.empty(),Fc)}static max(){return new Mr(Rt.max(),Et.empty(),Fc)}}function aD(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Et.comparator(n.documentKey,t.documentKey),e!==0?e:jt(n.largestBatchId,t.largestBatchId))}const oD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function rl(n){if(n.code!==et.FAILED_PRECONDITION||n.message!==oD)throw n;dt("LocalStore","Unexpectedly lost primary lease")}class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new rt(((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof rt?e:rt.resolve(e)}catch(e){return rt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):rt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):rt.reject(e)}static resolve(t){return new rt(((e,i)=>{e(t)}))}static reject(t){return new rt(((e,i)=>{i(t)}))}static waitFor(t){return new rt(((e,i)=>{let a=0,o=0,c=!1;t.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&e()}),(d=>i(d)))})),c=!0,o===a&&e()}))}static or(t){let e=rt.resolve(!1);for(const i of t)e=e.next((a=>a?rt.resolve(a):i()));return e}static forEach(t,e){const i=[];return t.forEach(((a,o)=>{i.push(e.call(this,a,o))})),this.waitFor(i)}static mapArray(t,e){return new rt(((i,a)=>{const o=t.length,c=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;e(t[m]).next((y=>{c[m]=y,++h,h===o&&i(c)}),(y=>a(y)))}}))}static doWhile(t,e){return new rt(((i,a)=>{const o=()=>{t()===!0?e().next((()=>{o()}),a):i()};o()}))}}function cD(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function al(n){return n.name==="IndexedDbTransactionError"}class ed{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ed.ce=-1;const Gp=-1;function nd(n){return n==null}function Df(n){return n===0&&1/n==-1/0}function uD(n){return typeof n=="number"&&Number.isInteger(n)&&!Df(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const lA="";function hD(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Z0(t)),t=fD(n.get(e),t);return Z0(t)}function fD(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const o=n.charAt(a);switch(o){case"\0":e+="";break;case lA:e+="";break;default:e+=o}}return e}function Z0(n){return n+lA+""}function tE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function zr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function cA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class me{constructor(t,e){this.comparator=t,this.root=e||nn.EMPTY}insert(t,e){return new me(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,nn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Yh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Yh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Yh(this.root,t,this.comparator,!0)}}class Yh{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class nn{constructor(t,e,i,a,o){this.key=t,this.value=e,this.color=i??nn.RED,this.left=a??nn.EMPTY,this.right=o??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,o){return new nn(t??this.key,e??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const o=i(t,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(t,e,i),null):o===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return nn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw xt(27949);return t+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw xt(57766)}get value(){throw xt(16141)}get color(){throw xt(16727)}get left(){throw xt(29726)}get right(){throw xt(36894)}copy(t,e,i,a,o){return this}insert(t,e,i){return new nn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class He{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new eE(this.data.getIterator())}getIteratorFrom(t){return new eE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new He(this.comparator);return e.data=t,e}}class eE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zn{constructor(t){this.fields=t,t.sort(sn.comparator)}static empty(){return new zn([])}unionWith(t){let e=new He(sn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new zn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ko(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class uA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new uA("Invalid base64 string: "+o):o}})(t);return new rn(e)}static fromUint8Array(t){const e=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(t);return new rn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const dD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(n){if(Xt(!!n,39018),typeof n=="string"){let t=0;const e=dD.exec(n);if(Xt(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Se(n.seconds),nanos:Se(n.nanos)}}function Se(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Nr(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}const hA="server_timestamp",fA="__type__",dA="__previous_value__",gA="__local_write_time__";function Yp(n){return(n?.mapValue?.fields||{})[fA]?.stringValue===hA}function id(n){const t=n.mapValue.fields[dA];return Yp(t)?id(t):t}function Hc(n){const t=Or(n.mapValue.fields[gA].timestampValue);return new fe(t.seconds,t.nanos)}class gD{constructor(t,e,i,a,o,c,h,d,m,y,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=y,this.apiKey=_}}const Mf="(default)";class qc{constructor(t,e){this.projectId=t,this.database=e||Mf}static empty(){return new qc("","")}get isDefaultDatabase(){return this.database===Mf}isEqual(t){return t instanceof qc&&t.projectId===this.projectId&&t.database===this.database}}function mD(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ht(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(n.options.projectId,t)}const mA="__type__",pD="__max__",Kh={mapValue:{}},pA="__vector__",Of="value";function kr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yp(n)?4:_D(n)?9007199254740991:yD(n)?10:11:xt(28295,{value:n})}function ns(n,t){if(n===t)return!0;const e=kr(n);if(e!==kr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Hc(n).isEqual(Hc(t));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Or(a.timestampValue),h=Or(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,o){return Nr(a.bytesValue).isEqual(Nr(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,o){return Se(a.geoPointValue.latitude)===Se(o.geoPointValue.latitude)&&Se(a.geoPointValue.longitude)===Se(o.geoPointValue.longitude)})(n,t);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Se(a.integerValue)===Se(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Se(a.doubleValue),h=Se(o.doubleValue);return c===h?Df(c)===Df(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return Ko(n.arrayValue.values||[],t.arrayValue.values||[],ns);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(tE(c)!==tE(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!ns(c[d],h[d])))return!1;return!0})(n,t);default:return xt(52216,{left:n})}}function Gc(n,t){return(n.values||[]).find((e=>ns(e,t)))!==void 0}function Qo(n,t){if(n===t)return 0;const e=kr(n),i=kr(t);if(e!==i)return jt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=Se(o.integerValue||o.doubleValue),d=Se(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,t);case 3:return nE(n.timestampValue,t.timestampValue);case 4:return nE(Hc(n),Hc(t));case 5:return lp(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=Nr(o),d=Nr(c);return h.compareTo(d)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),d=c.split("/");for(let m=0;m<h.length&&m<d.length;m++){const y=jt(h[m],d[m]);if(y!==0)return y}return jt(h.length,d.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=jt(Se(o.latitude),Se(c.latitude));return h!==0?h:jt(Se(o.longitude),Se(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return iE(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},d=c.fields||{},m=h[Of]?.arrayValue,y=d[Of]?.arrayValue,_=jt(m?.values?.length||0,y?.values?.length||0);return _!==0?_:iE(m,y)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===Kh.mapValue&&c===Kh.mapValue)return 0;if(o===Kh.mapValue)return 1;if(c===Kh.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=c.fields||{},y=Object.keys(m);d.sort(),y.sort();for(let _=0;_<d.length&&_<y.length;++_){const E=lp(d[_],y[_]);if(E!==0)return E;const S=Qo(h[d[_]],m[y[_]]);if(S!==0)return S}return jt(d.length,y.length)})(n.mapValue,t.mapValue);default:throw xt(23264,{he:e})}}function nE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return jt(n,t);const e=Or(n),i=Or(t),a=jt(e.seconds,i.seconds);return a!==0?a:jt(e.nanos,i.nanos)}function iE(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const o=Qo(e[a],i[a]);if(o)return o}return jt(e.length,i.length)}function Xo(n){return cp(n)}function cp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Or(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Nr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Et.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",a=!0;for(const o of e.values||[])a?a=!1:i+=",",i+=cp(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let a="{",o=!0;for(const c of i)o?o=!1:a+=",",a+=`${c}:${cp(e.fields[c])}`;return a+"}"})(n.mapValue):xt(61005,{value:n})}function gf(n){switch(kr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=id(n);return t?16+gf(t):16;case 5:return 2*n.stringValue.length;case 6:return Nr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,o)=>a+gf(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return zr(i.fields,((o,c)=>{a+=o.length+gf(c)})),a})(n.mapValue);default:throw xt(13486,{value:n})}}function sE(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function up(n){return!!n&&"integerValue"in n}function Kp(n){return!!n&&"arrayValue"in n}function rE(n){return!!n&&"nullValue"in n}function aE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mf(n){return!!n&&"mapValue"in n}function yD(n){return(n?.mapValue?.fields||{})[mA]?.stringValue===pA}function Nc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return zr(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Nc(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Nc(n.arrayValue.values[e]);return t}return{...n}}function _D(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===pD}class xn{constructor(t){this.value=t}static empty(){return new xn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!mf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nc(e)}setAll(t){let e=sn.emptyPath(),i={},a=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const d=this.getFieldsMap(e);this.applyChanges(d,i,a),i={},a=[],e=h.popLast()}c?i[h.lastSegment()]=Nc(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,a)}delete(t){const e=this.field(t.popLast());mf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ns(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];mf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){zr(e,((a,o)=>t[a]=o));for(const a of i)delete t[a]}clone(){return new xn(Nc(this.value))}}function yA(n){const t=[];return zr(n.fields,((e,i)=>{const a=new sn([e]);if(mf(i)){const o=yA(i.mapValue).fields;if(o.length===0)t.push(a);else for(const c of o)t.push(a.child(c))}else t.push(a)})),new zn(t)}class un{constructor(t,e,i,a,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new un(t,0,Rt.min(),Rt.min(),Rt.min(),xn.empty(),0)}static newFoundDocument(t,e,i,a){return new un(t,1,e,Rt.min(),i,a,0)}static newNoDocument(t,e){return new un(t,2,e,Rt.min(),Rt.min(),xn.empty(),0)}static newUnknownDocument(t,e){return new un(t,3,e,Rt.min(),Rt.min(),xn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nf{constructor(t,e){this.position=t,this.inclusive=e}}function oE(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const o=t[a],c=n.position[a];if(o.field.isKeyField()?i=Et.comparator(Et.fromName(c.referenceValue),e.key):i=Qo(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function lE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ns(n.position[e],t.position[e]))return!1;return!0}class Yc{constructor(t,e="asc"){this.field=t,this.dir=e}}function vD(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class _A{}class Ve extends _A{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new ED(t,e,i):e==="array-contains"?new AD(t,i):e==="in"?new xD(t,i):e==="not-in"?new wD(t,i):e==="array-contains-any"?new RD(t,i):new Ve(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new TD(t,i):new SD(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Qo(e,this.value)):e!==null&&kr(this.value)===kr(e)&&this.matchesComparison(Qo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends _A{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Ti(t,e)}matches(t){return vA(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vA(n){return n.op==="and"}function bA(n){return bD(n)&&vA(n)}function bD(n){for(const t of n.filters)if(t instanceof Ti)return!1;return!0}function hp(n){if(n instanceof Ve)return n.field.canonicalString()+n.op.toString()+Xo(n.value);if(bA(n))return n.filters.map((t=>hp(t))).join(",");{const t=n.filters.map((e=>hp(e))).join(",");return`${n.op}(${t})`}}function EA(n,t){return n instanceof Ve?(function(i,a){return a instanceof Ve&&i.op===a.op&&i.field.isEqual(a.field)&&ns(i.value,a.value)})(n,t):n instanceof Ti?(function(i,a){return a instanceof Ti&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((o,c,h)=>o&&EA(c,a.filters[h])),!0):!1})(n,t):void xt(19439)}function TA(n){return n instanceof Ve?(function(e){return`${e.field.canonicalString()} ${e.op} ${Xo(e.value)}`})(n):n instanceof Ti?(function(e){return e.op.toString()+" {"+e.getFilters().map(TA).join(" ,")+"}"})(n):"Filter"}class ED extends Ve{constructor(t,e,i){super(t,e,i),this.key=Et.fromName(i.referenceValue)}matches(t){const e=Et.comparator(t.key,this.key);return this.matchesComparison(e)}}class TD extends Ve{constructor(t,e){super(t,"in",e),this.keys=SA("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class SD extends Ve{constructor(t,e){super(t,"not-in",e),this.keys=SA("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function SA(n,t){return(t.arrayValue?.values||[]).map((e=>Et.fromName(e.referenceValue)))}class AD extends Ve{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Kp(e)&&Gc(e.arrayValue,this.value)}}class xD extends Ve{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Gc(this.value.arrayValue,e)}}class wD extends Ve{constructor(t,e){super(t,"not-in",e)}matches(t){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Gc(this.value.arrayValue,e)}}class RD extends Ve{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Kp(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Gc(this.value.arrayValue,i)))}}class CD{constructor(t,e=null,i=[],a=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function cE(n,t=null,e=[],i=[],a=null,o=null,c=null){return new CD(n,t,e,i,a,o,c)}function Qp(n){const t=It(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>hp(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),nd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Xo(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Xo(i))).join(",")),t.Te=e}return t.Te}function Xp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!vD(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!EA(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!lE(n.startAt,t.startAt)&&lE(n.endAt,t.endAt)}function fp(n){return Et.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class ol{constructor(t,e=null,i=[],a=[],o=null,c="F",h=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ID(n,t,e,i,a,o,c,h){return new ol(n,t,e,i,a,o,c,h)}function Wp(n){return new ol(n)}function uE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function DD(n){return Et.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function AA(n){return n.collectionGroup!==null}function kc(n){const t=It(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new He(sn.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Yc(o,i))})),e.has(sn.keyField().canonicalString())||t.Ie.push(new Yc(sn.keyField(),i))}return t.Ie}function Ji(n){const t=It(n);return t.Ee||(t.Ee=MD(t,kc(n))),t.Ee}function MD(n,t){if(n.limitType==="F")return cE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Yc(a.field,o)}));const e=n.endAt?new Nf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Nf(n.startAt.position,n.startAt.inclusive):null;return cE(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function dp(n,t){const e=n.filters.concat([t]);return new ol(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function OD(n,t){const e=n.explicitOrderBy.concat([t]);return new ol(n.path,n.collectionGroup,e,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function gp(n,t,e){return new ol(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function sd(n,t){return Xp(Ji(n),Ji(t))&&n.limitType===t.limitType}function xA(n){return`${Qp(Ji(n))}|lt:${n.limitType}`}function No(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((a=>TA(a))).join(", ")}]`),nd(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Xo(a))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Xo(a))).join(",")),`Target(${i})`})(Ji(n))}; limitType=${n.limitType})`}function rd(n,t){return t.isFoundDocument()&&(function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Et.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,a){for(const o of kc(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0})(n,t)&&(function(i,a){return!(i.startAt&&!(function(c,h,d){const m=oE(c,h,d);return c.inclusive?m<=0:m<0})(i.startAt,kc(i),a)||i.endAt&&!(function(c,h,d){const m=oE(c,h,d);return c.inclusive?m>=0:m>0})(i.endAt,kc(i),a))})(n,t)}function ND(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function wA(n){return(t,e)=>{let i=!1;for(const a of kc(n)){const o=kD(a,t,e);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function kD(n,t,e){const i=n.field.isKeyField()?Et.comparator(t.key,e.key):(function(o,c,h){const d=c.data.field(o),m=h.data.field(o);return d!==null&&m!==null?Qo(d,m):xt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return xt(19790,{direction:n.dir})}}class Va{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return void(a[o]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){zr(this.inner,((e,i)=>{for(const[a,o]of i)t(a,o)}))}isEmpty(){return cA(this.inner)}size(){return this.innerSize}}const VD=new me(Et.comparator);function ks(){return VD}const RA=new me(Et.comparator);function xc(...n){let t=RA;for(const e of n)t=t.insert(e.key,e);return t}function CA(n){let t=RA;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Ta(){return Vc()}function IA(){return Vc()}function Vc(){return new Va((n=>n.toString()),((n,t)=>n.isEqual(t)))}const PD=new me(Et.comparator),LD=new He(Et.comparator);function Ut(...n){let t=LD;for(const e of n)t=t.add(e);return t}const zD=new He(jt);function jD(){return zD}function $p(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Df(t)?"-0":t}}function DA(n){return{integerValue:""+n}}function UD(n,t){return uD(t)?DA(t):$p(n,t)}class ad{constructor(){this._=void 0}}function BD(n,t,e){return n instanceof kf?(function(a,o){const c={fields:{[fA]:{stringValue:hA},[gA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Yp(o)&&(o=id(o)),o&&(c.fields[dA]=o),{mapValue:c}})(e,t):n instanceof Kc?OA(n,t):n instanceof Qc?NA(n,t):(function(a,o){const c=MA(a,o),h=hE(c)+hE(a.Ae);return up(c)&&up(a.Ae)?DA(h):$p(a.serializer,h)})(n,t)}function FD(n,t,e){return n instanceof Kc?OA(n,t):n instanceof Qc?NA(n,t):e}function MA(n,t){return n instanceof Vf?(function(i){return up(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class kf extends ad{}class Kc extends ad{constructor(t){super(),this.elements=t}}function OA(n,t){const e=kA(t);for(const i of n.elements)e.some((a=>ns(a,i)))||e.push(i);return{arrayValue:{values:e}}}class Qc extends ad{constructor(t){super(),this.elements=t}}function NA(n,t){let e=kA(t);for(const i of n.elements)e=e.filter((a=>!ns(a,i)));return{arrayValue:{values:e}}}class Vf extends ad{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function hE(n){return Se(n.integerValue||n.doubleValue)}function kA(n){return Kp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function HD(n,t){return n.field.isEqual(t.field)&&(function(i,a){return i instanceof Kc&&a instanceof Kc||i instanceof Qc&&a instanceof Qc?Ko(i.elements,a.elements,ns):i instanceof Vf&&a instanceof Vf?ns(i.Ae,a.Ae):i instanceof kf&&a instanceof kf})(n.transform,t.transform)}class qD{constructor(t,e){this.version=t,this.transformResults=e}}class jn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new jn}static exists(t){return new jn(void 0,t)}static updateTime(t){return new jn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function pf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class od{}function VA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new ld(n.key,jn.none()):new au(n.key,n.data,jn.none());{const e=n.data,i=xn.empty();let a=new He(sn.comparator);for(let o of t.fields)if(!a.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),a=a.add(o)}return new jr(n.key,i,new zn(a.toArray()),jn.none())}}function GD(n,t,e){n instanceof au?(function(a,o,c){const h=a.value.clone(),d=dE(a.fieldTransforms,o,c.transformResults);h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof jr?(function(a,o,c){if(!pf(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=dE(a.fieldTransforms,o,c.transformResults),d=o.data;d.setAll(PA(a)),d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,t,e):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Pc(n,t,e,i){return n instanceof au?(function(o,c,h,d){if(!pf(o.precondition,c))return h;const m=o.value.clone(),y=gE(o.fieldTransforms,d,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,t,e,i):n instanceof jr?(function(o,c,h,d){if(!pf(o.precondition,c))return h;const m=gE(o.fieldTransforms,d,c),y=c.data;return y.setAll(PA(o)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,t,e,i):(function(o,c,h){return pf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function YD(n,t){let e=null;for(const i of n.fieldTransforms){const a=t.data.field(i.field),o=MA(i.transform,a||null);o!=null&&(e===null&&(e=xn.empty()),e.set(i.field,o))}return e||null}function fE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Ko(i,a,((o,c)=>HD(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class au extends od{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class jr extends od{constructor(t,e,i,a,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function PA(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function dE(n,t,e){const i=new Map;Xt(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let a=0;a<e.length;a++){const o=n[a],c=o.transform,h=t.data.field(o.field);i.set(o.field,FD(c,h,e[a]))}return i}function gE(n,t,e){const i=new Map;for(const a of n){const o=a.transform,c=e.data.field(a.field);i.set(a.field,BD(o,c,t))}return i}class ld extends od{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KD extends od{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QD{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(t.key)&&GD(o,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Pc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Pc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=IA();return this.mutations.forEach((a=>{const o=t.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(a.key)?null:h;const d=VA(c,h);d!==null&&i.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(Rt.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Ko(this.mutations,t.mutations,((e,i)=>fE(e,i)))&&Ko(this.baseMutations,t.baseMutations,((e,i)=>fE(e,i)))}}class Jp{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){Xt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=(function(){return PD})();const o=t.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,i[c].version);return new Jp(t,e,i,a)}}class XD{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class WD{constructor(t,e){this.count=t,this.unchangedNames=e}}var ke,Ft;function $D(n){switch(n){case et.OK:return xt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return xt(15467,{code:n})}}function LA(n){if(n===void 0)return Ns("GRPC error has no .code"),et.UNKNOWN;switch(n){case ke.OK:return et.OK;case ke.CANCELLED:return et.CANCELLED;case ke.UNKNOWN:return et.UNKNOWN;case ke.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case ke.INTERNAL:return et.INTERNAL;case ke.UNAVAILABLE:return et.UNAVAILABLE;case ke.UNAUTHENTICATED:return et.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case ke.NOT_FOUND:return et.NOT_FOUND;case ke.ALREADY_EXISTS:return et.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return et.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case ke.ABORTED:return et.ABORTED;case ke.OUT_OF_RANGE:return et.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return et.UNIMPLEMENTED;case ke.DATA_LOSS:return et.DATA_LOSS;default:return xt(39323,{code:n})}}(Ft=ke||(ke={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";function JD(){return new TextEncoder}const ZD=new wr([4294967295,4294967295],0);function mE(n){const t=JD().encode(n),e=new JS;return e.update(t),new Uint8Array(e.digest())}function pE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new wr([e,i],0),new wr([a,o],0)]}class Zp{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new wc(`Invalid padding: ${e}`);if(i<0)throw new wc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new wc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new wc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=wr.fromNumber(this.ge)}ye(t,e,i){let a=t.add(e.multiply(wr.fromNumber(i)));return a.compare(ZD)===1&&(a=new wr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=mE(t),[i,a]=pE(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new Zp(o,a,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=mE(t),[i,a]=pE(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);this.be(c)}}be(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cd{constructor(t,e,i,a,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,ou.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new cd(Rt.min(),a,new me(jt),ks(),Ut())}}class ou{constructor(t,e,i,a,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new ou(i,e,Ut(),Ut(),Ut())}}class yf{constructor(t,e,i,a){this.Se=t,this.removedTargetIds=e,this.key=i,this.De=a}}class zA{constructor(t,e){this.targetId=t,this.Ce=e}}class jA{constructor(t,e,i=rn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class yE{constructor(){this.ve=0,this.Fe=_E(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),e=Ut(),i=Ut();return this.Fe.forEach(((a,o)=>{switch(o){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:xt(38017,{changeType:o})}})),new ou(this.Me,this.xe,t,e,i)}Ke(){this.Oe=!1,this.Fe=_E()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class tM{constructor(t){this.Ge=t,this.ze=new Map,this.je=ks(),this.He=Qh(),this.Je=Qh(),this.Ze=new me(jt)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:xt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,i=t.Ce.count,a=this.ot(e);if(a){const o=a.target;if(fp(o))if(i===0){const c=new Et(o.path);this.et(e,c,un.newNoDocument(c,Rt.min()))}else Xt(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),d=h?this.ct(h,t,c):1;if(d!==0){this.it(e);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,m)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=e;let c,h;try{c=Nr(i).toUint8Array()}catch(d){if(d instanceof uA)return Yo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Zp(c,a,o)}catch(d){return Yo(d instanceof wc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let a=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&fp(h.target)){const d=new Et(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,un.newNoDocument(d,t))}o.Be&&(e.set(c,o.ke()),o.Ke())}}));let i=Ut();this.Je.forEach(((o,c)=>{let h=!0;c.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const a=new cd(t,e,this.Ze,this.je,i);return this.je=ks(),this.He=Qh(),this.Je=Qh(),this.Ze=new me(jt),a}Ye(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,i),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.qe(e,1):a.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new yE,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new He(jt),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new He(jt),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||dt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new yE),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Qh(){return new me(Et.comparator)}function _E(){return new me(Et.comparator)}const eM={asc:"ASCENDING",desc:"DESCENDING"},nM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iM={and:"AND",or:"OR"};class sM{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function mp(n,t){return n.useProto3Json||nd(t)?t:{value:t}}function Pf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function UA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function rM(n,t){return Pf(n,t.toTimestamp())}function Zi(n){return Xt(!!n,49232),Rt.fromTimestamp((function(e){const i=Or(e);return new fe(i.seconds,i.nanos)})(n))}function ty(n,t){return pp(n,t).canonicalString()}function pp(n,t){const e=(function(a){return new le(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function BA(n){const t=le.fromString(n);return Xt(YA(t),10190,{key:t.toString()}),t}function yp(n,t){return ty(n.databaseId,t.path)}function Mm(n,t){const e=BA(t);if(e.get(1)!==n.databaseId.projectId)throw new ht(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ht(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Et(HA(e))}function FA(n,t){return ty(n.databaseId,t)}function aM(n){const t=BA(n);return t.length===4?le.emptyPath():HA(t)}function _p(n){return new le(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HA(n){return Xt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function vE(n,t,e){return{name:yp(n,t),fields:e.value.mapValue.fields}}function oM(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:xt(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=(function(m,y){return m.useProto3Json?(Xt(y===void 0||typeof y=="string",58123),rn.fromBase64String(y||"")):(Xt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),rn.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(m){const y=m.code===void 0?et.UNKNOWN:LA(m.code);return new ht(y,m.message||"")})(c);e=new jA(i,a,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Mm(n,i.document.name),o=Zi(i.document.updateTime),c=i.document.createTime?Zi(i.document.createTime):Rt.min(),h=new xn({mapValue:{fields:i.document.fields}}),d=un.newFoundDocument(a,o,c,h),m=i.targetIds||[],y=i.removedTargetIds||[];e=new yf(m,y,d.key,d)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Mm(n,i.document),o=i.readTime?Zi(i.readTime):Rt.min(),c=un.newNoDocument(a,o),h=i.removedTargetIds||[];e=new yf([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Mm(n,i.document),o=i.removedTargetIds||[];e=new yf([],o,a,null)}else{if(!("filter"in t))return xt(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,c=new WD(a,o),h=i.targetId;e=new zA(h,c)}}return e}function lM(n,t){let e;if(t instanceof au)e={update:vE(n,t.key,t.value)};else if(t instanceof ld)e={delete:yp(n,t.key)};else if(t instanceof jr)e={update:vE(n,t.key,t.data),updateMask:yM(t.fieldMask)};else{if(!(t instanceof KD))return xt(16599,{dt:t.type});e={verify:yp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof kf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Kc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Qc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Vf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw xt(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:rM(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xt(27497)})(n,t.precondition)),e}function cM(n,t){return n&&n.length>0?(Xt(t!==void 0,14353),n.map((e=>(function(a,o){let c=a.updateTime?Zi(a.updateTime):Zi(o);return c.isEqual(Rt.min())&&(c=Zi(o)),new qD(c,a.transformResults||[])})(e,t)))):[]}function uM(n,t){return{documents:[FA(n,t.path)]}}function hM(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=FA(n,a);const o=(function(m){if(m.length!==0)return GA(Ti.create(m,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((y=>(function(E){return{field:ko(E.field),direction:gM(E.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=mp(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:e,parent:a}}function fM(n){let t=aM(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){Xt(i===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=(function(_){const E=qA(_);return E instanceof Ti&&bA(E)?E.getFilters():[E]})(e.where));let c=[];e.orderBy&&(c=(function(_){return _.map((E=>(function(M){return new Yc(Vo(M.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(E)))})(e.orderBy));let h=null;e.limit&&(h=(function(_){let E;return E=typeof _=="object"?_.value:_,nd(E)?null:E})(e.limit));let d=null;e.startAt&&(d=(function(_){const E=!!_.before,S=_.values||[];return new Nf(S,E)})(e.startAt));let m=null;return e.endAt&&(m=(function(_){const E=!_.before,S=_.values||[];return new Nf(S,E)})(e.endAt)),ID(t,a,c,o,h,"F",d,m)}function dM(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function qA(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Vo(e.unaryFilter.field);return Ve.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Vo(e.unaryFilter.field);return Ve.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Vo(e.unaryFilter.field);return Ve.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Vo(e.unaryFilter.field);return Ve.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xt(61313);default:return xt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ve.create(Vo(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xt(58110);default:return xt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Ti.create(e.compositeFilter.filters.map((i=>qA(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xt(1026)}})(e.compositeFilter.op))})(n):xt(30097,{filter:n})}function gM(n){return eM[n]}function mM(n){return nM[n]}function pM(n){return iM[n]}function ko(n){return{fieldPath:n.canonicalString()}}function Vo(n){return sn.fromServerFormat(n.fieldPath)}function GA(n){return n instanceof Ve?(function(e){if(e.op==="=="){if(aE(e.value))return{unaryFilter:{field:ko(e.field),op:"IS_NAN"}};if(rE(e.value))return{unaryFilter:{field:ko(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(aE(e.value))return{unaryFilter:{field:ko(e.field),op:"IS_NOT_NAN"}};if(rE(e.value))return{unaryFilter:{field:ko(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(e.field),op:mM(e.op),value:e.value}}})(n):n instanceof Ti?(function(e){const i=e.getFilters().map((a=>GA(a)));return i.length===1?i[0]:{compositeFilter:{op:pM(e.op),filters:i}}})(n):xt(54877,{filter:n})}function yM(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function YA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function KA(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class vr{constructor(t,e,i,a,o=Rt.min(),c=Rt.min(),h=rn.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(t){return new vr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class _M{constructor(t){this.yt=t}}function vM(n){const t=fM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?gp(t,t.limit,"L"):t}class bM{constructor(){this.Sn=new EM}addToCollectionParentIndex(t,e){return this.Sn.add(e),rt.resolve()}getCollectionParents(t,e){return rt.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return rt.resolve()}deleteFieldIndex(t,e){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,e){return rt.resolve()}getDocumentsMatchingTarget(t,e){return rt.resolve(null)}getIndexType(t,e){return rt.resolve(0)}getFieldIndexes(t,e){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,e){return rt.resolve(Mr.min())}getMinOffsetFromCollectionGroup(t,e){return rt.resolve(Mr.min())}updateCollectionGroup(t,e,i){return rt.resolve()}updateIndexEntries(t,e){return rt.resolve()}}class EM{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new He(le.comparator),o=!a.has(i);return this.index[e]=a.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new He(le.comparator)).toArray()}}const bE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QA=41943040;class An{static withCacheSize(t){return new An(t,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(QA,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class Wo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Wo(0)}static ar(){return new Wo(-1)}}const EE="LruGarbageCollector",TM=1048576;function TE([n,t],[e,i]){const a=jt(n,e);return a===0?jt(t,i):a}class SM{constructor(t){this.Pr=t,this.buffer=new He(TE),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();TE(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class AM{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){dt(EE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){al(e)?dt(EE,"Ignoring IndexedDB error during garbage collection: ",e):await rl(e)}await this.Ar(3e5)}))}}class xM{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return rt.resolve(ed.ce);const i=new SM(e);return this.Vr.forEachTarget(t,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(bE)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bE):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let i,a,o,c,h,d,m;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a)))).next((_=>(i=_,h=Date.now(),this.removeTargets(t,i,e)))).next((_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(t,i)))).next((_=>(m=Date.now(),Oo()<=zt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(m-d)+`ms
Total Duration: ${m-y}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:_}))))}}function wM(n,t){return new xM(n,t)}class RM{constructor(){this.changes=new Va((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?rt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class CM{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class IM{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(i!==null&&Pc(i.mutation,a,zn.empty(),fe.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Ut()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Ut()){const a=Ta();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,i).next((o=>{let c=xc();return o.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=Ta();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Ut())))}populateOverlays(t,e,i){const a=[];return i.forEach((o=>{e.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(t,a).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,a){let o=ks();const c=Vc(),h=(function(){return Vc()})();return e.forEach(((d,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof jr)?o=o.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),Pc(y.mutation,m,y.mutation.getFieldMask(),fe.now())):c.set(m.key,zn.empty())})),this.recalculateAndSaveOverlays(t,o).next((d=>(d.forEach(((m,y)=>c.set(m,y))),e.forEach(((m,y)=>h.set(m,new CM(y,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=Vc();let a=new me(((c,h)=>c-h)),o=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((d=>{const m=e.get(d);if(m===null)return;let y=i.get(d)||zn.empty();y=h.applyToLocalView(m,y),i.set(d,y);const _=(a.get(h.batchId)||Ut()).add(d);a=a.insert(h.batchId,_)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,y=d.value,_=IA();y.forEach((E=>{if(!o.has(E)){const S=VA(e.get(E),i.get(E));S!==null&&_.set(E,S),o=o.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,m,_))}return rt.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,a){return DD(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):AA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-o.size):rt.resolve(Ta());let h=Fc,d=o;return c.next((m=>rt.forEach(m,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(y)?rt.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{d=d.insert(y,E)}))))).next((()=>this.populateOverlays(t,m,o))).next((()=>this.computeViews(t,d,m,Ut()))).next((y=>({batchId:h,changes:CA(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Et(e)).next((i=>{let a=xc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const o=e.collectionGroup;let c=xc();return this.indexManager.getCollectionParents(t,o).next((h=>rt.forEach(h,(d=>{const m=(function(_,E){return new ol(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(e,d.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,i,a).next((y=>{y.forEach(((_,E)=>{c=c.insert(_,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,a)))).next((c=>{o.forEach(((d,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,un.newInvalidDocument(y)))}));let h=xc();return c.forEach(((d,m)=>{const y=o.get(d);y!==void 0&&Pc(y.mutation,m,zn.empty(),fe.now()),rd(e,m)&&(h=h.insert(d,m))})),h}))}}class DM{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return rt.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:Zi(a.createTime)}})(e)),rt.resolve()}getNamedQuery(t,e){return rt.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(a){return{name:a.name,query:vM(a.bundledQuery),readTime:Zi(a.readTime)}})(e)),rt.resolve()}}class MM{constructor(){this.overlays=new me(Et.comparator),this.Lr=new Map}getOverlay(t,e){return rt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ta();return rt.forEach(e,(a=>this.getOverlay(t,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((a,o)=>{this.bt(t,e,o)})),rt.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(i)),rt.resolve()}getOverlaysForCollection(t,e,i){const a=Ta(),o=e.length+1,c=new Et(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>i&&a.set(d.getKey(),d)}return rt.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let o=new me(((m,y)=>m-y));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let y=o.get(m.largestBatchId);y===null&&(y=Ta(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Ta(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=a)););return rt.resolve(h)}bt(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new XD(e,i));let o=this.Lr.get(e);o===void 0&&(o=Ut(),this.Lr.set(e,o)),this.Lr.set(e,o.add(i.key))}}class OM{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,rt.resolve()}}class ey{constructor(){this.kr=new He(Qe.Kr),this.qr=new He(Qe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const i=new Qe(t,e);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Wr(new Qe(t,e))}Qr(t,e){t.forEach((i=>this.removeReference(i,e)))}Gr(t){const e=new Et(new le([])),i=new Qe(e,t),a=new Qe(e,t+1),o=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),o.push(c.key)})),o}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new Et(new le([])),i=new Qe(e,t),a=new Qe(e,t+1);let o=Ut();return this.qr.forEachInRange([i,a],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new Qe(t,0),i=this.kr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Qe{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return Et.comparator(t.key,e.key)||jt(t.Hr,e.Hr)}static Ur(t,e){return jt(t.Hr,e.Hr)||Et.comparator(t.key,e.key)}}class NM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new He(Qe.Kr)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new QD(o,e,i,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new Qe(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return rt.resolve(c)}lookupMutationBatch(t,e){return rt.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.Xr(i),o=a<0?0:a;return rt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?Gp:this.Yn-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Qe(e,0),a=new Qe(e,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([i,a],(c=>{const h=this.Zr(c.Hr);o.push(h)})),rt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new He(jt);return e.forEach((a=>{const o=new Qe(a,0),c=new Qe(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,c],(h=>{i=i.add(h.Hr)}))})),rt.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let o=i;Et.isDocumentKey(o)||(o=o.child(""));const c=new Qe(new Et(o),0);let h=new He(jt);return this.Jr.forEachWhile((d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Hr)),!0)}),c),rt.resolve(this.Yr(h))}Yr(t){const e=[];return t.forEach((i=>{const a=this.Zr(i);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){Xt(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return rt.forEach(e.mutations,(a=>{const o=new Qe(a.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=i}))}nr(t){}containsKey(t,e){const i=new Qe(e,0),a=this.Jr.firstAfterOrEqual(i);return rt.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class kM{constructor(t){this.ti=t,this.docs=(function(){return new me(Et.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),o=a?a.size:0,c=this.ti(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return rt.resolve(i?i.document.mutableCopy():un.newInvalidDocument(e))}getEntries(t,e){let i=ks();return e.forEach((a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():un.newInvalidDocument(a))})),rt.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let o=ks();const c=e.path,h=new Et(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||aD(rD(y),i)<=0||(a.has(y.key)||rd(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return rt.resolve(o)}getAllFromCollectionGroup(t,e,i,a){xt(9500)}ni(t,e){return rt.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new VM(this)}getSize(t){return rt.resolve(this.size)}}class VM extends RM{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?e.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(i)})),rt.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class PM{constructor(t){this.persistence=t,this.ri=new Va((e=>Qp(e)),Xp),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.ii=0,this.si=new ey,this.targetCount=0,this.oi=Wo._r()}forEachTarget(t,e){return this.ri.forEach(((i,a)=>e(a))),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ii&&(this.ii=e),rt.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new Wo(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,rt.resolve()}updateTargetData(t,e){return this.lr(e),rt.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,e,i){let a=0;const o=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.ri.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),rt.waitFor(o).next((()=>a))}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,e){const i=this.ri.get(e)||null;return rt.resolve(i)}addMatchingKeys(t,e,i){return this.si.$r(e,i),rt.resolve()}removeMatchingKeys(t,e,i){this.si.Qr(e,i);const a=this.persistence.referenceDelegate,o=[];return a&&e.forEach((c=>{o.push(a.markPotentiallyOrphaned(t,c))})),rt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),rt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.si.jr(e);return rt.resolve(i)}containsKey(t,e){return rt.resolve(this.si.containsKey(e))}}class XA{constructor(t,e){this._i={},this.overlays={},this.ai=new ed(0),this.ui=!1,this.ui=!0,this.ci=new OM,this.referenceDelegate=t(this),this.li=new PM(this),this.indexManager=new bM,this.remoteDocumentCache=(function(a){return new kM(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new _M(e),this.Pi=new DM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new MM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this._i[t.toKey()];return i||(i=new NM(e,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,i){dt("MemoryPersistence","Starting transaction:",t);const a=new LM(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((o=>this.referenceDelegate.Ii(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ei(t,e){return rt.or(Object.values(this._i).map((i=>()=>i.containsKey(t,e))))}}class LM extends lD{constructor(t){super(),this.currentSequenceNumber=t}}class ny{constructor(t){this.persistence=t,this.Ri=new ey,this.Ai=null}static Vi(t){return new ny(t)}get di(){if(this.Ai)return this.Ai;throw xt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.di.delete(i.toString()),rt.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.di.add(i.toString()),rt.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),rt.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((o=>this.di.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.di,(i=>{const a=Et.fromPath(i);return this.mi(t,a).next((o=>{o||e.removeEntry(a,Rt.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((i=>{i?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return rt.or([()=>rt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class Lf{constructor(t,e){this.persistence=t,this.fi=new Va((i=>hD(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=wM(this,e)}static Vi(t,e){return new Lf(t,e)}Ti(){}Ii(t){return rt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}pr(t){let e=0;return this.mr(t,(i=>{e++})).next((()=>e))}mr(t,e){return rt.forEach(this.fi,((i,a)=>this.wr(t,i,a).next((o=>o?rt.resolve():e(a)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ni(t,(c=>this.wr(t,c,e).next((h=>{h||(i++,o.removeEntry(c,Rt.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),rt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),rt.resolve()}removeReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),rt.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=gf(t.data.value)),e}wr(t,e,i){return rt.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.fi.get(e);return rt.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class iy{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.Ts=i,this.Is=a}static Es(t,e){let i=Ut(),a=Ut();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new iy(t,e.fromCache,i,a)}}class zM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class jM{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return xR()?8:cD(fn())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,a){const o={result:null};return this.gs(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ps(t,e,a,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new zM;return this.ys(t,e,c).next((h=>{if(o.result=h,this.As)return this.ws(t,e,c,h.size)}))})).next((()=>o.result))}ws(t,e,i,a){return i.documentReadCount<this.Vs?(Oo()<=zt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",No(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),rt.resolve()):(Oo()<=zt.DEBUG&&dt("QueryEngine","Query:",No(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Oo()<=zt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",No(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ji(e))):rt.resolve())}gs(t,e){if(uE(e))return rt.resolve(null);let i=Ji(e);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=gp(e,null,"F"),i=Ji(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=Ut(...o);return this.fs.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((d=>{const m=this.bs(e,h);return this.Ss(e,m,c,d.readTime)?this.gs(t,gp(e,null,"F")):this.Ds(t,m,e,d)}))))})))))}ps(t,e,i,a){return uE(e)||a.isEqual(Rt.min())?rt.resolve(null):this.fs.getDocuments(t,i).next((o=>{const c=this.bs(e,o);return this.Ss(e,c,i,a)?rt.resolve(null):(Oo()<=zt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),No(e)),this.Ds(t,c,e,sD(a,Fc)).next((h=>h)))}))}bs(t,e){let i=new He(wA(t));return e.forEach(((a,o)=>{rd(t,o)&&(i=i.add(o))})),i}Ss(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}ys(t,e,i){return Oo()<=zt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",No(e)),this.fs.getDocumentsMatchingQuery(t,e,Mr.min(),i)}Ds(t,e,i,a){return this.fs.getDocumentsMatchingQuery(t,i,a).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const sy="LocalStore",UM=3e8;class BM{constructor(t,e,i,a){this.persistence=t,this.Cs=e,this.serializer=a,this.vs=new me(jt),this.Fs=new Va((o=>Qp(o)),Xp),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new IM(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function FM(n,t,e,i){return new BM(n,t,e,i)}async function WA(n,t){const e=It(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next((o=>(a=o,e.Os(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let d=Ut();for(const m of a){c.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}return e.localDocuments.getDocuments(i,d).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function HM(n,t){const e=It(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=t.batch.keys(),o=e.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,y){const _=m.batch,E=_.keys();let S=rt.resolve();return E.forEach((M=>{S=S.next((()=>y.getEntry(d,M))).next((V=>{const k=m.docVersions.get(M);Xt(k!==null,48541),V.version.compareTo(k)<0&&(_.applyToRemoteDocument(V,m),V.isValidDocument()&&(V.setReadTime(m.commitVersion),y.addEntry(V)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(d,_)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let d=Ut();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(t)))).next((()=>e.localDocuments.getDocuments(i,a)))}))}function $A(n){const t=It(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function qM(n,t){const e=It(n),i=t.snapshotVersion;let a=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.xs.newChangeBuffer({trackRemovals:!0});a=e.vs;const h=[];t.targetChanges.forEach(((y,_)=>{const E=a.get(_);if(!E)return;h.push(e.li.removeMatchingKeys(o,y.removedDocuments,_).next((()=>e.li.addMatchingKeys(o,y.addedDocuments,_))));let S=E.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?S=S.withResumeToken(rn.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,i)),a=a.insert(_,S),(function(V,k,z){return V.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=UM?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(E,S,y)&&h.push(e.li.updateTargetData(o,S))}));let d=ks(),m=Ut();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(GM(o,c,t.documentUpdates).next((y=>{d=y.Bs,m=y.Ls}))),!i.isEqual(Rt.min())){const y=e.li.getLastRemoteSnapshotVersion(o).next((_=>e.li.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(y)}return rt.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,d,m))).next((()=>d))})).then((o=>(e.vs=a,o)))}function GM(n,t,e){let i=Ut(),a=Ut();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=ks();return e.forEach(((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Rt.min())?(t.removeEntry(h,d.readTime),c=c.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(d),c=c.insert(h,d)):dt(sy,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{Bs:c,Ls:a}}))}function YM(n,t){const e=It(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Gp),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function KM(n,t){const e=It(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return e.li.getTargetData(i,t).next((o=>o?(a=o,rt.resolve(a)):e.li.allocateTargetId(i).next((c=>(a=new vr(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=e.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.vs=e.vs.insert(i.targetId,i),e.Fs.set(t,i.targetId)),i}))}async function vp(n,t,e){const i=It(n),a=i.vs.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!al(c))throw c;dt(sy,`Failed to update sequence numbers for target ${t}: ${c}`)}i.vs=i.vs.remove(t),i.Fs.delete(a.target)}function SE(n,t,e){const i=It(n);let a=Rt.min(),o=Ut();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,m,y){const _=It(d),E=_.Fs.get(y);return E!==void 0?rt.resolve(_.vs.get(E)):_.li.getTargetData(m,y)})(i,c,Ji(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,h.targetId).next((d=>{o=d}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,t,e?a:Rt.min(),e?o:Ut()))).next((h=>(QM(i,ND(t),h),{documents:h,ks:o})))))}function QM(n,t,e){let i=n.Ms.get(t)||Rt.min();e.forEach(((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Ms.set(t,i)}class AE{constructor(){this.activeTargetIds=jD()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class XM{constructor(){this.vo=new AE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,i){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new AE,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class WM{Mo(t){}shutdown(){}}const xE="ConnectivityMonitor";class wE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){dt(xE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){dt(xE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Xh=null;function bp(){return Xh===null?Xh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xh++,"0x"+Xh.toString(16)}const Om="RestConnection",$M={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class JM{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===Mf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(t,e,i,a,o){const c=bp(),h=this.Qo(t,e.toUriEncodedString());dt(Om,`Sending RPC '${t}' ${c}:`,h,i);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,o);const{host:m}=new URL(h),y=el(m);return this.zo(t,h,d,i,y).then((_=>(dt(Om,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw Yo(Om,`RPC '${t}' ${c} failed with error: `,_,"url: ",h,"request:",i),_}))}jo(t,e,i,a,o,c){return this.Wo(t,e,i,a,o)}Go(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,o)=>t[o]=a)),i&&i.headers.forEach(((a,o)=>t[o]=a))}Qo(t,e){const i=$M[t];let a=`${this.qo}/v1/${e}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class ZM{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const on="WebChannelConnection",_c=(n,t,e)=>{n.listen(t,(i=>{try{e(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class jo extends JM{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!jo.c_){const t=nA();_c(t,eA.STAT_EVENT,(e=>{e.stat===op.PROXY?dt(on,"STAT_EVENT: detected buffering proxy"):e.stat===op.NOPROXY&&dt(on,"STAT_EVENT: detected no buffering proxy")})),jo.c_=!0}}zo(t,e,i,a,o){const c=bp();return new Promise(((h,d)=>{const m=new ZS;m.setWithCredentials(!0),m.listenOnce(tA.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case df.NO_ERROR:const _=m.getResponseJson();dt(on,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),h(_);break;case df.TIMEOUT:dt(on,`RPC '${t}' ${c} timed out`),d(new ht(et.DEADLINE_EXCEEDED,"Request time out"));break;case df.HTTP_ERROR:const E=m.getStatus();if(dt(on,`RPC '${t}' ${c} failed with status:`,E,"response text:",m.getResponseText()),E>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const M=S?.error;if(M&&M.status&&M.message){const V=(function(z){const Y=z.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(Y)>=0?Y:et.UNKNOWN})(M.status);d(new ht(V,M.message))}else d(new ht(et.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new ht(et.UNAVAILABLE,"Connection failed."));break;default:xt(9055,{l_:t,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{dt(on,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);dt(on,`RPC '${t}' ${c} sending request:`,a),m.send(e,"POST",y,i,15)}))}T_(t,e,i){const a=bp(),o=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const m=o.join("");dt(on,`Creating RPC '${t}' stream ${a}: ${m}`,h);const y=c.createWebChannel(m,h);this.I_(y);let _=!1,E=!1;const S=new ZM({Ho:M=>{E?dt(on,`Not sending because RPC '${t}' stream ${a} is closed:`,M):(_||(dt(on,`Opening RPC '${t}' stream ${a} transport.`),y.open(),_=!0),dt(on,`RPC '${t}' stream ${a} sending:`,M),y.send(M))},Jo:()=>y.close()});return _c(y,Ac.EventType.OPEN,(()=>{E||(dt(on,`RPC '${t}' stream ${a} transport opened.`),S.i_())})),_c(y,Ac.EventType.CLOSE,(()=>{E||(E=!0,dt(on,`RPC '${t}' stream ${a} transport closed`),S.o_(),this.E_(y))})),_c(y,Ac.EventType.ERROR,(M=>{E||(E=!0,Yo(on,`RPC '${t}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),S.o_(new ht(et.UNAVAILABLE,"The operation could not be completed")))})),_c(y,Ac.EventType.MESSAGE,(M=>{if(!E){const V=M.data[0];Xt(!!V,16349);const k=V,z=k?.error||k[0]?.error;if(z){dt(on,`RPC '${t}' stream ${a} received error:`,z);const Y=z.status;let $=(function(Q){const D=ke[Q];if(D!==void 0)return LA(D)})(Y),at=z.message;$===void 0&&($=et.INTERNAL,at="Unknown error status: "+Y+" with message "+z.message),E=!0,S.o_(new ht($,at)),y.close()}else dt(on,`RPC '${t}' stream ${a} received:`,V),S.__(V)}})),jo.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,i){super.Go(t,e,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return iA()}}function tO(n){return new jo(n)}function Nm(){return typeof document<"u"?document:null}function ud(n){return new sM(n,!0)}jo.c_=!1;class JA{constructor(t,e,i=1e3,a=1.5,o=6e4){this.Ci=t,this.timerId=e,this.R_=i,this.A_=a,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-i);a>0&&dt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const RE="PersistentStream";class ZA{constructor(t,e,i,a,o,c,h,d){this.Ci=t,this.b_=i,this.S_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===et.RESOURCE_EXHAUSTED?(Ns(e.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===e&&this.G_(i,a)}),(i=>{t((()=>{const a=new ht(et.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,e){const i=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return dt(RE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(dt(RE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eO extends ZA{constructor(t,e,i,a,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=oM(this.serializer,t),i=(function(o){if(!("targetChange"in o))return Rt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Rt.min():c.readTime?Zi(c.readTime):Rt.min()})(t);return this.listener.J_(e,i)}Z_(t){const e={};e.database=_p(this.serializer),e.addTarget=(function(o,c){let h;const d=c.target;if(h=fp(d)?{documents:uM(o,d)}:{query:hM(o,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=UA(o,c.resumeToken);const m=mp(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Rt.min())>0){h.readTime=Pf(o,c.snapshotVersion.toTimestamp());const m=mp(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,t);const i=dM(this.serializer,t);i&&(e.labels=i),this.K_(e)}X_(t){const e={};e.database=_p(this.serializer),e.removeTarget=t,this.K_(e)}}class nO extends ZA{constructor(t,e,i,a,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,c),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=cM(t.writeResults,t.commitTime),i=Zi(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=_p(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>lM(this.serializer,i)))};this.K_(e)}}class iO{}class sO extends iO{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ht(et.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Wo(t,pp(e,i),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ht(et.UNKNOWN,o.toString())}))}jo(t,e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(t,pp(e,i),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(et.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function rO(n,t,e,i){return new sO(n,t,e,i)}class aO{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ns(e),this.aa=!1):dt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Oa="RemoteStore";class oO{constructor(t,e,i,a,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{Pa(this)&&(dt(Oa,"Restarting streams for network reachability change."),await(async function(d){const m=It(d);m.Ea.add(4),await lu(m),m.Va.set("Unknown"),m.Ea.delete(4),await hd(m)})(this))}))})),this.Va=new aO(i,a)}}async function hd(n){if(Pa(n))for(const t of n.Ra)await t(!0)}async function lu(n){for(const t of n.Ra)await t(!1)}function tx(n,t){const e=It(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),ly(e)?oy(e):ll(e).O_()&&ay(e,t))}function ry(n,t){const e=It(n),i=ll(e);e.Ia.delete(t),i.O_()&&ex(e,t),e.Ia.size===0&&(i.O_()?i.L_():Pa(e)&&e.Va.set("Unknown"))}function ay(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ll(n).Z_(t)}function ex(n,t){n.da.$e(t),ll(n).X_(t)}function oy(n){n.da=new tM({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),ll(n).start(),n.Va.ua()}function ly(n){return Pa(n)&&!ll(n).x_()&&n.Ia.size>0}function Pa(n){return It(n).Ea.size===0}function nx(n){n.da=void 0}async function lO(n){n.Va.set("Online")}async function cO(n){n.Ia.forEach(((t,e)=>{ay(n,t)}))}async function uO(n,t){nx(n),ly(n)?(n.Va.ha(t),oy(n)):n.Va.set("Unknown")}async function hO(n,t,e){if(n.Va.set("Online"),t instanceof jA&&t.state===2&&t.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(n,t)}catch(i){dt(Oa,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await zf(n,i)}else if(t instanceof yf?n.da.Xe(t):t instanceof zA?n.da.st(t):n.da.tt(t),!e.isEqual(Rt.min()))try{const i=await $A(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const h=o.da.Tt(c);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.Ia.get(m);y&&o.Ia.set(m,y.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,m)=>{const y=o.Ia.get(d);if(!y)return;o.Ia.set(d,y.withResumeToken(rn.EMPTY_BYTE_STRING,y.snapshotVersion)),ex(o,d);const _=new vr(y.target,d,m,y.sequenceNumber);ay(o,_)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){dt(Oa,"Failed to raise snapshot:",i),await zf(n,i)}}async function zf(n,t,e){if(!al(t))throw t;n.Ea.add(1),await lu(n),n.Va.set("Offline"),e||(e=()=>$A(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{dt(Oa,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await hd(n)}))}function ix(n,t){return t().catch((e=>zf(n,e,t)))}async function fd(n){const t=It(n),e=Vr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Gp;for(;fO(t);)try{const a=await YM(t.localStore,i);if(a===null){t.Ta.length===0&&e.L_();break}i=a.batchId,dO(t,a)}catch(a){await zf(t,a)}sx(t)&&rx(t)}function fO(n){return Pa(n)&&n.Ta.length<10}function dO(n,t){n.Ta.push(t);const e=Vr(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function sx(n){return Pa(n)&&!Vr(n).x_()&&n.Ta.length>0}function rx(n){Vr(n).start()}async function gO(n){Vr(n).ra()}async function mO(n){const t=Vr(n);for(const e of n.Ta)t.ea(e.mutations)}async function pO(n,t,e){const i=n.Ta.shift(),a=Jp.from(i,t,e);await ix(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await fd(n)}async function yO(n,t){t&&Vr(n).Y_&&await(async function(i,a){if((function(c){return $D(c)&&c!==et.ABORTED})(a.code)){const o=i.Ta.shift();Vr(i).B_(),await ix(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a))),await fd(i)}})(n,t),sx(n)&&rx(n)}async function CE(n,t){const e=It(n);e.asyncQueue.verifyOperationInProgress(),dt(Oa,"RemoteStore received new credentials");const i=Pa(e);e.Ea.add(3),await lu(e),i&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await hd(e)}async function _O(n,t){const e=It(n);t?(e.Ea.delete(2),await hd(e)):t||(e.Ea.add(2),await lu(e),e.Va.set("Unknown"))}function ll(n){return n.ma||(n.ma=(function(e,i,a){const o=It(e);return o.sa(),new eO(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:lO.bind(null,n),Yo:cO.bind(null,n),t_:uO.bind(null,n),J_:hO.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),ly(n)?oy(n):n.Va.set("Unknown")):(await n.ma.stop(),nx(n))}))),n.ma}function Vr(n){return n.fa||(n.fa=(function(e,i,a){const o=It(e);return o.sa(),new nO(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:gO.bind(null,n),t_:yO.bind(null,n),ta:mO.bind(null,n),na:pO.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await fd(n)):(await n.fa.stop(),n.Ta.length>0&&(dt(Oa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class cy{constructor(t,e,i,a,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new xa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,o){const c=Date.now()+i,h=new cy(t,e,c,a,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uy(n,t){if(Ns("AsyncQueue",`${t}: ${n}`),al(n))return new ht(et.UNAVAILABLE,`${t}: ${n}`);throw n}class Uo{static emptySet(t){return new Uo(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Et.comparator(e.key,i.key):(e,i)=>Et.comparator(e.key,i.key),this.keyedMap=xc(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Uo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Uo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class IE{constructor(){this.ga=new me(Et.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):xt(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class $o{constructor(t,e,i,a,o,c,h,d,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(t,e,i,a,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new $o(t,e,Uo.emptySet(e),c,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}class vO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class bO{constructor(){this.queries=DE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const a=It(e),o=a.queries;a.queries=DE(),o.forEach(((c,h)=>{for(const d of h.ba)d.onError(i)}))})(this,new ht(et.ABORTED,"Firestore shutting down"))}}function DE(){return new Va((n=>xA(n)),sd)}async function EO(n,t){const e=It(n);let i=3;const a=t.query;let o=e.queries.get(a);o?!o.Sa()&&t.Da()&&(i=2):(o=new vO,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(a,!0);break;case 1:o.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const h=uy(c,`Initialization of query '${No(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,o),o.ba.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&hy(e)}async function TO(n,t){const e=It(n),i=t.query;let a=3;const o=e.queries.get(i);if(o){const c=o.ba.indexOf(t);c>=0&&(o.ba.splice(c,1),o.ba.length===0?a=t.Da()?0:1:!o.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function SO(n,t){const e=It(n);let i=!1;for(const a of t){const o=a.query,c=e.queries.get(o);if(c){for(const h of c.ba)h.Fa(a)&&(i=!0);c.wa=a}}i&&hy(e)}function AO(n,t,e){const i=It(n),a=i.queries.get(t);if(a)for(const o of a.ba)o.onError(e);i.queries.delete(t)}function hy(n){n.Ca.forEach((t=>{t.next()}))}var Ep,ME;(ME=Ep||(Ep={})).Ma="default",ME.Cache="cache";class xO{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new $o(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=$o.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Ep.Cache}}class ax{constructor(t){this.key=t}}class ox{constructor(t){this.key=t}}class wO{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.eu=wA(t),this.tu=new Uo(this.eu)}get nu(){return this.Za}ru(t,e){const i=e?e.iu:new IE,a=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,_)=>{const E=a.get(y),S=rd(this.query,_)?_:null,M=!!E&&this.mutatedKeys.has(E.key),V=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let k=!1;E&&S?E.data.isEqual(S.data)?M!==V&&(i.track({type:3,doc:S}),k=!0):this.su(E,S)||(i.track({type:2,doc:S}),k=!0,(d&&this.eu(S,d)>0||m&&this.eu(S,m)<0)&&(h=!0)):!E&&S?(i.track({type:0,doc:S}),k=!0):E&&!S&&(i.track({type:1,doc:E}),k=!0,(d||m)&&(h=!0)),k&&(S?(c=c.add(S),o=V?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Ss:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(S,M){const V=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt(20277,{Vt:k})}};return V(S)-V(M)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(i),a=a??!1;const h=e&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,m=d!==this.Xa;return this.Xa=d,c.length!==0||m?{snapshot:new $o(this.query,t.tu,o,c,t.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new IE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ut(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const e=[];return t.forEach((i=>{this.Ya.has(i)||e.push(new ox(i))})),this.Ya.forEach((i=>{t.has(i)||e.push(new ax(i))})),e}cu(t){this.Za=t.ks,this.Ya=Ut();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return $o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const fy="SyncEngine";class RO{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class CO{constructor(t){this.key=t,this.hu=!1}}class IO{constructor(t,e,i,a,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Va((h=>xA(h)),sd),this.Iu=new Map,this.Eu=new Set,this.Ru=new me(Et.comparator),this.Au=new Map,this.Vu=new ey,this.du={},this.mu=new Map,this.fu=Wo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DO(n,t,e=!0){const i=dx(n);let a;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await lx(i,t,e,!0),a}async function MO(n,t){const e=dx(n);await lx(e,t,!0,!1)}async function lx(n,t,e,i){const a=await KM(n.localStore,Ji(t)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await OO(n,t,o,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&tx(n.remoteStore,a),h}async function OO(n,t,e,i,a){n.pu=(_,E,S)=>(async function(V,k,z,Y){let $=k.view.ru(z);$.Ss&&($=await SE(V.localStore,k.query,!1).then((({documents:D})=>k.view.ru(D,$))));const at=Y&&Y.targetChanges.get(k.targetId),it=Y&&Y.targetMismatches.get(k.targetId)!=null,Q=k.view.applyChanges($,V.isPrimaryClient,at,it);return NE(V,k.targetId,Q.au),Q.snapshot})(n,_,E,S);const o=await SE(n.localStore,t,!0),c=new wO(t,o.ks),h=c.ru(o.documents),d=ou.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),m=c.applyChanges(h,n.isPrimaryClient,d);NE(n,e,m.au);const y=new RO(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),m.snapshot}async function NO(n,t,e){const i=It(n),a=i.Tu.get(t),o=i.Iu.get(a.targetId);if(o.length>1)return i.Iu.set(a.targetId,o.filter((c=>!sd(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await vp(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),e&&ry(i.remoteStore,a.targetId),Tp(i,a.targetId)})).catch(rl)):(Tp(i,a.targetId),await vp(i.localStore,a.targetId,!0))}async function kO(n,t){const e=It(n),i=e.Tu.get(t),a=e.Iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),ry(e.remoteStore,i.targetId))}async function VO(n,t,e){const i=FO(n);try{const a=await(function(c,h){const d=It(c),m=fe.now(),y=h.reduce(((S,M)=>S.add(M.key)),Ut());let _,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let M=ks(),V=Ut();return d.xs.getEntries(S,y).next((k=>{M=k,M.forEach(((z,Y)=>{Y.isValidDocument()||(V=V.add(z))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,M))).next((k=>{_=k;const z=[];for(const Y of h){const $=YD(Y,_.get(Y.key).overlayedDocument);$!=null&&z.push(new jr(Y.key,$,yA($.value.mapValue),jn.exists(!0)))}return d.mutationQueue.addMutationBatch(S,m,z,h)})).next((k=>{E=k;const z=k.applyToLocalDocumentSet(_,V);return d.documentOverlayCache.saveOverlays(S,k.batchId,z)}))})).then((()=>({batchId:E.batchId,changes:CA(_)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),(function(c,h,d){let m=c.du[c.currentUser.toKey()];m||(m=new me(jt)),m=m.insert(h,d),c.du[c.currentUser.toKey()]=m})(i,a.batchId,e),await cu(i,a.changes),await fd(i.remoteStore)}catch(a){const o=uy(a,"Failed to persist write");e.reject(o)}}async function cx(n,t){const e=It(n);try{const i=await qM(e.localStore,t);t.targetChanges.forEach(((a,o)=>{const c=e.Au.get(o);c&&(Xt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Xt(c.hu,14607):a.removedDocuments.size>0&&(Xt(c.hu,42227),c.hu=!1))})),await cu(e,i,t)}catch(i){await rl(i)}}function OE(n,t,e){const i=It(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const d=It(c);d.onlineState=h;let m=!1;d.queries.forEach(((y,_)=>{for(const E of _.ba)E.va(h)&&(m=!0)})),m&&hy(d)})(i.eventManager,t),a.length&&i.Pu.J_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function PO(n,t,e){const i=It(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Au.get(t),o=a&&a.key;if(o){let c=new me(Et.comparator);c=c.insert(o,un.newNoDocument(o,Rt.min()));const h=Ut().add(o),d=new cd(Rt.min(),new Map,new me(jt),c,h);await cx(i,d),i.Ru=i.Ru.remove(o),i.Au.delete(t),dy(i)}else await vp(i.localStore,t,!1).then((()=>Tp(i,t,e))).catch(rl)}async function LO(n,t){const e=It(n),i=t.batch.batchId;try{const a=await HM(e.localStore,t);hx(e,i,null),ux(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await cu(e,a)}catch(a){await rl(a)}}async function zO(n,t,e){const i=It(n);try{const a=await(function(c,h){const d=It(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return d.mutationQueue.lookupMutationBatch(m,h).next((_=>(Xt(_!==null,37113),y=_.keys(),d.mutationQueue.removeMutationBatch(m,_)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>d.localDocuments.getDocuments(m,y)))}))})(i.localStore,t);hx(i,t,e),ux(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await cu(i,a)}catch(a){await rl(a)}}function ux(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function hx(n,t,e){const i=It(n);let a=i.du[i.currentUser.toKey()];if(a){const o=a.get(t);o&&(e?o.reject(e):o.resolve(),a=a.remove(t)),i.du[i.currentUser.toKey()]=a}}function Tp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((i=>{n.Vu.containsKey(i)||fx(n,i)}))}function fx(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(ry(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),dy(n))}function NE(n,t,e){for(const i of e)i instanceof ax?(n.Vu.addReference(i.key,t),jO(n,i)):i instanceof ox?(dt(fy,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,t),n.Vu.containsKey(i.key)||fx(n,i.key)):xt(19791,{wu:i})}function jO(n,t){const e=t.key,i=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(i)||(dt(fy,"New document in limbo: "+e),n.Eu.add(i),dy(n))}function dy(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Et(le.fromString(t)),i=n.fu.next();n.Au.set(i,new CO(e)),n.Ru=n.Ru.insert(e,i),tx(n.remoteStore,new vr(Ji(Wp(e.path)),i,"TargetPurposeLimboResolution",ed.ce))}}async function cu(n,t,e){const i=It(n),a=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,d)=>{c.push(i.pu(d,t,e).then((m=>{if((m||e)&&i.isPrimaryClient){const y=m?!m.fromCache:e?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(m){a.push(m);const y=iy.Es(d.targetId,m);o.push(y)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(d,m){const y=It(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>rt.forEach(m,(E=>rt.forEach(E.Ts,(S=>y.persistence.referenceDelegate.addReference(_,E.targetId,S))).next((()=>rt.forEach(E.Is,(S=>y.persistence.referenceDelegate.removeReference(_,E.targetId,S)))))))))}catch(_){if(!al(_))throw _;dt(sy,"Failed to update sequence numbers: "+_)}for(const _ of m){const E=_.targetId;if(!_.fromCache){const S=y.vs.get(E),M=S.snapshotVersion,V=S.withLastLimboFreeSnapshotVersion(M);y.vs=y.vs.insert(E,V)}}})(i.localStore,o))}async function UO(n,t){const e=It(n);if(!e.currentUser.isEqual(t)){dt(fy,"User change. New user:",t.toKey());const i=await WA(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new ht(et.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await cu(e,i.Ns)}}function BO(n,t){const e=It(n),i=e.Au.get(t);if(i&&i.hu)return Ut().add(i.key);{let a=Ut();const o=e.Iu.get(t);if(!o)return a;for(const c of o){const h=e.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function dx(n){const t=It(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=cx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PO.bind(null,t),t.Pu.J_=SO.bind(null,t.eventManager),t.Pu.yu=AO.bind(null,t.eventManager),t}function FO(n){const t=It(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=LO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zO.bind(null,t),t}class jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ud(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return FM(this.persistence,new jM,t.initialUser,this.serializer)}Cu(t){return new XA(ny.Vi,this.serializer)}Du(t){return new XM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jf.provider={build:()=>new jf};class HO extends jf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Xt(this.persistence.referenceDelegate instanceof Lf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new AM(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new XA((i=>Lf.Vi(i,e)),this.serializer)}}class Sp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>OE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=UO.bind(null,this.syncEngine),await _O(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new bO})()}createDatastore(t){const e=ud(t.databaseInfo.databaseId),i=tO(t.databaseInfo);return rO(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,a,o,c,h){return new oO(i,a,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>OE(this.syncEngine,e,0)),(function(){return wE.v()?new wE:new WM})())}createSyncEngine(t,e){return(function(a,o,c,h,d,m,y){const _=new IO(a,o,c,h,d,m);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=It(e);dt(Oa,"RemoteStore shutting down."),i.Ea.add(5),await lu(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sp.provider={build:()=>new Sp};class qO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ns("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Pr="FirestoreClient";class GO{constructor(t,e,i,a,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this._databaseInfo=a,this.user=cn.UNAUTHENTICATED,this.clientId=qp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{dt(Pr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(dt(Pr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new xa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=uy(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function km(n,t){n.asyncQueue.verifyOperationInProgress(),dt(Pr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await WA(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function kE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await YO(n);dt(Pr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>CE(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>CE(t.remoteStore,a))),n._onlineComponents=t}async function YO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){dt(Pr,"Using user provided OfflineComponentProvider");try{await km(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===et.FAILED_PRECONDITION||a.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Yo("Error using user provided cache. Falling back to memory cache: "+e),await km(n,new jf)}}else dt(Pr,"Using default OfflineComponentProvider"),await km(n,new HO(void 0));return n._offlineComponents}async function gx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(dt(Pr,"Using user provided OnlineComponentProvider"),await kE(n,n._uninitializedComponentsProvider._online)):(dt(Pr,"Using default OnlineComponentProvider"),await kE(n,new Sp))),n._onlineComponents}function KO(n){return gx(n).then((t=>t.syncEngine))}async function VE(n){const t=await gx(n),e=t.eventManager;return e.onListen=DO.bind(null,t.syncEngine),e.onUnlisten=NO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=MO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=kO.bind(null,t.syncEngine),e}function QO(n,t,e,i){const a=new qO(i),o=new xO(t,a,e);return n.asyncQueue.enqueueAndForget((async()=>EO(await VE(n),o))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>TO(await VE(n),o)))}}function XO(n,t){const e=new xa;return n.asyncQueue.enqueueAndForget((async()=>VO(await KO(n),t,e))),e.promise}function mx(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const WO="ComponentProvider",PE=new Map;function $O(n,t,e,i,a){return new gD(n,t,e,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,mx(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const px="firestore.googleapis.com",LE=!0;class zE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=px,this.ssl=LE}else this.host=t.host,this.ssl=t.ssl??LE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=QA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<TM)throw new ht(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}iD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mx(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class dd{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new KI;switch(i.type){case"firstParty":return new $I(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ht(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=PE.get(e);i&&(dt(WO,"Removing Datastore"),PE.delete(e),i.terminate())})(this),Promise.resolve()}}function JO(n,t,e,i={}){n=Rr(n,dd);const a=el(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;a&&(gS(`https://${h}`),mS("Firestore",!0)),o.host!==px&&o.host!==h&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:a,emulatorOptions:i};if(!Ca(d,c)&&(n._setSettings(d),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=cn.MOCK_USER;else{m=pR(i.mockUserToken,n._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ht(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new cn(_)}n._authCredentials=new QI(new rA(m,y))}}class La{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new La(this.firestore,t,this._query)}}class Le{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(ru(e,Le._jsonSchema))return new Le(t,i||null,new Et(le.fromString(e.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:Pe("string",Le._jsonSchemaVersion),referencePath:Pe("string")};class Cr extends La{constructor(t,e,i){super(t,e,Wp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new Et(t))}withConverter(t){return new Cr(this.firestore,t,this._path)}}function ZO(n,t,...e){if(n=qe(n),aA("collection","path",t),n instanceof dd){const i=le.fromString(t,...e);return W0(i),new Cr(n,null,i)}{if(!(n instanceof Le||n instanceof Cr))throw new ht(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(le.fromString(t,...e));return W0(i),new Cr(n.firestore,null,i)}}function Ts(n,t,...e){if(n=qe(n),arguments.length===1&&(t=qp.newId()),aA("doc","path",t),n instanceof dd){const i=le.fromString(t,...e);return X0(i),new Le(n,null,new Et(i))}{if(!(n instanceof Le||n instanceof Cr))throw new ht(et.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(le.fromString(t,...e));return X0(i),new Le(n.firestore,n instanceof Cr?n.converter:null,new Et(i))}}const jE="AsyncQueue";class UE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JA(this,"async_queue_retry"),this._c=()=>{const i=Nm();i&&dt(jE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Nm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Nm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new xa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!al(t))throw t;dt(jE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Ns("INTERNAL UNHANDLED ERROR: ",BE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=cy.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&xt(47125,{Pc:BE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function BE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Jo extends dd{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new UE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new UE(t),this._firestoreClient=void 0,await t}}}function tN(n,t){const e=typeof n=="object"?n:vS(),i=typeof n=="string"?n:Mf,a=Op(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=gR("firestore");o&&JO(a,...o)}return a}function gy(n){if(n._terminated)throw new ht(et.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||eN(n),n._firestoreClient}function eN(n){const t=n._freezeSettings(),e=$O(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new GO(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}class ei{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ei(rn.fromBase64String(t))}catch(e){throw new ht(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ei(rn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ru(t,ei._jsonSchema))return ei.fromBase64String(t.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:Pe("string",ei._jsonSchemaVersion),bytes:Pe("string")};class my{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ht(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class py{constructor(t){this._methodName=t}}class ts{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ht(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ht(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ts._jsonSchemaVersion}}static fromJSON(t){if(ru(t,ts._jsonSchema))return new ts(t.latitude,t.longitude)}}ts._jsonSchemaVersion="firestore/geoPoint/1.0",ts._jsonSchema={type:Pe("string",ts._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};class Ei{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ru(t,Ei._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Ei(t.vectorValues);throw new ht(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:Pe("string",Ei._jsonSchemaVersion),vectorValues:Pe("object")};const nN=/^__.*__$/;class iN{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new jr(t,this.data,this.fieldMask,e,this.fieldTransforms):new au(t,this.data,e,this.fieldTransforms)}}class yx{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new jr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function _x(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt(40011,{dataSource:n})}}class yy{constructor(t,e,i,a,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new yy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Uf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(_x(this.dataSource)&&nN.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class sN{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||ud(t)}createContext(t,e,i,a=!1){return new yy({dataSource:t,methodName:e,targetDoc:i,path:sn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _y(n){const t=n._freezeSettings(),e=ud(n._databaseId);return new sN(n._databaseId,!!t.ignoreUndefinedProperties,e)}function vx(n,t,e,i,a,o={}){const c=n.createContext(o.merge||o.mergeFields?2:0,t,e,a);vy("Data must be an object, but it was:",c,i);const h=bx(i,c);let d,m;if(o.merge)d=new zn(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const E=Zo(t,_,e);if(!c.contains(E))throw new ht(et.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Sx(y,E)||y.push(E)}d=new zn(y),m=c.fieldTransforms.filter((_=>d.covers(_.field)))}else d=null,m=c.fieldTransforms;return new iN(new xn(h),d,m)}class gd extends py{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof gd}}function rN(n,t,e,i){const a=n.createContext(1,t,e);vy("Data must be an object, but it was:",a,i);const o=[],c=xn.empty();zr(i,((d,m)=>{const y=Tx(t,d,e);m=qe(m);const _=a.childContextForFieldPath(y);if(m instanceof gd)o.push(y);else{const E=uu(m,_);E!=null&&(o.push(y),c.set(y,E))}}));const h=new zn(o);return new yx(c,h,a.fieldTransforms)}function aN(n,t,e,i,a,o){const c=n.createContext(1,t,e),h=[Zo(t,i,e)],d=[a];if(o.length%2!=0)throw new ht(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)h.push(Zo(t,o[E])),d.push(o[E+1]);const m=[],y=xn.empty();for(let E=h.length-1;E>=0;--E)if(!Sx(m,h[E])){const S=h[E];let M=d[E];M=qe(M);const V=c.childContextForFieldPath(S);if(M instanceof gd)m.push(S);else{const k=uu(M,V);k!=null&&(m.push(S),y.set(S,k))}}const _=new zn(m);return new yx(y,_,c.fieldTransforms)}function oN(n,t,e,i=!1){return uu(e,n.createContext(i?4:3,t))}function uu(n,t){if(Ex(n=qe(n)))return vy("Unsupported field value:",t,n),bx(n,t);if(n instanceof py)return(function(i,a){if(!_x(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(i,a){const o=[];let c=0;for(const h of i){let d=uu(h,a.childContextForArray(c));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,a){if((i=qe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return UD(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=fe.fromDate(i);return{timestampValue:Pf(a.serializer,o)}}if(i instanceof fe){const o=new fe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Pf(a.serializer,o)}}if(i instanceof ts)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ei)return{bytesValue:UA(a.serializer,i._byteString)};if(i instanceof Le){const o=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ty(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ei)return(function(c,h){const d=c instanceof Ei?c.toArray():c;return{mapValue:{fields:{[mA]:{stringValue:pA},[Of]:{arrayValue:{values:d.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return $p(h.serializer,y)}))}}}}}})(i,a);if(KA(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${td(i)}`)})(n,t)}function bx(n,t){const e={};return cA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zr(n,((i,a)=>{const o=uu(a,t.childContextForField(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function Ex(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof fe||n instanceof ts||n instanceof ei||n instanceof Le||n instanceof py||n instanceof Ei||KA(n))}function vy(n,t,e){if(!Ex(e)||!oA(e)){const i=td(e);throw i==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+i)}}function Zo(n,t,e){if((t=qe(t))instanceof my)return t._internalPath;if(typeof t=="string")return Tx(n,t);throw Uf("Field path arguments must be of type string or ",n,!1,void 0,e)}const lN=new RegExp("[~\\*/\\[\\]]");function Tx(n,t,e){if(t.search(lN)>=0)throw Uf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new my(...t.split("."))._internalPath}catch{throw Uf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Uf(n,t,e,i,a){const o=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||c)&&(d+=" (found",o&&(d+=` in field ${i}`),c&&(d+=` in document ${a}`),d+=")"),new ht(et.INVALID_ARGUMENT,h+n+d)}function Sx(n,t){return n.some((e=>e.isEqual(t)))}class cN{convertValue(t,e="none"){switch(kr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Nr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw xt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return zr(t,((a,o)=>{i[a]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[Of].arrayValue?.values?.map((i=>Se(i.doubleValue)));return new Ei(e)}convertGeoPoint(t){return new ts(Se(t.latitude),Se(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=id(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Hc(t));default:return null}}convertTimestamp(t){const e=Or(t);return new fe(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=le.fromString(t);Xt(YA(i),9688,{name:t});const a=new qc(i.get(1),i.get(3)),o=new Et(i.popFirst(5));return a.isEqual(e)||Ns(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}class Ax extends cN{constructor(t){super(),this.firestore=t}convertBytes(t){return new ei(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,e)}}const FE="@firebase/firestore",HE="4.10.0";function qE(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const a=e;for(const o of i)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class xx{constructor(t,e,i,a,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new uN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(Zo("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class uN extends xx{data(){return super.data()}}function hN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ht(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class by{}class wx extends by{}function fN(n,t,...e){let i=[];t instanceof by&&i.push(t),i=i.concat(e),(function(o){const c=o.filter((d=>d instanceof Ty)).length,h=o.filter((d=>d instanceof Ey)).length;if(c>1||c>0&&h>0)throw new ht(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class Ey extends wx{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Ey(t,e,i)}_apply(t){const e=this._parse(t);return Rx(t._query,e),new La(t.firestore,t.converter,dp(t._query,e))}_parse(t){const e=_y(t.firestore);return(function(o,c,h,d,m,y,_){let E;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ht(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){YE(_,y);const M=[];for(const V of _)M.push(GE(d,o,V));E={arrayValue:{values:M}}}else E=GE(d,o,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||YE(_,y),E=oN(h,c,_,y==="in"||y==="not-in");return Ve.create(m,y,E)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class Ty extends by{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Ty(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:Ti.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,o){let c=a;const h=o.getFlattenedFilters();for(const d of h)Rx(c,d),c=dp(c,d)})(t._query,e),new La(t.firestore,t.converter,dp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sy extends wx{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Sy(t,e)}_apply(t){const e=(function(a,o,c){if(a.startAt!==null)throw new ht(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ht(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yc(o,c)})(t._query,this._field,this._direction);return new La(t.firestore,t.converter,OD(t._query,e))}}function dN(n,t="asc"){const e=t,i=Zo("orderBy",n);return Sy._create(i,e)}function GE(n,t,e){if(typeof(e=qe(e))=="string"){if(e==="")throw new ht(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AA(t)&&e.indexOf("/")!==-1)throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(le.fromString(e));if(!Et.isDocumentKey(i))throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return sE(n,new Et(i))}if(e instanceof Le)return sE(n,e._key);throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${td(e)}.`)}function YE(n,t){if(!Array.isArray(n)||n.length===0)throw new ht(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Rx(n,t){const e=(function(a,o){for(const c of a)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ht(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function Cx(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class Rc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class wa extends xx{constructor(t,e,i,a,o,c){super(t,e,i,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new _f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Zo("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=wa._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",wa._jsonSchema={type:Pe("string",wa._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class _f extends wa{data(t={}){return super.data(t)}}class Bo{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Rc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new _f(this._firestore,this._userDataWriter,i.key,i,new Rc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ht(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const d=new _f(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Rc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new _f(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Rc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:gN(h.type),doc:d,oldIndex:m,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Bo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=qp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function gN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt(61501,{type:n})}}Bo._jsonSchemaVersion="firestore/querySnapshot/1.0",Bo._jsonSchema={type:Pe("string",Bo._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class mN{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=_y(t)}set(t,e,i){this._verifyNotCommitted();const a=Vm(t,this._firestore),o=Cx(a.converter,e,i),c=vx(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,i);return this._mutations.push(c.toMutation(a._key,jn.none())),this}update(t,e,i,...a){this._verifyNotCommitted();const o=Vm(t,this._firestore);let c;return c=typeof(e=qe(e))=="string"||e instanceof my?aN(this._dataReader,"WriteBatch.update",o._key,e,i,a):rN(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(c.toMutation(o._key,jn.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Vm(t,this._firestore);return this._mutations=this._mutations.concat(new ld(e._key,jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ht(et.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vm(n,t){if((n=qe(n)).firestore!==t)throw new ht(et.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Pm(n,t,e){n=Rr(n,Le);const i=Rr(n.firestore,Jo),a=Cx(n.converter,t,e),o=_y(i);return Ay(i,[vx(o,"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,jn.none())])}function pN(n){return Ay(Rr(n.firestore,Jo),[new ld(n._key,jn.none())])}function Lm(n,...t){n=qe(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||qE(t[i])||(e=t[i++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(qE(t[i])){const m=t[i];t[i]=m.next?.bind(m),t[i+1]=m.error?.bind(m),t[i+2]=m.complete?.bind(m)}let o,c,h;if(n instanceof Le)c=Rr(n.firestore,Jo),h=Wp(n._key.path),o={next:m=>{t[i]&&t[i](yN(c,n,m))},error:t[i+1],complete:t[i+2]};else{const m=Rr(n,La);c=Rr(m.firestore,Jo),h=m._query;const y=new Ax(c);o={next:_=>{t[i]&&t[i](new Bo(c,y,m,_))},error:t[i+1],complete:t[i+2]},hN(n._query)}const d=gy(c);return QO(d,h,a,o)}function Ay(n,t){const e=gy(n);return XO(e,t)}function yN(n,t,e){const i=e.docs.get(t._key),a=new Ax(n);return new wa(n,a,t._key,i,new Rc(e.hasPendingWrites,e.fromCache),t.converter)}function _N(n){return n=Rr(n,Jo),gy(n),new mN(n,(t=>Ay(n,t)))}(function(t,e=!0){YI(nl),qo(new Ia("firestore",((i,{instanceIdentifier:a,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new Jo(new XI(i.getProvider("auth-internal")),new JI(c,i.getProvider("app-check-internal")),mD(c,a),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),xr(FE,HE,t),xr(FE,HE,"esm2020")})();const vN={apiKey:"AIzaSyDYV8S9iwYB1HQWq5Xg17Zmv4v3VaxNEPc",authDomain:"mis-gastos-app-27f00.firebaseapp.com",projectId:"mis-gastos-app-27f00",storageBucket:"mis-gastos-app-27f00.firebasestorage.app",messagingSenderId:"252913038714",appId:"1:252913038714:web:c61bbbba002a4bccbf12c3"},Ix=_S(vN),zm=qI(Ix),yi=tN(Ix),Dx=pt.createContext();function Mx(){return pt.useContext(Dx)}function bN({children:n}){const[t,e]=pt.useState(null),[i,a]=pt.useState(!0),o=async()=>{const d=new Rs;try{await Z2(zm,d)}catch(m){throw console.error("Error al iniciar sesin:",m),m}},c=()=>N2(zm);pt.useEffect(()=>O2(zm,m=>{e(m),a(!1)}),[]);const h={user:t,loginWithGoogle:o,logout:c,loading:i};return I.jsx(Dx.Provider,{value:h,children:!i&&n})}function EN({children:n,activeTab:t,onTabChange:e,onOpenSettings:i,settings:a}){const{user:o,loginWithGoogle:c,logout:h}=Mx(),[d,m]=pt.useState("light");pt.useEffect(()=>{const S=Ln.getTheme();m(S),document.documentElement.classList.toggle("dark",S==="dark")},[]);const y=()=>{const S=d==="light"?"dark":"light";m(S),Ln.saveTheme(S),document.documentElement.classList.toggle("dark",S==="dark")},E={ARS:"$",USD:"US$",EUR:"",BRL:"R$"}[a?.currency]||"$";return I.jsxs("div",{className:"min-h-screen pb-8",children:[I.jsxs("header",{className:"glass-card mx-4 mt-4 mb-6 px-6 py-4",children:[I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{className:"flex items-center gap-4",children:[I.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-xl font-bold shadow-lg",children:""}),I.jsxs("div",{children:[I.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-indigo-500 to-purple-600 bg-clip-text text-transparent",children:"Coste de Vida Digital"}),I.jsxs("p",{className:"text-sm text-[var(--color-text-secondary)]",children:["Gestiona tus gastos digitales ",`(${E})`]})]})]}),I.jsxs("div",{className:"flex items-center gap-2",children:[o?I.jsxs("div",{className:"flex items-center gap-2 mr-2 bg-[var(--color-bg-tertiary)] rounded-full pl-1 pr-3 py-1",children:[I.jsx("img",{src:o.photoURL,alt:o.displayName,className:"w-8 h-8 rounded-full border border-[var(--color-border)]",title:o.displayName}),I.jsx("button",{onClick:h,className:"text-xs font-medium text-red-500 hover:text-red-400",children:"Salir"})]}):I.jsxs("button",{onClick:c,className:"px-4 py-2 mr-2 rounded-xl bg-white text-gray-700 border border-gray-200 shadow-sm text-sm font-medium hover:bg-gray-50 flex items-center gap-2 transition-all",children:[I.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-4 h-4",alt:"G"}),I.jsx("span",{children:"Entrar"})]}),I.jsx("button",{onClick:i,className:"w-12 h-12 rounded-xl bg-[var(--color-bg-tertiary)] flex items-center justify-center text-xl hover:scale-110 transition-transform",title:"Configuracin",children:""}),I.jsx("button",{onClick:y,className:"w-12 h-12 rounded-xl bg-[var(--color-bg-tertiary)] flex items-center justify-center text-xl hover:scale-110 transition-transform",title:d==="light"?"Activar modo oscuro":"Activar modo claro",children:d==="light"?"":""})]})]}),I.jsxs("nav",{className:"flex gap-2 mt-6 border-b border-[var(--color-border)]",children:[I.jsx("button",{className:`tab-button ${t==="gastos"?"active":""}`,onClick:()=>e("gastos"),children:" Gastos"}),I.jsx("button",{className:`tab-button ${t==="graficos"?"active":""}`,onClick:()=>e("graficos"),children:" Grficos"})]})]}),I.jsx("main",{className:"mx-4",children:n})]})}const TN={suscripcion:" Suscripcin",software:" Software/IA",mercado_credito:" Mercado Crdito",servicios:" Servicios",almacenamiento:" Almacenamiento",gaming:" Gaming",otro:" Otro"};function SN({expenses:n,onEdit:t,onDelete:e,total:i,settings:a={currency:"ARS"},getSalaryPercentage:o,getStatusColor:c}){const[h,d]=pt.useState(null),m=z=>new Intl.NumberFormat("es-AR",{style:"currency",currency:a.currency||"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(z),y=z=>{if(!z)return"-";const Y=new Date(z);return new Intl.DateTimeFormat("es-AR",{year:"numeric",month:"short",day:"numeric"}).format(Y)},_=z=>{h===z?(e(z),d(null)):(d(z),setTimeout(()=>d(null),3e3))},E=z=>({"Tarjeta de crdito":"","Tarjeta de dbito":"",PayPal:"","Mercado Pago":"","Transferencia bancaria":"",Efectivo:"",Criptomoneda:"",Otro:""})[z]||"",S=o?o(i):0,M=c?c(S):"green",k=n.filter(z=>z.cuotas>1&&z.cuota_actual===z.cuotas).reduce((z,Y)=>z+Y.monto,0);return n.length===0?I.jsxs("div",{className:"glass-card p-12 text-center",children:[I.jsx("div",{className:"text-6xl mb-4",children:""}),I.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No hay gastos registrados"}),I.jsx("p",{className:"text-[var(--color-text-secondary)]",children:"Aade tu primer gasto digital para comenzar a gestionar tu coste de vida"})]}):I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[I.jsx("div",{className:`total-card ${M==="green"?"border-green-500":M==="yellow"?"border-yellow-500":"border-red-500"}`,style:{borderWidth:"3px",borderStyle:"solid"},children:I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{children:[I.jsx("div",{className:"label",children:"Total Mensual"}),I.jsx("div",{className:`value ${M==="green"?"text-green-500":M==="yellow"?"text-yellow-500":"text-red-500"}`,children:m(i)})]}),a.salary>0&&I.jsxs("div",{className:`text-right ${M==="green"?"text-green-500":M==="yellow"?"text-yellow-500":"text-red-500"}`,children:[I.jsxs("div",{className:"text-2xl font-bold",children:[S.toFixed(1),"%"]}),I.jsx("div",{className:"text-xs opacity-80",children:"del sueldo"})]})]})}),k>0&&I.jsx("div",{className:"total-card border-emerald-500",style:{borderWidth:"1px",borderStyle:"dashed",background:"rgba(16, 185, 129, 0.05)"},children:I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{children:[I.jsx("div",{className:"label text-emerald-500",children:" Finalizan este mes"}),I.jsx("div",{className:"value text-emerald-600",children:m(k)}),I.jsx("div",{className:"text-xs text-[var(--color-text-secondary)] mt-1",children:"Se liberan el prximo mes"})]}),I.jsx("div",{className:"text-4xl",children:""})]})})]}),I.jsx("div",{className:"glass-card overflow-hidden",children:I.jsx("div",{className:"overflow-x-auto",children:I.jsxs("table",{className:"data-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Servicio"}),I.jsx("th",{children:"Categora"}),I.jsx("th",{children:"Monto"}),I.jsx("th",{children:"Cuotas"}),I.jsx("th",{children:"Mtodo"}),I.jsx("th",{children:"Tarjeta"}),I.jsx("th",{children:"Fecha"}),I.jsx("th",{style:{width:"100px"},children:"Acciones"})]})}),I.jsx("tbody",{children:n.map(z=>{const Y=z.cuotas>1&&z.cuota_actual===z.cuotas;return I.jsxs("tr",{className:Y?"bg-emerald-500/10":"",children:[I.jsx("td",{children:I.jsxs("div",{className:"font-medium flex items-center gap-2",children:[z.nombre,Y&&I.jsx("span",{className:"text-xs bg-emerald-500 text-white px-1.5 py-0.5 rounded-full",children:"Finaliza"})]})}),I.jsx("td",{children:I.jsx("span",{className:"text-sm",children:TN[z.categoria]||z.categoria||"-"})}),I.jsx("td",{children:I.jsx("span",{className:"amount-display amount-positive",children:m(z.monto)})}),I.jsx("td",{children:z.cuotas&&z.cuotas>1?I.jsxs("span",{className:`badge ${Y?"bg-emerald-500 text-white":"bg-blue-500/20 text-blue-400"}`,children:[z.cuota_actual||1,"/",z.cuotas]}):I.jsx("span",{className:"text-[var(--color-text-muted)]",children:"-"})}),I.jsx("td",{children:I.jsxs("span",{className:"badge",children:[E(z.metodo_pago)," ",z.metodo_pago]})}),I.jsx("td",{children:z.tarjeta_credito?I.jsx("span",{className:"text-sm text-indigo-400",children:z.tarjeta_credito}):I.jsx("span",{className:"text-[var(--color-text-muted)]",children:"-"})}),I.jsx("td",{className:"text-[var(--color-text-secondary)] text-sm",children:y(z.fecha_gasto||z.fecha_inicio)}),I.jsx("td",{children:I.jsxs("div",{className:"flex gap-1",children:[I.jsx("button",{onClick:()=>t(z),className:"p-2 rounded-lg hover:bg-[var(--color-bg-tertiary)] transition-colors",title:"Editar",children:""}),I.jsx("button",{onClick:()=>_(z.id),className:`p-2 rounded-lg transition-all ${h===z.id?"bg-red-500 text-white scale-110":"hover:bg-red-100 dark:hover:bg-red-900/30"}`,title:h===z.id?"Confirmar":"Eliminar",children:""})]})})]},z.id)})})]})})})]})}function AN({expense:n,onSave:t,onCancel:e,creditCards:i=[],onAddCreditCard:a}){const[o,c]=pt.useState({nombre:n?.nombre||"",monto:n?.monto?.toString()||"",categoria:n?.categoria||"suscripcion",metodo_pago:n?.metodo_pago||"",tarjeta_credito:n?.tarjeta_credito||"",fecha_inicio:n?.fecha_inicio||new Date().toISOString().split("T")[0],fecha_gasto:n?.fecha_gasto||new Date().toISOString().split("T")[0],cuotas:n?.cuotas?.toString()||"1",cuota_actual:n?.cuota_actual?.toString()||"1"}),[h,d]=pt.useState({}),[m,y]=pt.useState(!1),[_,E]=pt.useState(""),[S,M]=pt.useState("quota"),V=[{value:"suscripcion",label:" Suscripcin (Netflix, Spotify, etc.)"},{value:"software",label:" Software/IA (ChatGPT, GitHub, etc.)"},{value:"mercado_credito",label:" Mercado Crdito"},{value:"servicios",label:" Servicios Digitales"},{value:"almacenamiento",label:" Almacenamiento (iCloud, Drive)"},{value:"gaming",label:" Gaming (Xbox, PlayStation, Steam)"},{value:"otro",label:" Otro"}],k=["Tarjeta de crdito","Tarjeta de dbito","PayPal","Mercado Pago","Transferencia bancaria","Efectivo","Criptomoneda","Otro"],z=()=>{const Q={};return o.nombre.trim()||(Q.nombre="El nombre es requerido"),(!o.monto||parseFloat(o.monto)<=0)&&(Q.monto="El monto debe ser mayor a 0"),o.metodo_pago||(Q.metodo_pago="Selecciona un mtodo de pago"),o.metodo_pago==="Tarjeta de crdito"&&!o.tarjeta_credito&&(Q.tarjeta_credito="Selecciona o aade una tarjeta de crdito"),o.fecha_gasto||(Q.fecha_gasto="La fecha del gasto es requerida"),parseInt(o.cuotas)>1&&parseInt(o.cuota_actual)>parseInt(o.cuotas)&&(Q.cuota_actual="La cuota actual no puede ser mayor al total"),d(Q),Object.keys(Q).length===0},Y=Q=>{if(Q.preventDefault(),z()){let D=parseFloat(o.monto);const R=parseInt(o.cuotas)||1;S==="total"&&R>1&&(D=D/R),t({...o,monto:D,cuotas:R,cuota_actual:parseInt(o.cuota_actual)||1})}},$=(Q,D)=>{c(R=>({...R,[Q]:D})),h[Q]&&d(R=>({...R,[Q]:null}))},at=()=>{_.trim()&&a&&(a(_.trim()),c(Q=>({...Q,tarjeta_credito:_.trim()})),E(""),y(!1))},it=o.metodo_pago==="Tarjeta de crdito";return I.jsx("div",{className:"modal-overlay",onClick:e,children:I.jsxs("div",{className:"modal-content max-h-[90vh] overflow-y-auto",onClick:Q=>Q.stopPropagation(),children:[I.jsx("h2",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-indigo-500 to-purple-600 bg-clip-text text-transparent",children:n?"Editar Gasto":"Nuevo Gasto"}),I.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium mb-2 text-[var(--color-text-secondary)]",children:"Nombre del servicio"}),I.jsx("input",{type:"text",className:`form-input ${h.nombre?"border-red-500":""}`,placeholder:"Netflix, Spotify, ChatGPT...",value:o.nombre,onChange:Q=>$("nombre",Q.target.value)}),h.nombre&&I.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.nombre})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium mb-2 text-[var(--color-text-secondary)]",children:"Categora"}),I.jsx("select",{className:"form-input",value:o.categoria,onChange:Q=>$("categoria",Q.target.value),children:V.map(Q=>I.jsx("option",{value:Q.value,children:Q.label},Q.value))})]}),I.jsxs("div",{children:[I.jsxs("div",{className:"flex items-center justify-between mb-2",children:[I.jsx("label",{className:"block text-sm font-medium text-[var(--color-text-secondary)]",children:"Monto"}),it&&parseInt(o.cuotas)>1&&I.jsxs("div",{className:"flex bg-[var(--color-bg-tertiary)] rounded-lg p-0.5",children:[I.jsx("button",{type:"button",className:`px-2 py-0.5 text-xs rounded-md transition-all ${S==="quota"?"bg-indigo-500 text-white shadow-sm":"text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)]"}`,onClick:()=>M("quota"),children:"Por Cuota"}),I.jsx("button",{type:"button",className:`px-2 py-0.5 text-xs rounded-md transition-all ${S==="total"?"bg-indigo-500 text-white shadow-sm":"text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)]"}`,onClick:()=>M("total"),children:"Total"})]})]}),I.jsxs("div",{className:"relative",children:[I.jsx("input",{type:"number",step:"0.01",min:"0",className:`form-input ${h.monto?"border-red-500":""}`,placeholder:"0.00",value:o.monto,onChange:Q=>$("monto",Q.target.value)}),it&&parseInt(o.cuotas)>1&&o.monto>0&&I.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-[var(--color-text-secondary)]",children:S==="total"?`~ ${(parseFloat(o.monto)/parseInt(o.cuotas)).toFixed(2)} / cuota`:`Total: ${(parseFloat(o.monto)*parseInt(o.cuotas)).toFixed(2)}`})]}),h.monto&&I.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.monto})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium mb-2 text-[var(--color-text-secondary)]",children:"Mtodo de pago"}),I.jsxs("select",{className:`form-input ${h.metodo_pago?"border-red-500":""}`,value:o.metodo_pago,onChange:Q=>$("metodo_pago",Q.target.value),children:[I.jsx("option",{value:"",children:"Seleccionar mtodo"}),k.map(Q=>I.jsx("option",{value:Q,children:Q},Q))]}),h.metodo_pago&&I.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.metodo_pago})]}),o.metodo_pago==="Tarjeta de crdito"&&I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium mb-2 text-[var(--color-text-secondary)]",children:"Tarjeta de Crdito"}),m?I.jsxs("div",{className:"flex gap-2",children:[I.jsx("input",{type:"text",className:"form-input flex-1",placeholder:"Ej: VISA Galicia ****1234",value:_,onChange:Q=>E(Q.target.value)}),I.jsx("button",{type:"button",className:"btn-primary text-sm px-3",onClick:at,children:"Aadir"}),I.jsx("button",{type:"button",className:"btn-secondary text-sm px-3",onClick:()=>y(!1),children:""})]}):I.jsxs(I.Fragment,{children:[I.jsxs("select",{className:`form-input ${h.tarjeta_credito?"border-red-500":""}`,value:o.tarjeta_credito,onChange:Q=>$("tarjeta_credito",Q.target.value),children:[I.jsx("option",{value:"",children:"Seleccionar tarjeta"}),i.map(Q=>I.jsx("option",{value:Q,children:Q},Q))]}),I.jsx("button",{type:"button",className:"text-sm text-indigo-500 hover:text-indigo-400 mt-2",onClick:()=>y(!0),children:"+ Aadir nueva tarjeta"})]}),h.tarjeta_credito&&I.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.tarjeta_credito})]}),it&&I.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium mb-2 text-[var(--color-text-secondary)]",children:"Cantidad de Cuotas"}),I.jsx("input",{type:"number",min:"1",max:"48",className:"form-input",value:o.cuotas,onChange:Q=>$("cuotas",Q.target.value)})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium mb-2 text-[var(--color-text-secondary)]",children:"Cuota Actual"}),I.jsx("input",{type:"number",min:"1",max:o.cuotas,className:`form-input ${h.cuota_actual?"border-red-500":""}`,value:o.cuota_actual,onChange:Q=>$("cuota_actual",Q.target.value)}),h.cuota_actual&&I.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.cuota_actual})]})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium mb-2 text-[var(--color-text-secondary)]",children:"Fecha del Gasto"}),I.jsx("input",{type:"date",className:`form-input ${h.fecha_gasto?"border-red-500":""}`,value:o.fecha_gasto,onChange:Q=>$("fecha_gasto",Q.target.value)}),h.fecha_gasto&&I.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.fecha_gasto})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium mb-2 text-[var(--color-text-secondary)]",children:"Fecha de Inicio"}),I.jsx("input",{type:"date",className:"form-input",value:o.fecha_inicio,onChange:Q=>$("fecha_inicio",Q.target.value)})]})]}),I.jsxs("div",{className:"flex gap-3 pt-4",children:[I.jsx("button",{type:"button",className:"btn-secondary flex-1",onClick:e,children:"Cancelar"}),I.jsx("button",{type:"submit",className:"btn-primary flex-1",children:n?"Guardar Cambios":"Aadir Gasto"})]})]})]})})}function xN({filterType:n,year:t,month:e,onFilterTypeChange:i,onYearChange:a,onMonthChange:o,paymentMethods:c=[],creditCards:h=[],selectedMethod:d="all",selectedCard:m="all",onMethodChange:y,onCardChange:_}){const E=new Date().getFullYear(),S=Array.from({length:10},(k,z)=>E-z),M=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],V=["Tarjeta de crdito","Tarjeta de dbito","Mercado Pago","Transferencia bancaria","Efectivo","Criptomoneda","PayPal","Otro"];return I.jsx("div",{className:"glass-card p-4 mb-6",children:I.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[I.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-[var(--color-border)]",children:[I.jsx("button",{className:`px-4 py-2 text-sm font-medium transition-all ${n==="all"?"bg-gradient-to-r from-indigo-500 to-purple-600 text-white":"bg-[var(--color-bg-secondary)] text-[var(--color-text-secondary)] hover:bg-[var(--color-bg-tertiary)]"}`,onClick:()=>i("all"),children:"Todos"}),I.jsx("button",{className:`px-4 py-2 text-sm font-medium transition-all ${n==="year"?"bg-gradient-to-r from-indigo-500 to-purple-600 text-white":"bg-[var(--color-bg-secondary)] text-[var(--color-text-secondary)] hover:bg-[var(--color-bg-tertiary)]"}`,onClick:()=>i("year"),children:"Por Ao"}),I.jsx("button",{className:`px-4 py-2 text-sm font-medium transition-all ${n==="month"?"bg-gradient-to-r from-indigo-500 to-purple-600 text-white":"bg-[var(--color-bg-secondary)] text-[var(--color-text-secondary)] hover:bg-[var(--color-bg-tertiary)]"}`,onClick:()=>i("month"),children:"Por Mes"})]}),(n==="year"||n==="month")&&I.jsx("select",{className:"form-input w-auto min-w-[100px]",value:t,onChange:k=>a(parseInt(k.target.value)),children:S.map(k=>I.jsx("option",{value:k,children:k},k))}),n==="month"&&I.jsx("select",{className:"form-input w-auto min-w-[130px]",value:e,onChange:k=>o(parseInt(k.target.value)),children:M.map((k,z)=>I.jsx("option",{value:z,children:k},z))}),I.jsx("div",{className:"h-8 w-px bg-[var(--color-border)] mx-2 hidden sm:block"}),I.jsxs("select",{className:"form-input w-auto min-w-[150px]",value:d,onChange:k=>y(k.target.value),children:[I.jsx("option",{value:"all",children:" Todos los mtodos"}),V.map(k=>I.jsx("option",{value:k,children:k},k))]}),d==="Tarjeta de crdito"&&I.jsxs("select",{className:"form-input w-auto min-w-[150px]",value:m,onChange:k=>_(k.target.value),children:[I.jsx("option",{value:"all",children:" Todas las tarjetas"}),h.map(k=>I.jsx("option",{value:k,children:k},k))]})]})})}function hu(n){return n+.5|0}const br=(n,t,e)=>Math.max(Math.min(n,e),t);function Cc(n){return br(hu(n*2.55),0,255)}function Ir(n){return br(hu(n*255),0,255)}function ws(n){return br(hu(n/2.55)/100,0,1)}function KE(n){return br(hu(n*100),0,100)}const ti={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ap=[..."0123456789ABCDEF"],wN=n=>Ap[n&15],RN=n=>Ap[(n&240)>>4]+Ap[n&15],Wh=n=>(n&240)>>4===(n&15),CN=n=>Wh(n.r)&&Wh(n.g)&&Wh(n.b)&&Wh(n.a);function IN(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&ti[n[1]]*17,g:255&ti[n[2]]*17,b:255&ti[n[3]]*17,a:t===5?ti[n[4]]*17:255}:(t===7||t===9)&&(e={r:ti[n[1]]<<4|ti[n[2]],g:ti[n[3]]<<4|ti[n[4]],b:ti[n[5]]<<4|ti[n[6]],a:t===9?ti[n[7]]<<4|ti[n[8]]:255})),e}const DN=(n,t)=>n<255?t(n):"";function MN(n){var t=CN(n)?wN:RN;return n?"#"+t(n.r)+t(n.g)+t(n.b)+DN(n.a,t):void 0}const ON=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ox(n,t,e){const i=t*Math.min(e,1-e),a=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function NN(n,t,e){const i=(a,o=(a+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function kN(n,t,e){const i=Ox(n,1,.5);let a;for(t+e>1&&(a=1/(t+e),t*=a,e*=a),a=0;a<3;a++)i[a]*=1-t-e,i[a]+=t;return i}function VN(n,t,e,i,a){return n===a?(t-e)/i+(t<e?6:0):t===a?(e-n)/i+2:(n-t)/i+4}function xy(n){const e=n.r/255,i=n.g/255,a=n.b/255,o=Math.max(e,i,a),c=Math.min(e,i,a),h=(o+c)/2;let d,m,y;return o!==c&&(y=o-c,m=h>.5?y/(2-o-c):y/(o+c),d=VN(e,i,a,y,o),d=d*60+.5),[d|0,m||0,h]}function wy(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Ir)}function Ry(n,t,e){return wy(Ox,n,t,e)}function PN(n,t,e){return wy(kN,n,t,e)}function LN(n,t,e){return wy(NN,n,t,e)}function Nx(n){return(n%360+360)%360}function zN(n){const t=ON.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Cc(+t[5]):Ir(+t[5]));const a=Nx(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=PN(a,o,c):t[1]==="hsv"?i=LN(a,o,c):i=Ry(a,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function jN(n,t){var e=xy(n);e[0]=Nx(e[0]+t),e=Ry(e),n.r=e[0],n.g=e[1],n.b=e[2]}function UN(n){if(!n)return;const t=xy(n),e=t[0],i=KE(t[1]),a=KE(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${a}%, ${ws(n.a)})`:`hsl(${e}, ${i}%, ${a}%)`}const QE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},XE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function BN(){const n={},t=Object.keys(XE),e=Object.keys(QE);let i,a,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],a=0;a<e.length;a++)o=e[a],h=h.replace(o,QE[o]);o=parseInt(XE[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let $h;function FN(n){$h||($h=BN(),$h.transparent=[0,0,0,0]);const t=$h[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const HN=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function qN(n){const t=HN.exec(n);let e=255,i,a,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Cc(c):br(c*255,0,255)}return i=+t[1],a=+t[3],o=+t[5],i=255&(t[2]?Cc(i):br(i,0,255)),a=255&(t[4]?Cc(a):br(a,0,255)),o=255&(t[6]?Cc(o):br(o,0,255)),{r:i,g:a,b:o,a:e}}}function GN(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ws(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const jm=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Do=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function YN(n,t,e){const i=Do(ws(n.r)),a=Do(ws(n.g)),o=Do(ws(n.b));return{r:Ir(jm(i+e*(Do(ws(t.r))-i))),g:Ir(jm(a+e*(Do(ws(t.g))-a))),b:Ir(jm(o+e*(Do(ws(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Jh(n,t,e){if(n){let i=xy(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Ry(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function kx(n,t){return n&&Object.assign(t||{},n)}function WE(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Ir(n[3]))):(t=kx(n,{r:0,g:0,b:0,a:1}),t.a=Ir(t.a)),t}function KN(n){return n.charAt(0)==="r"?qN(n):zN(n)}class Xc{constructor(t){if(t instanceof Xc)return t;const e=typeof t;let i;e==="object"?i=WE(t):e==="string"&&(i=IN(t)||FN(t)||KN(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=kx(this._rgb);return t&&(t.a=ws(t.a)),t}set rgb(t){this._rgb=WE(t)}rgbString(){return this._valid?GN(this._rgb):void 0}hexString(){return this._valid?MN(this._rgb):void 0}hslString(){return this._valid?UN(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,a=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,d=i.a-a.a,m=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;o=1-m,i.r=255&m*i.r+o*a.r+.5,i.g=255&m*i.g+o*a.g+.5,i.b=255&m*i.b+o*a.b+.5,i.a=c*i.a+(1-c)*a.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=YN(this._rgb,t._rgb,e)),this}clone(){return new Xc(this.rgb)}alpha(t){return this._rgb.a=Ir(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=hu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Jh(this._rgb,2,t),this}darken(t){return Jh(this._rgb,2,-t),this}saturate(t){return Jh(this._rgb,1,t),this}desaturate(t){return Jh(this._rgb,1,-t),this}rotate(t){return jN(this._rgb,t),this}}function Ss(){}const QN=(()=>{let n=0;return()=>n++})();function ae(n){return n==null}function Be(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function qt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ii(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Gi(n,t){return ii(n)?n:t}function Ht(n,t){return typeof n>"u"?t:n}const XN=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,Vx=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function he(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Zt(n,t,e,i){let a,o,c;if(Be(n))for(o=n.length,a=0;a<o;a++)t.call(e,n[a],a);else if(qt(n))for(c=Object.keys(n),o=c.length,a=0;a<o;a++)t.call(e,n[c[a]],c[a])}function Bf(n,t){let e,i,a,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(a=n[e],o=t[e],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function Ff(n){if(Be(n))return n.map(Ff);if(qt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let a=0;for(;a<i;++a)t[e[a]]=Ff(n[e[a]]);return t}return n}function Px(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function WN(n,t,e,i){if(!Px(n))return;const a=t[n],o=e[n];qt(a)&&qt(o)?Wc(a,o,i):t[n]=Ff(o)}function Wc(n,t,e){const i=Be(t)?t:[t],a=i.length;if(!qt(n))return n;e=e||{};const o=e.merger||WN;let c;for(let h=0;h<a;++h){if(c=i[h],!qt(c))continue;const d=Object.keys(c);for(let m=0,y=d.length;m<y;++m)o(d[m],n,c,e)}return n}function Lc(n,t){return Wc(n,t,{merger:$N})}function $N(n,t,e){if(!Px(n))return;const i=t[n],a=e[n];qt(i)&&qt(a)?Lc(i,a):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Ff(a))}const $E={"":n=>n,x:n=>n.x,y:n=>n.y};function JN(n){const t=n.split("."),e=[];let i="";for(const a of t)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function ZN(n){const t=JN(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Na(n,t){return($E[t]||($E[t]=ZN(t)))(n)}function Cy(n){return n.charAt(0).toUpperCase()+n.slice(1)}const $c=n=>typeof n<"u",Lr=n=>typeof n=="function",JE=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function tk(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const re=Math.PI,ze=2*re,Hf=Number.POSITIVE_INFINITY,ek=re/180,Fe=re/2,pa=re/4,ZE=re*2/3,Lx=Math.log10,Dr=Math.sign;function vf(n,t,e){return Math.abs(n-t)<e}function tT(n){const t=Math.round(n);n=vf(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Lx(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function nk(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((a,o)=>a-o).pop(),t}function ik(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function qf(n){return!ik(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function sk(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function rk(n,t,e){let i,a,o;for(i=0,a=n.length;i<a;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ds(n){return n*(re/180)}function ak(n){return n*(180/re)}function eT(n){if(!ii(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function zx(n,t){const e=t.x-n.x,i=t.y-n.y,a=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*re&&(o+=ze),{angle:o,distance:a}}function ok(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Wi(n){return(n%ze+ze)%ze}function Gf(n,t,e,i){const a=Wi(n),o=Wi(t),c=Wi(e),h=Wi(o-a),d=Wi(c-a),m=Wi(a-o),y=Wi(a-c);return a===o||a===c||i&&o===c||h>d&&m<y}function Rn(n,t,e){return Math.max(t,Math.min(e,n))}function lk(n){return Rn(n,-32768,32767)}function Sa(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Iy(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,a=0,o;for(;i-a>1;)o=a+i>>1,e(o)?a=o:i=o;return{lo:a,hi:i}}const xp=(n,t,e,i)=>Iy(n,e,i?a=>{const o=n[a][t];return o<e||o===e&&n[a+1][t]===e}:a=>n[a][t]<e),ck=(n,t,e)=>Iy(n,e,i=>n[i][t]>=e);function uk(n,t,e){let i=0,a=n.length;for(;i<a&&n[i]<t;)i++;for(;a>i&&n[a-1]>e;)a--;return i>0||a<n.length?n.slice(i,a):n}const jx=["push","pop","shift","splice","unshift"];function hk(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),jx.forEach(e=>{const i="_onData"+Cy(e),a=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=a.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function nT(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,a=i.indexOf(t);a!==-1&&i.splice(a,1),!(i.length>0)&&(jx.forEach(o=>{delete n[o]}),delete n._chartjs)}function Ux(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const Bx=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function Fx(n,t){let e=[],i=!1;return function(...a){e=a,i||(i=!0,Bx.call(window,()=>{i=!1,n.apply(t,e)}))}}function fk(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Dy=n=>n==="start"?"left":n==="end"?"right":"center",ln=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,dk=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,Zh=n=>n===0||n===1,iT=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*ze/e)),sT=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*ze/e)+1,zc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Fe)+1,easeOutSine:n=>Math.sin(n*Fe),easeInOutSine:n=>-.5*(Math.cos(re*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Zh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Zh(n)?n:iT(n,.075,.3),easeOutElastic:n=>Zh(n)?n:sT(n,.075,.3),easeInOutElastic(n){return Zh(n)?n:n<.5?.5*iT(n*2,.1125,.45):.5+.5*sT(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-zc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?zc.easeInBounce(n*2)*.5:zc.easeOutBounce(n*2-1)*.5+.5};function Hx(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function rT(n){return Hx(n)?n:new Xc(n)}function Um(n){return Hx(n)?n:new Xc(n).saturate(.5).darken(.1).hexString()}const gk=["x","y","borderWidth","radius","tension"],mk=["color","borderColor","backgroundColor"];function pk(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:mk},numbers:{type:"number",properties:gk}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function yk(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const aT=new Map;function _k(n,t){t=t||{};const e=n+JSON.stringify(t);let i=aT.get(e);return i||(i=new Intl.NumberFormat(n,t),aT.set(e,i)),i}function My(n,t,e){return _k(t,e).format(n)}const vk={values(n){return Be(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let a,o=n;if(e.length>1){const m=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(m<1e-4||m>1e15)&&(a="scientific"),o=bk(n,e)}const c=Lx(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),d={notation:a,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),My(n,i,d)}};function bk(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var qx={formatters:vk};function Ek(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:qx.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ka=Object.create(null),wp=Object.create(null);function jc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,a=e.length;i<a;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Bm(n,t,e){return typeof t=="string"?Wc(jc(n,t),e):Wc(jc(n,""),t)}class Tk{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,a)=>Um(a.backgroundColor),this.hoverBorderColor=(i,a)=>Um(a.borderColor),this.hoverColor=(i,a)=>Um(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Bm(this,t,e)}get(t){return jc(this,t)}describe(t,e){return Bm(wp,t,e)}override(t,e){return Bm(ka,t,e)}route(t,e,i,a){const o=jc(this,t),c=jc(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[h],m=c[a];return qt(d)?Object.assign({},m,d):Ht(d,m)},set(d){this[h]=d}}})}apply(t){t.forEach(e=>e(this))}}var Ae=new Tk({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[pk,yk,Ek]);function Sk(n){return!n||ae(n.size)||ae(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function oT(n,t,e,i,a){let o=t[a];return o||(o=t[a]=n.measureText(a).width,e.push(a)),o>i&&(i=o),i}function ya(n,t,e){const i=n.currentDevicePixelRatio,a=e!==0?Math.max(e/2,.5):0;return Math.round((t-a)*i)/i+a}function lT(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function cT(n,t,e,i){Gx(n,t,e,i,null)}function Gx(n,t,e,i,a){let o,c,h,d,m,y,_,E;const S=t.pointStyle,M=t.rotation,V=t.radius;let k=(M||0)*ek;if(S&&typeof S=="object"&&(o=S.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(k),n.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),n.restore();return}if(!(isNaN(V)||V<=0)){switch(n.beginPath(),S){default:a?n.ellipse(e,i,a/2,V,0,0,ze):n.arc(e,i,V,0,ze),n.closePath();break;case"triangle":y=a?a/2:V,n.moveTo(e+Math.sin(k)*y,i-Math.cos(k)*V),k+=ZE,n.lineTo(e+Math.sin(k)*y,i-Math.cos(k)*V),k+=ZE,n.lineTo(e+Math.sin(k)*y,i-Math.cos(k)*V),n.closePath();break;case"rectRounded":m=V*.516,d=V-m,c=Math.cos(k+pa)*d,_=Math.cos(k+pa)*(a?a/2-m:d),h=Math.sin(k+pa)*d,E=Math.sin(k+pa)*(a?a/2-m:d),n.arc(e-_,i-h,m,k-re,k-Fe),n.arc(e+E,i-c,m,k-Fe,k),n.arc(e+_,i+h,m,k,k+Fe),n.arc(e-E,i+c,m,k+Fe,k+re),n.closePath();break;case"rect":if(!M){d=Math.SQRT1_2*V,y=a?a/2:d,n.rect(e-y,i-d,2*y,2*d);break}k+=pa;case"rectRot":_=Math.cos(k)*(a?a/2:V),c=Math.cos(k)*V,h=Math.sin(k)*V,E=Math.sin(k)*(a?a/2:V),n.moveTo(e-_,i-h),n.lineTo(e+E,i-c),n.lineTo(e+_,i+h),n.lineTo(e-E,i+c),n.closePath();break;case"crossRot":k+=pa;case"cross":_=Math.cos(k)*(a?a/2:V),c=Math.cos(k)*V,h=Math.sin(k)*V,E=Math.sin(k)*(a?a/2:V),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c);break;case"star":_=Math.cos(k)*(a?a/2:V),c=Math.cos(k)*V,h=Math.sin(k)*V,E=Math.sin(k)*(a?a/2:V),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c),k+=pa,_=Math.cos(k)*(a?a/2:V),c=Math.cos(k)*V,h=Math.sin(k)*V,E=Math.sin(k)*(a?a/2:V),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c);break;case"line":c=a?a/2:Math.cos(k)*V,h=Math.sin(k)*V,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(k)*(a?a/2:V),i+Math.sin(k)*V);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Yx(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Oy(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Ny(n){n.restore()}function Ak(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),ae(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function xk(n,t,e,i,a){if(a.strikethrough||a.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,d=e-o.actualBoundingBoxAscent,m=e+o.actualBoundingBoxDescent,y=a.strikethrough?(d+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=a.decorationWidth||2,n.moveTo(c,y),n.lineTo(h,y),n.stroke()}}function wk(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Jc(n,t,e,i,a,o={}){const c=Be(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let d,m;for(n.save(),n.font=a.string,Ak(n,o),d=0;d<c.length;++d)m=c[d],o.backdrop&&wk(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),ae(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(m,e,i,o.maxWidth)),n.fillText(m,e,i,o.maxWidth),xk(n,e,i,m,o),i+=Number(a.lineHeight);n.restore()}function Yf(n,t){const{x:e,y:i,w:a,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*re,re,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,re,Fe,!0),n.lineTo(e+a-c.bottomRight,i+o),n.arc(e+a-c.bottomRight,i+o-c.bottomRight,c.bottomRight,Fe,0,!0),n.lineTo(e+a,i+c.topRight),n.arc(e+a-c.topRight,i+c.topRight,c.topRight,0,-Fe,!0),n.lineTo(e+c.topLeft,i)}const Rk=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ck=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ik(n,t){const e=(""+n).match(Rk);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const Dk=n=>+n||0;function ky(n,t){const e={},i=qt(t),a=i?Object.keys(t):t,o=qt(n)?i?c=>Ht(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of a)e[c]=Dk(o(c));return e}function Kx(n){return ky(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Fo(n){return ky(n,["topLeft","topRight","bottomLeft","bottomRight"])}function si(n){const t=Kx(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function hn(n,t){n=n||{},t=t||Ae.font;let e=Ht(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Ht(n.style,t.style);i&&!(""+i).match(Ck)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const a={family:Ht(n.family,t.family),lineHeight:Ik(Ht(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ht(n.weight,t.weight),string:""};return a.string=Sk(a),a}function tf(n,t,e,i){let a,o,c;for(a=0,o=n.length;a<o;++a)if(c=n[a],c!==void 0&&c!==void 0)return c}function Mk(n,t,e){const{min:i,max:a}=n,o=Vx(t,(a-i)/2),c=(h,d)=>e&&h===0?0:h+d;return{min:c(i,-Math.abs(o)),max:c(a,o)}}function cl(n,t){return Object.assign(Object.create(n),t)}function Vy(n,t=[""],e,i,a=()=>n[0]){const o=e||n;typeof i>"u"&&(i=$x("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:a,override:h=>Vy([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,d){return delete h[d],delete h._keys,delete n[0][d],!0},get(h,d){return Xx(h,d,()=>jk(d,t,n,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,d){return hT(h).includes(d)},ownKeys(h){return hT(h)},set(h,d,m){const y=h._storage||(h._storage=a());return h[d]=y[d]=m,delete h._keys,!0}})}function tl(n,t,e,i){const a={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:Qx(n,i),setContext:o=>tl(n,o,e,i),override:o=>tl(n.override(o),t,e,i)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return Xx(o,c,()=>Nk(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function Qx(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:a=t.allKeys}=n;return{allKeys:a,scriptable:e,indexable:i,isScriptable:Lr(e)?e:()=>e,isIndexable:Lr(i)?i:()=>i}}const Ok=(n,t)=>n?n+Cy(t):t,Py=(n,t)=>qt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Xx(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function Nk(n,t,e){const{_proxy:i,_context:a,_subProxy:o,_descriptors:c}=n;let h=i[t];return Lr(h)&&c.isScriptable(t)&&(h=kk(t,h,n,e)),Be(h)&&h.length&&(h=Vk(t,h,n,c.isIndexable)),Py(t,h)&&(h=tl(h,a,o&&o[t],c)),h}function kk(n,t,e,i){const{_proxy:a,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let d=t(o,c||i);return h.delete(n),Py(n,d)&&(d=Ly(a._scopes,a,n,d)),d}function Vk(n,t,e,i){const{_proxy:a,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(qt(t[0])){const d=t,m=a._scopes.filter(y=>y!==d);t=[];for(const y of d){const _=Ly(m,a,n,y);t.push(tl(_,o,c&&c[n],h))}}return t}function Wx(n,t,e){return Lr(n)?n(t,e):n}const Pk=(n,t)=>n===!0?t:typeof n=="string"?Na(t,n):void 0;function Lk(n,t,e,i,a){for(const o of t){const c=Pk(e,o);if(c){n.add(c);const h=Wx(c._fallback,e,a);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function Ly(n,t,e,i){const a=t._rootScopes,o=Wx(t._fallback,e,i),c=[...n,...a],h=new Set;h.add(i);let d=uT(h,c,e,o||e,i);return d===null||typeof o<"u"&&o!==e&&(d=uT(h,c,o,d,i),d===null)?!1:Vy(Array.from(h),[""],a,o,()=>zk(t,e,i))}function uT(n,t,e,i,a){for(;e;)e=Lk(n,t,e,i,a);return e}function zk(n,t,e){const i=n._getTarget();t in i||(i[t]={});const a=i[t];return Be(a)&&qt(e)?e:a||{}}function jk(n,t,e,i){let a;for(const o of t)if(a=$x(Ok(o,n),e),typeof a<"u")return Py(n,a)?Ly(e,i,n,a):a}function $x(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function hT(n){let t=n._keys;return t||(t=n._keys=Uk(n._scopes)),t}function Uk(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(a=>!a.startsWith("_")))t.add(i);return Array.from(t)}function zy(){return typeof window<"u"&&typeof document<"u"}function jy(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Kf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const md=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Bk(n,t){return md(n).getPropertyValue(t)}const Fk=["top","right","bottom","left"];function Ra(n,t,e){const i={};e=e?"-"+e:"";for(let a=0;a<4;a++){const o=Fk[a];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Hk=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function qk(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:a,offsetY:o}=i;let c=!1,h,d;if(Hk(a,o,n.target))h=a,d=o;else{const m=t.getBoundingClientRect();h=i.clientX-m.left,d=i.clientY-m.top,c=!0}return{x:h,y:d,box:c}}function ba(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,a=md(e),o=a.boxSizing==="border-box",c=Ra(a,"padding"),h=Ra(a,"border","width"),{x:d,y:m,box:y}=qk(n,e),_=c.left+(y&&h.left),E=c.top+(y&&h.top);let{width:S,height:M}=t;return o&&(S-=c.width+h.width,M-=c.height+h.height),{x:Math.round((d-_)/S*e.width/i),y:Math.round((m-E)/M*e.height/i)}}function Gk(n,t,e){let i,a;if(t===void 0||e===void 0){const o=n&&jy(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=md(o),d=Ra(h,"border","width"),m=Ra(h,"padding");t=c.width-m.width-d.width,e=c.height-m.height-d.height,i=Kf(h.maxWidth,o,"clientWidth"),a=Kf(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Hf,maxHeight:a||Hf}}const Er=n=>Math.round(n*10)/10;function Yk(n,t,e,i){const a=md(n),o=Ra(a,"margin"),c=Kf(a.maxWidth,n,"clientWidth")||Hf,h=Kf(a.maxHeight,n,"clientHeight")||Hf,d=Gk(n,t,e);let{width:m,height:y}=d;if(a.boxSizing==="content-box"){const E=Ra(a,"border","width"),S=Ra(a,"padding");m-=S.width+E.width,y-=S.height+E.height}return m=Math.max(0,m-o.width),y=Math.max(0,i?m/i:y-o.height),m=Er(Math.min(m,c,d.maxWidth)),y=Er(Math.min(y,h,d.maxHeight)),m&&!y&&(y=Er(m/2)),(t!==void 0||e!==void 0)&&i&&d.height&&y>d.height&&(y=d.height,m=Er(Math.floor(y*i))),{width:m,height:y}}function fT(n,t,e){const i=t||1,a=Er(n.height*i),o=Er(n.width*i);n.height=Er(n.height),n.width=Er(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==a||c.width!==o?(n.currentDevicePixelRatio=i,c.height=a,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Kk=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};zy()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function dT(n,t){const e=Bk(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const Qk=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},Xk=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Ho(n,t,e){return n?Qk(t,e):Xk()}function Jx(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function Zx(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function ef(n,t,e){return n.options.clip?n[e]:t[e]}function Wk(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:ef(e,t,"left"),right:ef(e,t,"right"),top:ef(i,t,"top"),bottom:ef(i,t,"bottom")}:t}function $k(n,t){const e=t._clip;if(e.disabled)return!1;const i=Wk(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class Jk{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,a){const o=e.listeners[a],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=Bx.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,a)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,d;for(;c>=0;--c)d=o[c],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(a.draw(),this._notify(a,i,t,"progress")),o.length||(i.running=!1,this._notify(a,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,a)=>Math.max(i,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let a=i.length-1;for(;a>=0;--a)i[a].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var As=new Jk;const gT="transparent",Zk={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=rT(n||gT),a=i.valid&&rT(t||gT);return a&&a.valid?a.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class tV{constructor(t,e,i,a){const o=e[i];a=tf([t.to,a,o,t.from]);const c=tf([t.from,o,a]);this._active=!0,this._fn=t.fn||Zk[t.type||typeof c],this._easing=zc[t.easing]||zc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const a=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=tf([t.to,e,a,t.from]),this._from=tf([t.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,a=this._prop,o=this._from,c=this._loop,h=this._to;let d;if(this._active=o!==h&&(c||e<i),!this._active){this._target[a]=h,this._notify(!0);return}if(e<0){this._target[a]=o;return}d=e/i%2,d=c&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[a]=this._fn(o,h,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let a=0;a<i.length;a++)i[a][e]()}}class t1{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!qt(t))return;const e=Object.keys(Ae.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const o=t[a];if(!qt(o))return;const c={};for(const h of e)c[h]=o[h];(Be(o.properties)&&o.properties||[a]).forEach(h=>{(h===a||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,a=nV(t,i);if(!a)return[];const o=this._createAnimations(a,i);return i.$shared&&eV(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,a=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let d;for(d=c.length-1;d>=0;--d){const m=c[d];if(m.charAt(0)==="$")continue;if(m==="options"){a.push(...this._animateOptions(t,e));continue}const y=e[m];let _=o[m];const E=i.get(m);if(_)if(E&&_.active()){_.update(E,y,h);continue}else _.cancel();if(!E||!E.duration){t[m]=y;continue}o[m]=_=new tV(E,t,m,y),a.push(_)}return a}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return As.add(this._chart,i),!0}}function eV(n,t){const e=[],i=Object.keys(t);for(let a=0;a<i.length;a++){const o=n[i[a]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function nV(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function mT(n,t){const e=n&&n.options||{},i=e.reverse,a=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:a,end:i?a:o}}function iV(n,t,e){if(e===!1)return!1;const i=mT(n,e),a=mT(t,e);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}function sV(n){let t,e,i,a;return qt(n)?(t=n.top,e=n.right,i=n.bottom,a=n.left):t=e=i=a=n,{top:t,right:e,bottom:i,left:a,disabled:n===!1}}function e1(n,t){const e=[],i=n._getSortedDatasetMetas(t);let a,o;for(a=0,o=i.length;a<o;++a)e.push(i[a].index);return e}function pT(n,t,e,i={}){const a=n.keys,o=i.mode==="single";let c,h,d,m;if(t===null)return;let y=!1;for(c=0,h=a.length;c<h;++c){if(d=+a[c],d===e){if(y=!0,i.all)continue;break}m=n.values[d],ii(m)&&(o||t===0||Dr(t)===Dr(m))&&(t+=m)}return!y&&!i.all?0:t}function rV(n,t){const{iScale:e,vScale:i}=t,a=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let d,m,y;for(d=0,m=c.length;d<m;++d)y=c[d],h[d]={[a]:y,[o]:n[y]};return h}function Fm(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function aV(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function oV(n){const{min:t,max:e,minDefined:i,maxDefined:a}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}function lV(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function yT(n,t,e,i){for(const a of t.getMatchingVisibleMetas(i).reverse()){const o=n[a.index];if(e&&o>0||!e&&o<0)return a.index}return null}function _T(n,t){const{chart:e,_cachedMeta:i}=n,a=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,d=o.axis,m=c.axis,y=aV(o,c,i),_=t.length;let E;for(let S=0;S<_;++S){const M=t[S],{[d]:V,[m]:k}=M,z=M._stacks||(M._stacks={});E=z[m]=lV(a,y,V),E[h]=k,E._top=yT(E,c,!0,i.type),E._bottom=yT(E,c,!1,i.type);const Y=E._visualValues||(E._visualValues={});Y[h]=k}}function Hm(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function cV(n,t){return cl(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function uV(n,t,e){return cl(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function vc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const a of t){const o=a._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const qm=n=>n==="reset"||n==="none",vT=(n,t)=>t?n:Object.assign({},n),hV=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:e1(e,!0),values:null};class Uy{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Fm(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&vc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),a=(_,E,S,M)=>_==="x"?E:_==="r"?M:S,o=e.xAxisID=Ht(i.xAxisID,Hm(t,"x")),c=e.yAxisID=Ht(i.yAxisID,Hm(t,"y")),h=e.rAxisID=Ht(i.rAxisID,Hm(t,"r")),d=e.indexAxis,m=e.iAxisID=a(d,o,c,h),y=e.vAxisID=a(d,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(m),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&nT(this._data,this),t._stacked&&vc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(qt(e)){const a=this._cachedMeta;this._data=rV(e,a)}else if(i!==e){if(i){nT(i,this);const a=this._cachedMeta;vc(a),a._parsed=[]}e&&Object.isExtensible(e)&&hk(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let a=!1;this._dataCheck();const o=e._stacked;e._stacked=Fm(e.vScale,e),e.stack!==i.stack&&(a=!0,vc(e),e.stack=i.stack),this._resyncElements(t),(a||o!==e._stacked)&&(_T(this,e._parsed),e._stacked=Fm(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:a}=this,{iScale:o,_stacked:c}=i,h=o.axis;let d=t===0&&e===a.length?!0:i._sorted,m=t>0&&i._parsed[t-1],y,_,E;if(this._parsing===!1)i._parsed=a,i._sorted=!0,E=a;else{Be(a[t])?E=this.parseArrayData(i,a,t,e):qt(a[t])?E=this.parseObjectData(i,a,t,e):E=this.parsePrimitiveData(i,a,t,e);const S=()=>_[h]===null||m&&_[h]<m[h];for(y=0;y<e;++y)i._parsed[y+t]=_=E[y],d&&(S()&&(d=!1),m=_);i._sorted=d}c&&_T(this,E)}parsePrimitiveData(t,e,i,a){const{iScale:o,vScale:c}=t,h=o.axis,d=c.axis,m=o.getLabels(),y=o===c,_=new Array(a);let E,S,M;for(E=0,S=a;E<S;++E)M=E+i,_[E]={[h]:y||o.parse(m[M],M),[d]:c.parse(e[M],M)};return _}parseArrayData(t,e,i,a){const{xScale:o,yScale:c}=t,h=new Array(a);let d,m,y,_;for(d=0,m=a;d<m;++d)y=d+i,_=e[y],h[d]={x:o.parse(_[0],y),y:c.parse(_[1],y)};return h}parseObjectData(t,e,i,a){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,m=new Array(a);let y,_,E,S;for(y=0,_=a;y<_;++y)E=y+i,S=e[E],m[y]={x:o.parse(Na(S,h),E),y:c.parse(Na(S,d),E)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const a=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:e1(a,!0),values:e._stacks[t.axis]._visualValues};return pT(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,a){const o=i[e.axis];let c=o===null?NaN:o;const h=a&&i._stacks[e.axis];a&&h&&(a.values=h,c=pT(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,a=i._parsed,o=i._sorted&&t===i.iScale,c=a.length,h=this._getOtherScale(t),d=hV(e,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:_}=oV(h);let E,S;function M(){S=a[E];const V=S[h.axis];return!ii(S[t.axis])||y>V||_<V}for(E=0;E<c&&!(!M()&&(this.updateRangeFromParsed(m,t,S,d),o));++E);if(o){for(E=c-1;E>=0;--E)if(!M()){this.updateRangeFromParsed(m,t,S,d);break}}return m}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let a,o,c;for(a=0,o=e.length;a<o;++a)c=e[a][t.axis],ii(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,a=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=sV(Ht(this.options.clip,iV(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,a=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,d=this._drawCount||a.length-h,m=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,h,d),y=h;y<h+d;++y){const _=a[y];_.hidden||(_.active&&m?c.push(_):_.draw(t,o))}for(y=0;y<c.length;++y)c[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const a=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=uV(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=cV(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const a=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],d=this.enableOptionSharing&&$c(i);if(h)return vT(h,d);const m=this.chart.config,y=m.datasetElementScopeKeys(this._type,t),_=a?[`${t}Hover`,"hover",t,""]:[t,""],E=m.getOptionScopes(this.getDataset(),y),S=Object.keys(Ae.elements[t]),M=()=>this.getContext(i,a,e),V=m.resolveNamedOptions(E,S,M,_);return V.$shared&&(V.$shared=d,o[c]=Object.freeze(vT(V,d))),V}_resolveAnimations(t,e,i){const a=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let d;if(a.options.animation!==!1){const y=this.chart.config,_=y.datasetAnimationScopeKeys(this._type,e),E=y.getOptionScopes(this.getDataset(),_);d=y.createResolver(E,this.getContext(t,i,e))}const m=new t1(a,d&&d.animations);return d&&d._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||qm(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),a=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==a;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,a){qm(a)?Object.assign(t,i):this._resolveAnimations(e,a).update(t,i)}updateSharedOptions(t,e,i){t&&!qm(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,a){t.active=a;const o=this.getStyle(e,a);this._resolveAnimations(e,i,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,d,m]of this._syncList)this[h](d,m);this._syncList=[];const a=i.length,o=e.length,c=Math.min(o,a);c&&this.parse(0,c),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,e,i=!0){const a=this._cachedMeta,o=a.data,c=t+e;let h;const d=m=>{for(m.length+=e,h=m.length-1;h>=c;h--)m[h]=m[h-e]};for(d(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&d(a._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,a){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const a=i._parsed.splice(t,e);i._stacked&&vc(i,a)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,a]=t;this[e](i,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function fV(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let a=0,o=e.length;a<o;a++)i=i.concat(e[a].controller.getAllParsedValues(n));n._cache.$bar=Ux(i.sort((a,o)=>a-o))}return n._cache.$bar}function dV(n){const t=n.iScale,e=fV(t,n.type);let i=t._length,a,o,c,h;const d=()=>{c===32767||c===-32768||($c(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(a=0,o=e.length;a<o;++a)c=t.getPixelForValue(e[a]),d();for(h=void 0,a=0,o=t.ticks.length;a<o;++a)c=t.getPixelForTick(a),d();return i}function gV(n,t,e,i){const a=e.barThickness;let o,c;return ae(a)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=a*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function mV(n,t,e,i){const a=t.pixels,o=a[n];let c=n>0?a[n-1]:null,h=n<a.length-1?a[n+1]:null;const d=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const m=o-(o-Math.min(c,h))/2*d;return{chunk:Math.abs(h-c)/2*d/i,ratio:e.barPercentage,start:m}}function pV(n,t,e,i){const a=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(a,o),h=Math.max(a,o);let d=c,m=h;Math.abs(c)>Math.abs(h)&&(d=h,m=c),t[e.axis]=m,t._custom={barStart:d,barEnd:m,start:a,end:o,min:c,max:h}}function n1(n,t,e,i){return Be(n)?pV(n,t,e,i):t[e.axis]=e.parse(n,i),t}function bT(n,t,e,i){const a=n.iScale,o=n.vScale,c=a.getLabels(),h=a===o,d=[];let m,y,_,E;for(m=e,y=e+i;m<y;++m)E=t[m],_={},_[a.axis]=h||a.parse(c[m],m),d.push(n1(E,_,o,m));return d}function Gm(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function yV(n,t,e){return n!==0?Dr(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function _V(n){let t,e,i,a,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(a="end",o="start"):(a="start",o="end"),{start:e,end:i,reverse:t,top:a,bottom:o}}function vV(n,t,e,i){let a=t.borderSkipped;const o={};if(!a){n.borderSkipped=o;return}if(a===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:d,top:m,bottom:y}=_V(n);a==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?a=m:(e._bottom||0)===i?a=y:(o[ET(y,c,h,d)]=!0,a=m)),o[ET(a,c,h,d)]=!0,n.borderSkipped=o}function ET(n,t,e,i){return i?(n=bV(n,t,e),n=TT(n,e,t)):n=TT(n,t,e),n}function bV(n,t,e){return n===t?e:n===e?t:n}function TT(n,t,e){return n==="start"?t:n==="end"?e:n}function EV(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class TV extends Uy{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,a){return bT(t,e,i,a)}parseArrayData(t,e,i,a){return bT(t,e,i,a)}parseObjectData(t,e,i,a){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,m=o.axis==="x"?h:d,y=c.axis==="x"?h:d,_=[];let E,S,M,V;for(E=i,S=i+a;E<S;++E)V=e[E],M={},M[o.axis]=o.parse(Na(V,m),E),_.push(n1(Na(V,y),M,c,E));return _}updateRangeFromParsed(t,e,i,a){super.updateRangeFromParsed(t,e,i,a);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:a}=e,o=this.getParsed(t),c=o._custom,h=Gm(c)?"["+c.start+", "+c.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,a){const o=a==="reset",{index:c,_cachedMeta:{vScale:h}}=this,d=h.getBasePixel(),m=h.isHorizontal(),y=this._getRuler(),{sharedOptions:_,includeOptions:E}=this._getSharedOptions(e,a);for(let S=e;S<e+i;S++){const M=this.getParsed(S),V=o||ae(M[h.axis])?{base:d,head:d}:this._calculateBarValuePixels(S),k=this._calculateBarIndexPixels(S,y),z=(M._stacks||{})[h.axis],Y={horizontal:m,base:V.base,enableBorderRadius:!z||Gm(M._custom)||c===z._top||c===z._bottom,x:m?V.head:k.center,y:m?k.center:V.head,height:m?k.size:Math.abs(V.size),width:m?Math.abs(V.size):k.size};E&&(Y.options=_||this.resolveDataElementOptions(S,t[S].active?"active":a));const $=Y.options||t[S].options;vV(Y,$,z,c),EV(Y,$,y.ratio),this.updateElement(t[S],S,Y,a)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,a=i.getMatchingVisibleMetas(this._type).filter(y=>y.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),d=h&&h[i.axis],m=y=>{const _=y._parsed.find(S=>S[i.axis]===d),E=_&&_[y.vScale.axis];if(ae(E)||isNaN(E))return!0};for(const y of a)if(!(e!==void 0&&m(y))&&((o===!1||c.indexOf(y.stack)===-1||o===void 0&&y.stack===void 0)&&c.push(y.stack),y.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Ht(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const a=this._getStacks(t,i),o=e!==void 0?a.indexOf(e):-1;return o===-1?a.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,a=[];let o,c;for(o=0,c=e.data.length;o<c;++o)a.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||dV(e),pixels:a,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:a},options:{base:o,minBarLength:c}}=this,h=o||0,d=this.getParsed(t),m=d._custom,y=Gm(m);let _=d[e.axis],E=0,S=i?this.applyStack(e,d,i):_,M,V;S!==_&&(E=S-_,S=_),y&&(_=m.barStart,S=m.barEnd-m.barStart,_!==0&&Dr(_)!==Dr(m.barEnd)&&(E=0),E+=_);const k=!ae(o)&&!y?o:E;let z=e.getPixelForValue(k);if(this.chart.getDataVisibility(t)?M=e.getPixelForValue(E+S):M=z,V=M-z,Math.abs(V)<c){V=yV(V,e,h)*c,_===h&&(z-=V/2);const Y=e.getPixelForDecimal(0),$=e.getPixelForDecimal(1),at=Math.min(Y,$),it=Math.max(Y,$);z=Math.max(Math.min(z,it),at),M=z+V,i&&!y&&(d._stacks[e.axis]._visualValues[a]=e.getValueForPixel(M)-e.getValueForPixel(z))}if(z===e.getPixelForValue(h)){const Y=Dr(V)*e.getLineWidthForValue(h)/2;z+=Y,V-=Y}return{size:V,base:z,head:M,center:M+V/2}}_calculateBarIndexPixels(t,e){const i=e.scale,a=this.options,o=a.skipNull,c=Ht(a.maxBarThickness,1/0);let h,d;const m=this._getAxisCount();if(e.grouped){const y=o?this._getStackCount(t):e.stackCount,_=a.barThickness==="flex"?mV(t,e,a,y*m):gV(t,e,a,y*m),E=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,S=this._getAxis().indexOf(Ht(E,this.getFirstScaleIdForIndexAxis())),M=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+S;h=_.start+_.chunk*M+_.chunk/2,d=Math.min(c,_.chunk*_.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),d=Math.min(c,e.min*e.ratio);return{base:h-d/2,head:h+d/2,center:h,size:d}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,a=i.length;let o=0;for(;o<a;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function SV(n,t,e){let i=1,a=1,o=0,c=0;if(t<ze){const h=n,d=h+t,m=Math.cos(h),y=Math.sin(h),_=Math.cos(d),E=Math.sin(d),S=($,at,it)=>Gf($,h,d,!0)?1:Math.max(at,at*e,it,it*e),M=($,at,it)=>Gf($,h,d,!0)?-1:Math.min(at,at*e,it,it*e),V=S(0,m,_),k=S(Fe,y,E),z=M(re,m,_),Y=M(re+Fe,y,E);i=(V-z)/2,a=(k-Y)/2,o=-(V+z)/2,c=-(k+Y)/2}return{ratioX:i,ratioY:a,offsetX:o,offsetY:c}}class AV extends Uy{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data,{labels:{pointStyle:i,textAlign:a,color:o,useBorderRadius:c,borderRadius:h}}=t.legend.options;return e.labels.length&&e.datasets.length?e.labels.map((d,m)=>{const _=t.getDatasetMeta(0).controller.getStyle(m);return{text:d,fillStyle:_.backgroundColor,fontColor:o,hidden:!t.getDataVisibility(m),lineDash:_.borderDash,lineDashOffset:_.borderDashOffset,lineJoin:_.borderJoinStyle,lineWidth:_.borderWidth,strokeStyle:_.borderColor,textAlign:a,pointStyle:i,borderRadius:c&&(h||_.borderRadius),index:m}}):[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=i;else{let o=d=>+i[d];if(qt(i[t])){const{key:d="value"}=this._parsing;o=m=>+Na(i[m],d)}let c,h;for(c=t,h=t+e;c<h;++c)a._parsed[c]=o(c)}}_getRotation(){return Ds(this.options.rotation-90)}_getCircumference(){return Ds(this.options.circumference)}_getRotationExtents(){let t=ze,e=-ze;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const a=this.chart.getDatasetMeta(i).controller,o=a._getRotation(),c=a._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,a=this._cachedMeta,o=a.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),d=Math.min(XN(this.options.cutout,h),1),m=this._getRingWeight(this.index),{circumference:y,rotation:_}=this._getRotationExtents(),{ratioX:E,ratioY:S,offsetX:M,offsetY:V}=SV(_,y,d),k=(i.width-c)/E,z=(i.height-c)/S,Y=Math.max(Math.min(k,z)/2,0),$=Vx(this.options.radius,Y),at=Math.max($*d,0),it=($-at)/this._getVisibleDatasetWeightTotal();this.offsetX=M*$,this.offsetY=V*$,a.total=this.calculateTotal(),this.outerRadius=$-it*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-it*m,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,a=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*o/ze)}updateElements(t,e,i,a){const o=a==="reset",c=this.chart,h=c.chartArea,m=c.options.animation,y=(h.left+h.right)/2,_=(h.top+h.bottom)/2,E=o&&m.animateScale,S=E?0:this.innerRadius,M=E?0:this.outerRadius,{sharedOptions:V,includeOptions:k}=this._getSharedOptions(e,a);let z=this._getRotation(),Y;for(Y=0;Y<e;++Y)z+=this._circumference(Y,o);for(Y=e;Y<e+i;++Y){const $=this._circumference(Y,o),at=t[Y],it={x:y+this.offsetX,y:_+this.offsetY,startAngle:z,endAngle:z+$,circumference:$,outerRadius:M,innerRadius:S};k&&(it.options=V||this.resolveDataElementOptions(Y,at.active?"active":a)),z+=$,this.updateElement(at,Y,it,a)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,a;for(a=0;a<e.length;a++){const o=t._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!e[a].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ze*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,a=i.data.labels||[],o=My(e._parsed[t],i.options.locale);return{label:a[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let a,o,c,h,d;if(!t){for(a=0,o=i.data.datasets.length;a<o;++a)if(i.isDatasetVisible(a)){c=i.getDatasetMeta(a),t=c.data,h=c.controller;break}}if(!t)return 0;for(a=0,o=t.length;a<o;++a)d=h.resolveDataElementOptions(a),d.borderAlign!=="inner"&&(e=Math.max(e,d.borderWidth||0,d.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,a=t.length;i<a;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Ht(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}function _a(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class By{static override(t){Object.assign(By.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return _a()}parse(){return _a()}format(){return _a()}add(){return _a()}diff(){return _a()}startOf(){return _a()}endOf(){return _a()}}var xV={_date:By};function wV(n,t,e,i){const{controller:a,data:o,_sorted:c}=n,h=a._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const m=h._reversePixels?ck:xp;if(i){if(a._sharedOptions){const y=o[0],_=typeof y.getRange=="function"&&y.getRange(t);if(_){const E=m(o,t,e-_),S=m(o,t,e+_);return{lo:E.lo,hi:S.hi}}}}else{const y=m(o,t,e);if(d){const{vScale:_}=a._cachedMeta,{_parsed:E}=n,S=E.slice(0,y.lo+1).reverse().findIndex(V=>!ae(V[_.axis]));y.lo-=Math.max(0,S);const M=E.slice(y.hi).findIndex(V=>!ae(V[_.axis]));y.hi+=Math.max(0,M)}return y}}return{lo:0,hi:o.length-1}}function pd(n,t,e,i,a){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,d=o.length;h<d;++h){const{index:m,data:y}=o[h],{lo:_,hi:E}=wV(o[h],t,c,a);for(let S=_;S<=E;++S){const M=y[S];M.skip||i(M,m,S)}}}function RV(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,a){const o=t?Math.abs(i.x-a.x):0,c=e?Math.abs(i.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Ym(n,t,e,i,a){const o=[];return!a&&!n.isPointInArea(t)||pd(n,e,t,function(h,d,m){!a&&!Yx(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:d,index:m})},!0),o}function CV(n,t,e,i){let a=[];function o(c,h,d){const{startAngle:m,endAngle:y}=c.getProps(["startAngle","endAngle"],i),{angle:_}=zx(c,{x:t.x,y:t.y});Gf(_,m,y)&&a.push({element:c,datasetIndex:h,index:d})}return pd(n,e,t,o),a}function IV(n,t,e,i,a,o){let c=[];const h=RV(e);let d=Number.POSITIVE_INFINITY;function m(y,_,E){const S=y.inRange(t.x,t.y,a);if(i&&!S)return;const M=y.getCenterPoint(a);if(!(!!o||n.isPointInArea(M))&&!S)return;const k=h(t,M);k<d?(c=[{element:y,datasetIndex:_,index:E}],d=k):k===d&&c.push({element:y,datasetIndex:_,index:E})}return pd(n,e,t,m),c}function Km(n,t,e,i,a,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?CV(n,t,e,a):IV(n,t,e,i,a,o)}function ST(n,t,e,i,a){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return pd(n,e,t,(d,m,y)=>{d[c]&&d[c](t[e],a)&&(o.push({element:d,datasetIndex:m,index:y}),h=h||d.inRange(t.x,t.y,a))}),i&&!h?[]:o}var DV={modes:{index(n,t,e,i){const a=ba(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?Ym(n,a,o,i,c):Km(n,a,o,!1,i,c),d=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const y=h[0].index,_=m.data[y];_&&!_.skip&&d.push({element:_,datasetIndex:m.index,index:y})}),d):[]},dataset(n,t,e,i){const a=ba(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?Ym(n,a,o,i,c):Km(n,a,o,!1,i,c);if(h.length>0){const d=h[0].datasetIndex,m=n.getDatasetMeta(d).data;h=[];for(let y=0;y<m.length;++y)h.push({element:m[y],datasetIndex:d,index:y})}return h},point(n,t,e,i){const a=ba(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Ym(n,a,o,i,c)},nearest(n,t,e,i){const a=ba(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Km(n,a,o,e.intersect,i,c)},x(n,t,e,i){const a=ba(t,n);return ST(n,a,"x",e.intersect,i)},y(n,t,e,i){const a=ba(t,n);return ST(n,a,"y",e.intersect,i)}}};const i1=["left","top","right","bottom"];function bc(n,t){return n.filter(e=>e.pos===t)}function AT(n,t){return n.filter(e=>i1.indexOf(e.pos)===-1&&e.box.axis===t)}function Ec(n,t){return n.sort((e,i)=>{const a=t?i:e,o=t?e:i;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function MV(n){const t=[];let e,i,a,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)a=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=a,t.push({index:e,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&o+c,stackWeight:h});return t}function OV(n){const t={};for(const e of n){const{stack:i,pos:a,stackWeight:o}=e;if(!i||!i1.includes(a))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function NV(n,t){const e=OV(n),{vBoxMaxWidth:i,hBoxMaxHeight:a}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:d}=h.box,m=e[h.stack],y=m&&h.stackWeight/m.weight;h.horizontal?(h.width=y?y*i:d&&t.availableWidth,h.height=a):(h.width=i,h.height=y?y*a:d&&t.availableHeight)}return e}function kV(n){const t=MV(n),e=Ec(t.filter(m=>m.box.fullSize),!0),i=Ec(bc(t,"left"),!0),a=Ec(bc(t,"right")),o=Ec(bc(t,"top"),!0),c=Ec(bc(t,"bottom")),h=AT(t,"x"),d=AT(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:a.concat(d).concat(c).concat(h),chartArea:bc(t,"chartArea"),vertical:i.concat(a).concat(d),horizontal:o.concat(c).concat(h)}}function xT(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function s1(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function VV(n,t,e,i){const{pos:a,box:o}=e,c=n.maxPadding;if(!qt(a)){e.size&&(n[a]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[a]+=e.size}o.getPadding&&s1(c,o.getPadding());const h=Math.max(0,t.outerWidth-xT(c,n,"left","right")),d=Math.max(0,t.outerHeight-xT(c,n,"top","bottom")),m=h!==n.w,y=d!==n.h;return n.w=h,n.h=d,e.horizontal?{same:m,other:y}:{same:y,other:m}}function PV(n){const t=n.maxPadding;function e(i){const a=Math.max(t[i]-n[i],0);return n[i]+=a,a}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function LV(n,t){const e=t.maxPadding;function i(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function Ic(n,t,e,i){const a=[];let o,c,h,d,m,y;for(o=0,c=n.length,m=0;o<c;++o){h=n[o],d=h.box,d.update(h.width||t.w,h.height||t.h,LV(h.horizontal,t));const{same:_,other:E}=VV(t,e,h,i);m|=_&&a.length,y=y||E,d.fullSize||a.push(h)}return m&&Ic(a,t,e,i)||y}function nf(n,t,e,i,a){n.top=e,n.left=t,n.right=t+i,n.bottom=e+a,n.width=i,n.height=a}function wT(n,t,e,i){const a=e.padding;let{x:o,y:c}=t;for(const h of n){const d=h.box,m=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/m.weight||1;if(h.horizontal){const _=t.w*y,E=m.size||d.height;$c(m.start)&&(c=m.start),d.fullSize?nf(d,a.left,c,e.outerWidth-a.right-a.left,E):nf(d,t.left+m.placed,c,_,E),m.start=c,m.placed+=_,c=d.bottom}else{const _=t.h*y,E=m.size||d.width;$c(m.start)&&(o=m.start),d.fullSize?nf(d,o,a.top,E,e.outerHeight-a.bottom-a.top):nf(d,o,t.top+m.placed,E,_),m.start=o,m.placed+=_,o=d.right}}t.x=o,t.y=c}var ni={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const a=si(n.options.layout.padding),o=Math.max(t-a.width,0),c=Math.max(e-a.height,0),h=kV(n.boxes),d=h.vertical,m=h.horizontal;Zt(n.boxes,V=>{typeof V.beforeLayout=="function"&&V.beforeLayout()});const y=d.reduce((V,k)=>k.box.options&&k.box.options.display===!1?V:V+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:a,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/y,hBoxMaxHeight:c/2}),E=Object.assign({},a);s1(E,si(i));const S=Object.assign({maxPadding:E,w:o,h:c,x:a.left,y:a.top},a),M=NV(d.concat(m),_);Ic(h.fullSize,S,_,M),Ic(d,S,_,M),Ic(m,S,_,M)&&Ic(d,S,_,M),PV(S),wT(h.leftAndTop,S,_,M),S.x+=S.w,S.y+=S.h,wT(h.rightAndBottom,S,_,M),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},Zt(h.chartArea,V=>{const k=V.box;Object.assign(k,n.chartArea),k.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class r1{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,a){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,a?Math.floor(e/a):i)}}isAttached(t){return!0}updateConfig(t){}}class zV extends r1{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const bf="$chartjs",jV={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},RT=n=>n===null||n==="";function UV(n,t){const e=n.style,i=n.getAttribute("height"),a=n.getAttribute("width");if(n[bf]={initial:{height:i,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",RT(a)){const o=dT(n,"width");o!==void 0&&(n.width=o)}if(RT(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=dT(n,"height");o!==void 0&&(n.height=o)}return n}const a1=Kk?{passive:!0}:!1;function BV(n,t,e){n&&n.addEventListener(t,e,a1)}function FV(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,a1)}function HV(n,t){const e=jV[n.type]||n.type,{x:i,y:a}=ba(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:a!==void 0?a:null}}function Qf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function qV(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Qf(h.addedNodes,i),c=c&&!Qf(h.removedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function GV(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Qf(h.removedNodes,i),c=c&&!Qf(h.addedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}const Zc=new Map;let CT=0;function o1(){const n=window.devicePixelRatio;n!==CT&&(CT=n,Zc.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function YV(n,t){Zc.size||window.addEventListener("resize",o1),Zc.set(n,t)}function KV(n){Zc.delete(n),Zc.size||window.removeEventListener("resize",o1)}function QV(n,t,e){const i=n.canvas,a=i&&jy(i);if(!a)return;const o=Fx((h,d)=>{const m=a.clientWidth;e(h,d),m<a.clientWidth&&e()},window),c=new ResizeObserver(h=>{const d=h[0],m=d.contentRect.width,y=d.contentRect.height;m===0&&y===0||o(m,y)});return c.observe(a),YV(n,o),c}function Qm(n,t,e){e&&e.disconnect(),t==="resize"&&KV(n)}function XV(n,t,e){const i=n.canvas,a=Fx(o=>{n.ctx!==null&&e(HV(o,n))},n);return BV(i,t,a),a}class WV extends r1{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(UV(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[bf])return!1;const i=e[bf].initial;["height","width"].forEach(o=>{const c=i[o];ae(c)?e.removeAttribute(o):e.setAttribute(o,c)});const a=i.style||{};return Object.keys(a).forEach(o=>{e.style[o]=a[o]}),e.width=e.width,delete e[bf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const a=t.$proxies||(t.$proxies={}),c={attach:qV,detach:GV,resize:QV}[e]||XV;a[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),a=i[e];if(!a)return;({attach:Qm,detach:Qm,resize:Qm}[e]||FV)(t,e,a),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,a){return Yk(t,e,i,a)}isAttached(t){const e=t&&jy(t);return!!(e&&e.isConnected)}}function $V(n){return!zy()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?zV:WV}class za{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return qf(this.x)&&qf(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const a={};return t.forEach(o=>{a[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),a}}function JV(n,t){const e=n.options.ticks,i=ZV(n),a=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?e4(t):[],c=o.length,h=o[0],d=o[c-1],m=[];if(c>a)return n4(t,m,o,c/a),m;const y=t4(o,t,a);if(c>0){let _,E;const S=c>1?Math.round((d-h)/(c-1)):null;for(sf(t,m,y,ae(S)?0:h-S,h),_=0,E=c-1;_<E;_++)sf(t,m,y,o[_],o[_+1]);return sf(t,m,y,d,ae(S)?t.length:d+S),m}return sf(t,m,y),m}function ZV(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),a=n._maxLength/e;return Math.floor(Math.min(i,a))}function t4(n,t,e){const i=i4(n),a=t.length/e;if(!i)return Math.max(a,1);const o=nk(i);for(let c=0,h=o.length-1;c<h;c++){const d=o[c];if(d>a)return d}return Math.max(a,1)}function e4(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function n4(n,t,e,i){let a=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),a++,o=e[a*i])}function sf(n,t,e,i,a){const o=Ht(i,0),c=Math.min(Ht(a,n.length),n.length);let h=0,d,m,y;for(e=Math.ceil(e),a&&(d=a-i,e=d/Math.floor(d/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(m=Math.max(o,0);m<c;m++)m===y&&(t.push(n[m]),h++,y=Math.round(o+h*e))}function i4(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const s4=n=>n==="left"?"right":n==="right"?"left":n,IT=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,DT=(n,t)=>Math.min(t||n,n);function MT(n,t){const e=[],i=n.length/t,a=n.length;let o=0;for(;o<a;o+=i)e.push(n[Math.floor(o)]);return e}function r4(n,t,e){const i=n.ticks.length,a=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let d=n.getPixelForTick(a),m;if(!(e&&(i===1?m=Math.max(d-o,c-d):t===0?m=(n.getPixelForTick(1)-d)/2:m=(d-n.getPixelForTick(a-1))/2,d+=a<t?m:-m,d<o-h||d>c+h)))return d}function a4(n,t){Zt(n,e=>{const i=e.gc,a=i.length/2;let o;if(a>t){for(o=0;o<a;++o)delete e.data[i[o]];i.splice(0,a)}})}function Tc(n){return n.drawTicks?n.tickLength:0}function OT(n,t){if(!n.display)return 0;const e=hn(n.font,t),i=si(n.padding);return(Be(n.text)?n.text.length:1)*e.lineHeight+i.height}function o4(n,t){return cl(n,{scale:t,type:"scale"})}function l4(n,t,e){return cl(n,{tick:e,index:t,type:"tick"})}function c4(n,t,e){let i=Dy(n);return(e&&t!=="right"||!e&&t==="right")&&(i=s4(i)),i}function u4(n,t,e,i){const{top:a,left:o,bottom:c,right:h,chart:d}=n,{chartArea:m,scales:y}=d;let _=0,E,S,M;const V=c-a,k=h-o;if(n.isHorizontal()){if(S=ln(i,o,h),qt(e)){const z=Object.keys(e)[0],Y=e[z];M=y[z].getPixelForValue(Y)+V-t}else e==="center"?M=(m.bottom+m.top)/2+V-t:M=IT(n,e,t);E=h-o}else{if(qt(e)){const z=Object.keys(e)[0],Y=e[z];S=y[z].getPixelForValue(Y)-k+t}else e==="center"?S=(m.left+m.right)/2-k+t:S=IT(n,e,t);M=ln(i,c,a),_=e==="left"?-Fe:Fe}return{titleX:S,titleY:M,maxWidth:E,rotation:_}}class ul extends za{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:a}=this;return t=Gi(t,Number.POSITIVE_INFINITY),e=Gi(e,Number.NEGATIVE_INFINITY),i=Gi(i,Number.POSITIVE_INFINITY),a=Gi(a,Number.NEGATIVE_INFINITY),{min:Gi(t,i),max:Gi(e,a),minDefined:ii(t),maxDefined:ii(e)}}getMinMax(t){let{min:e,max:i,minDefined:a,maxDefined:o}=this.getUserBounds(),c;if(a&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let d=0,m=h.length;d<m;++d)c=h[d].controller.getMinMax(this,t),a||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=a&&e>i?e:i,{min:Gi(e,Gi(i,e)),max:Gi(i,Gi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){he(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:a,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Mk(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?MT(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=JV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){he(this.options.afterUpdate,[this])}beforeSetDimensions(){he(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){he(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),he(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){he(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,a,o;for(i=0,a=t.length;i<a;i++)o=t[i],o.label=he(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){he(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){he(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=DT(this.ticks.length,t.ticks.maxTicksLimit),a=e.minRotation||0,o=e.maxRotation;let c=a,h,d,m;if(!this._isVisible()||!e.display||a>=o||i<=1||!this.isHorizontal()){this.labelRotation=a;return}const y=this._getLabelSizes(),_=y.widest.width,E=y.highest.height,S=Rn(this.chart.width-_,0,this.maxWidth);h=t.offset?this.maxWidth/i:S/(i-1),_+6>h&&(h=S/(i-(t.offset?.5:1)),d=this.maxHeight-Tc(t.grid)-e.padding-OT(t.title,this.chart.options.font),m=Math.sqrt(_*_+E*E),c=ak(Math.min(Math.asin(Rn((y.highest.height+6)/h,-1,1)),Math.asin(Rn(d/m,-1,1))-Math.asin(Rn(E/m,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){he(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){he(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:a,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const d=OT(a,e.options.font);if(h?(t.width=this.maxWidth,t.height=Tc(o)+d):(t.height=this.maxHeight,t.width=Tc(o)+d),i.display&&this.ticks.length){const{first:m,last:y,widest:_,highest:E}=this._getLabelSizes(),S=i.padding*2,M=Ds(this.labelRotation),V=Math.cos(M),k=Math.sin(M);if(h){const z=i.mirror?0:k*_.width+V*E.height;t.height=Math.min(this.maxHeight,t.height+z+S)}else{const z=i.mirror?0:V*_.width+k*E.height;t.width=Math.min(this.maxWidth,t.width+z+S)}this._calculatePadding(m,y,k,V)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,a){const{ticks:{align:o,padding:c},position:h}=this.options,d=this.labelRotation!==0,m=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let E=0,S=0;d?m?(E=a*t.width,S=i*e.height):(E=i*t.height,S=a*e.width):o==="start"?S=e.width:o==="end"?E=t.width:o!=="inner"&&(E=t.width/2,S=e.width/2),this.paddingLeft=Math.max((E-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((S-_+c)*this.width/(this.width-_),0)}else{let y=e.height/2,_=t.height/2;o==="start"?(y=0,_=t.height):o==="end"&&(y=e.height,_=0),this.paddingTop=y+c,this.paddingBottom=_+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){he(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)ae(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=MT(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:a,_longestTextCache:o}=this,c=[],h=[],d=Math.floor(e/DT(e,i));let m=0,y=0,_,E,S,M,V,k,z,Y,$,at,it;for(_=0;_<e;_+=d){if(M=t[_].label,V=this._resolveTickFontOptions(_),a.font=k=V.string,z=o[k]=o[k]||{data:{},gc:[]},Y=V.lineHeight,$=at=0,!ae(M)&&!Be(M))$=oT(a,z.data,z.gc,$,M),at=Y;else if(Be(M))for(E=0,S=M.length;E<S;++E)it=M[E],!ae(it)&&!Be(it)&&($=oT(a,z.data,z.gc,$,it),at+=Y);c.push($),h.push(at),m=Math.max($,m),y=Math.max(at,y)}a4(o,e);const Q=c.indexOf(m),D=h.indexOf(y),R=x=>({width:c[x]||0,height:h[x]||0});return{first:R(0),last:R(e-1),widest:R(Q),highest:R(D),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return lk(this._alignToPixels?ya(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=l4(this.getContext(),t,i))}return this.$context||(this.$context=o4(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ds(this.labelRotation),i=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,d=o?o.highest.height+c:0;return this.isHorizontal()?d*i>h*a?h/i:d/a:d*a<h*i?d/i:h/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,a=this.options,{grid:o,position:c,border:h}=a,d=o.offset,m=this.isHorizontal(),_=this.ticks.length+(d?1:0),E=Tc(o),S=[],M=h.setContext(this.getContext()),V=M.display?M.width:0,k=V/2,z=function(H){return ya(i,H,V)};let Y,$,at,it,Q,D,R,x,O,N,P,C;if(c==="top")Y=z(this.bottom),D=this.bottom-E,x=Y-k,N=z(t.top)+k,C=t.bottom;else if(c==="bottom")Y=z(this.top),N=t.top,C=z(t.bottom)-k,D=Y+k,x=this.top+E;else if(c==="left")Y=z(this.right),Q=this.right-E,R=Y-k,O=z(t.left)+k,P=t.right;else if(c==="right")Y=z(this.left),O=t.left,P=z(t.right)-k,Q=Y+k,R=this.left+E;else if(e==="x"){if(c==="center")Y=z((t.top+t.bottom)/2+.5);else if(qt(c)){const H=Object.keys(c)[0],st=c[H];Y=z(this.chart.scales[H].getPixelForValue(st))}N=t.top,C=t.bottom,D=Y+k,x=D+E}else if(e==="y"){if(c==="center")Y=z((t.left+t.right)/2);else if(qt(c)){const H=Object.keys(c)[0],st=c[H];Y=z(this.chart.scales[H].getPixelForValue(st))}Q=Y-k,R=Q-E,O=t.left,P=t.right}const ft=Ht(a.ticks.maxTicksLimit,_),gt=Math.max(1,Math.ceil(_/ft));for($=0;$<_;$+=gt){const H=this.getContext($),st=o.setContext(H),ut=h.setContext(H),_t=st.lineWidth,Tt=st.color,j=ut.dash||[],J=ut.dashOffset,ot=st.tickWidth,ct=st.tickColor,vt=st.tickBorderDash||[],St=st.tickBorderDashOffset;at=r4(this,$,d),at!==void 0&&(it=ya(i,at,_t),m?Q=R=O=P=it:D=x=N=C=it,S.push({tx1:Q,ty1:D,tx2:R,ty2:x,x1:O,y1:N,x2:P,y2:C,width:_t,color:Tt,borderDash:j,borderDashOffset:J,tickWidth:ot,tickColor:ct,tickBorderDash:vt,tickBorderDashOffset:St}))}return this._ticksLength=_,this._borderValue=Y,S}_computeLabelItems(t){const e=this.axis,i=this.options,{position:a,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:m,padding:y,mirror:_}=o,E=Tc(i.grid),S=E+y,M=_?-y:S,V=-Ds(this.labelRotation),k=[];let z,Y,$,at,it,Q,D,R,x,O,N,P,C="middle";if(a==="top")Q=this.bottom-M,D=this._getXAxisLabelAlignment();else if(a==="bottom")Q=this.top+M,D=this._getXAxisLabelAlignment();else if(a==="left"){const gt=this._getYAxisLabelAlignment(E);D=gt.textAlign,it=gt.x}else if(a==="right"){const gt=this._getYAxisLabelAlignment(E);D=gt.textAlign,it=gt.x}else if(e==="x"){if(a==="center")Q=(t.top+t.bottom)/2+S;else if(qt(a)){const gt=Object.keys(a)[0],H=a[gt];Q=this.chart.scales[gt].getPixelForValue(H)+S}D=this._getXAxisLabelAlignment()}else if(e==="y"){if(a==="center")it=(t.left+t.right)/2-S;else if(qt(a)){const gt=Object.keys(a)[0],H=a[gt];it=this.chart.scales[gt].getPixelForValue(H)}D=this._getYAxisLabelAlignment(E).textAlign}e==="y"&&(d==="start"?C="top":d==="end"&&(C="bottom"));const ft=this._getLabelSizes();for(z=0,Y=h.length;z<Y;++z){$=h[z],at=$.label;const gt=o.setContext(this.getContext(z));R=this.getPixelForTick(z)+o.labelOffset,x=this._resolveTickFontOptions(z),O=x.lineHeight,N=Be(at)?at.length:1;const H=N/2,st=gt.color,ut=gt.textStrokeColor,_t=gt.textStrokeWidth;let Tt=D;c?(it=R,D==="inner"&&(z===Y-1?Tt=this.options.reverse?"left":"right":z===0?Tt=this.options.reverse?"right":"left":Tt="center"),a==="top"?m==="near"||V!==0?P=-N*O+O/2:m==="center"?P=-ft.highest.height/2-H*O+O:P=-ft.highest.height+O/2:m==="near"||V!==0?P=O/2:m==="center"?P=ft.highest.height/2-H*O:P=ft.highest.height-N*O,_&&(P*=-1),V!==0&&!gt.showLabelBackdrop&&(it+=O/2*Math.sin(V))):(Q=R,P=(1-N)*O/2);let j;if(gt.showLabelBackdrop){const J=si(gt.backdropPadding),ot=ft.heights[z],ct=ft.widths[z];let vt=P-J.top,St=0-J.left;switch(C){case"middle":vt-=ot/2;break;case"bottom":vt-=ot;break}switch(D){case"center":St-=ct/2;break;case"right":St-=ct;break;case"inner":z===Y-1?St-=ct:z>0&&(St-=ct/2);break}j={left:St,top:vt,width:ct+J.width,height:ot+J.height,color:gt.backdropColor}}k.push({label:at,font:x,textOffset:P,options:{rotation:V,color:st,strokeColor:ut,strokeWidth:_t,textAlign:Tt,textBaseline:C,translation:[it,Q],backdrop:j}})}return k}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ds(this.labelRotation))return t==="top"?"left":"right";let a="center";return e.align==="start"?a="left":e.align==="end"?a="right":e.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:a,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,d=c.widest.width;let m,y;return e==="left"?a?(y=this.right+o,i==="near"?m="left":i==="center"?(m="center",y+=d/2):(m="right",y+=d)):(y=this.right-h,i==="near"?m="right":i==="center"?(m="center",y-=d/2):(m="left",y=this.left)):e==="right"?a?(y=this.left+o,i==="near"?m="right":i==="center"?(m="center",y-=d/2):(m="left",y-=d)):(y=this.left+h,i==="near"?m="left":i==="center"?(m="center",y+=d/2):(m="right",y=this.right)):m="right",{textAlign:m,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:a,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,a,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const a=this.ticks.findIndex(o=>o.value===t);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(d,m,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=a.length;o<c;++o){const d=a[o];e.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:a}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=a.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let m,y,_,E;this.isHorizontal()?(m=ya(t,this.left,c)-c/2,y=ya(t,this.right,h)+h/2,_=E=d):(_=ya(t,this.top,c)-c/2,E=ya(t,this.bottom,h)+h/2,m=y=d),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(m,_),e.lineTo(y,E),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,a=this._computeLabelArea();a&&Oy(i,a);const o=this.getLabelItems(t);for(const c of o){const h=c.options,d=c.font,m=c.label,y=c.textOffset;Jc(i,m,0,y,d,h)}a&&Ny(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:a}}=this;if(!i.display)return;const o=hn(i.font),c=si(i.padding),h=i.align;let d=o.lineHeight/2;e==="bottom"||e==="center"||qt(e)?(d+=c.bottom,Be(i.text)&&(d+=o.lineHeight*(i.text.length-1))):d+=c.top;const{titleX:m,titleY:y,maxWidth:_,rotation:E}=u4(this,d,e,h);Jc(t,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:E,textAlign:c4(h,e,a),textBaseline:"middle",translation:[m,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Ht(t.grid&&t.grid.z,-1),a=Ht(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ul.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&a.push(h)}return a}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return hn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class rf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;d4(e)&&(i=this.register(e));const a=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in a||(a[o]=t,h4(t,c,i),this.override&&Ae.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,a=this.scope;i in e&&delete e[i],a&&i in Ae[a]&&(delete Ae[a][i],this.override&&delete ka[i])}}function h4(n,t,e){const i=Wc(Object.create(null),[e?Ae.get(e):{},Ae.get(t),n.defaults]);Ae.set(t,i),n.defaultRoutes&&f4(t,n.defaultRoutes),n.descriptors&&Ae.describe(t,n.descriptors)}function f4(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),a=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),d=c.join(".");Ae.route(o,a,d,h)})}function d4(n){return"id"in n&&"defaults"in n}class g4{constructor(){this.controllers=new rf(Uy,"datasets",!0),this.elements=new rf(za,"elements"),this.plugins=new rf(Object,"plugins"),this.scales=new rf(ul,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(a=>{const o=i||this._getRegistryForType(a);i||o.isForType(a)||o===this.plugins&&a.id?this._exec(t,o,a):Zt(a,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const a=Cy(t);he(i["before"+a],[],i),e[t](i),he(i["after"+a],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const a=e.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return a}}var Qi=new g4;class m4{constructor(){this._init=void 0}notify(t,e,i,a){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=a?this._descriptors(t).filter(a):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,e,i,a){a=a||{};for(const o of t){const c=o.plugin,h=c[i],d=[e,a,o.options];if(he(h,d,c)===!1&&a.cancelable)return!1}return!0}invalidate(){ae(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,a=Ht(i.options&&i.options.plugins,{}),o=p4(i);return a===!1&&!e?[]:_4(t,o,a,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,a=(o,c)=>o.filter(h=>!c.some(d=>h.plugin.id===d.plugin.id));this._notify(a(e,i),t,"stop"),this._notify(a(i,e),t,"start")}}function p4(n){const t={},e=[],i=Object.keys(Qi.plugins.items);for(let o=0;o<i.length;o++)e.push(Qi.getPlugin(i[o]));const a=n.plugins||[];for(let o=0;o<a.length;o++){const c=a[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function y4(n,t){return!t&&n===!1?null:n===!0?{}:n}function _4(n,{plugins:t,localIds:e},i,a){const o=[],c=n.getContext();for(const h of t){const d=h.id,m=y4(i[d],a);m!==null&&o.push({plugin:h,options:v4(n.config,{plugin:h,local:e[d]},m,c)})}return o}function v4(n,{plugin:t,local:e},i,a){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Rp(n,t){const e=Ae.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function b4(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function E4(n,t){return n===t?"_index_":"_value_"}function NT(n){if(n==="x"||n==="y"||n==="r")return n}function T4(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Cp(n,...t){if(NT(n))return n;for(const e of t){const i=e.axis||T4(e.position)||n.length>1&&NT(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function kT(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function S4(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return kT(n,"x",e[0])||kT(n,"y",e[0])}return{}}function A4(n,t){const e=ka[n.type]||{scales:{}},i=t.scales||{},a=Rp(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!qt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const d=Cp(c,h,S4(c,n),Ae.scales[h.type]),m=E4(d,a),y=e.scales||{};o[c]=Lc(Object.create(null),[{axis:d},h,y[d],y[m]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,d=c.indexAxis||Rp(h,t),y=(ka[h]||{}).scales||{};Object.keys(y).forEach(_=>{const E=b4(_,d),S=c[E+"AxisID"]||E;o[S]=o[S]||Object.create(null),Lc(o[S],[{axis:E},i[S],y[_]])})}),Object.keys(o).forEach(c=>{const h=o[c];Lc(h,[Ae.scales[h.type],Ae.scale])}),o}function l1(n){const t=n.options||(n.options={});t.plugins=Ht(t.plugins,{}),t.scales=A4(n,t)}function c1(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function x4(n){return n=n||{},n.data=c1(n.data),l1(n),n}const VT=new Map,u1=new Set;function af(n,t){let e=VT.get(n);return e||(e=t(),VT.set(n,e),u1.add(e)),e}const Sc=(n,t,e)=>{const i=Na(t,e);i!==void 0&&n.add(i)};class w4{constructor(t){this._config=x4(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=c1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),l1(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return af(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return af(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return af(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return af(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let a=i.get(t);return(!a||e)&&(a=new Map,i.set(t,a)),a}getOptionScopes(t,e,i){const{options:a,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const d=new Set;e.forEach(y=>{t&&(d.add(t),y.forEach(_=>Sc(d,t,_))),y.forEach(_=>Sc(d,a,_)),y.forEach(_=>Sc(d,ka[o]||{},_)),y.forEach(_=>Sc(d,Ae,_)),y.forEach(_=>Sc(d,wp,_))});const m=Array.from(d);return m.length===0&&m.push(Object.create(null)),u1.has(e)&&c.set(e,m),m}chartOptionScopes(){const{options:t,type:e}=this;return[t,ka[e]||{},Ae.datasets[e]||{},{type:e},Ae,wp]}resolveNamedOptions(t,e,i,a=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=PT(this._resolverCache,t,a);let d=c;if(C4(c,e)){o.$shared=!1,i=Lr(i)?i():i;const m=this.createResolver(t,i,h);d=tl(c,i,m)}for(const m of e)o[m]=d[m];return o}createResolver(t,e,i=[""],a){const{resolver:o}=PT(this._resolverCache,t,i);return qt(e)?tl(o,e,void 0,a):o}}function PT(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const a=e.join();let o=i.get(a);return o||(o={resolver:Vy(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(a,o)),o}const R4=n=>qt(n)&&Object.getOwnPropertyNames(n).some(t=>Lr(n[t]));function C4(n,t){const{isScriptable:e,isIndexable:i}=Qx(n);for(const a of t){const o=e(a),c=i(a),h=(c||o)&&n[a];if(o&&(Lr(h)||R4(h))||c&&Be(h))return!0}return!1}var I4="4.5.1";const D4=["top","bottom","left","right","chartArea"];function LT(n,t){return n==="top"||n==="bottom"||D4.indexOf(n)===-1&&t==="x"}function zT(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function jT(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),he(e&&e.onComplete,[n],t)}function M4(n){const t=n.chart,e=t.options.animation;he(e&&e.onProgress,[n],t)}function h1(n){return zy()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Ef={},UT=n=>{const t=h1(n);return Object.values(Ef).filter(e=>e.canvas===t).pop()};function O4(n,t,e){const i=Object.keys(n);for(const a of i){const o=+a;if(o>=t){const c=n[a];delete n[a],(e>0||o>t)&&(n[o+e]=c)}}}function N4(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let yd=class{static defaults=Ae;static instances=Ef;static overrides=ka;static registry=Qi;static version=I4;static getChart=UT;static register(...t){Qi.add(...t),BT()}static unregister(...t){Qi.remove(...t),BT()}constructor(t,e){const i=this.config=new w4(e),a=h1(t),o=UT(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||$V(a)),this.platform.updateConfig(i);const h=this.platform.acquireContext(a,c.aspectRatio),d=h&&h.canvas,m=d&&d.height,y=d&&d.width;if(this.id=QN(),this.ctx=h,this.canvas=d,this.width=y,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new m4,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=fk(_=>this.update(_),c.resizeDelay||0),this._dataChanges=[],Ef[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}As.listen(this,"complete",jT),As.listen(this,"progress",M4),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:a,_aspectRatio:o}=this;return ae(t)?e&&o?o:a?i/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Qi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():fT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return lT(this.canvas,this.ctx),this}stop(){return As.stop(this),this}resize(t,e){As.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,a=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,fT(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),he(i.onResize,[this,c],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Zt(e,(i,a)=>{i.id=a})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,a=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],d=Cp(c,h),m=d==="r",y=d==="x";return{options:h,dposition:m?"chartArea":y?"bottom":"left",dtype:m?"radialLinear":y?"category":"linear"}}))),Zt(o,c=>{const h=c.options,d=h.id,m=Cp(d,h),y=Ht(h.type,c.dtype);(h.position===void 0||LT(h.position,m)!==LT(c.dposition))&&(h.position=c.dposition),a[d]=!0;let _=null;if(d in i&&i[d].type===y)_=i[d];else{const E=Qi.getScale(y);_=new E({id:d,type:y,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(h,t)}),Zt(a,(c,h)=>{c||delete i[h]}),Zt(i,c=>{ni.configure(this,c,c.options),ni.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((a,o)=>a.index-o.index),i>e){for(let a=e;a<i;++a)this._destroyDatasetMeta(a);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(zT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,a)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,a;for(this._removeUnreferencedMetasets(),i=0,a=e.length;i<a;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Rp(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const d=Qi.getController(h),{datasetElementType:m,dataElementType:y}=Ae.datasets[h];Object.assign(d,{dataElementType:Qi.getElement(y),datasetElementType:m&&Qi.getElement(m)}),c.controller=new d(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Zt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,y=this.data.datasets.length;m<y;m++){const{controller:_}=this.getDatasetMeta(m),E=!a&&o.indexOf(_)===-1;_.buildOrUpdateElements(E),c=Math.max(+_.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),a||Zt(o,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(zT("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Zt(this.scales,t=>{ni.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!JE(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:a,count:o}of e){const c=i==="_removeElements"?-o:o;O4(t,a,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),a=i(0);for(let o=1;o<e;o++)if(!JE(a,i(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ni.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Zt(this.boxes,a=>{i&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Lr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),a={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(i.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(As.has(this)?this.attached&&!As.running(this)&&As.start(this):(this.draw(),jT({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let a,o;for(a=0,o=e.length;a<o;++a){const c=e[a];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},a=$k(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(a&&Oy(e,a),t.controller.draw(),a&&Ny(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Yx(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,a){const o=DV.modes[e];return typeof o=="function"?o(this,t,i,a):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let a=i.filter(o=>o&&o._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context=cl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const a=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,a);$c(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?a:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),As.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),lT(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Ef[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},a=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};Zt(this.options.events,o=>i(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(d,m)=>{e.addEventListener(this,d,m),t[d]=m},a=(d,m)=>{t[d]&&(e.removeEventListener(this,d,m),delete t[d])},o=(d,m)=>{this.canvas&&this.resize(d,m)};let c;const h=()=>{a("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){Zt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Zt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const a=i?"set":"remove";let o,c,h,d;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),h=0,d=t.length;h<d;++h){c=t[h];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Bf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const a=this.options.hover,o=(d,m)=>d.filter(y=>!m.some(_=>y.datasetIndex===_.datasetIndex&&y.index===_.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,a.mode,!1),h.length&&a.mode&&this.updateHoverStyle(h,a.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},a=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,a)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,a),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:a=[],options:o}=this,c=e,h=this._getActiveElements(t,a,i,c),d=tk(t),m=N4(t,this._lastEvent,i,d);i&&(this._lastEvent=null,he(o.onHover,[t,h,this],this),d&&he(o.onClick,[t,h,this],this));const y=!Bf(h,a);return(y||e)&&(this._active=h,this._updateHoverStyles(h,a,e)),this._lastEvent=m,y}_getActiveElements(t,e,i,a){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}};function BT(){return Zt(yd.instances,n=>n._plugins.invalidate())}function k4(n,t,e){const{startAngle:i,x:a,y:o,outerRadius:c,innerRadius:h,options:d}=t,{borderWidth:m,borderJoinStyle:y}=d,_=Math.min(m/c,Wi(i-e));if(n.beginPath(),n.arc(a,o,c-m/2,i+_/2,e-_/2),h>0){const E=Math.min(m/h,Wi(i-e));n.arc(a,o,h+m/2,e-E/2,i+E/2,!0)}else{const E=Math.min(m/2,c*Wi(i-e));if(y==="round")n.arc(a,o,E,e-re/2,i+re/2,!0);else if(y==="bevel"){const S=2*E*E,M=-S*Math.cos(e+re/2)+a,V=-S*Math.sin(e+re/2)+o,k=S*Math.cos(i+re/2)+a,z=S*Math.sin(i+re/2)+o;n.lineTo(M,V),n.lineTo(k,z)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function V4(n,t,e){const{startAngle:i,pixelMargin:a,x:o,y:c,outerRadius:h,innerRadius:d}=t;let m=a/h;n.beginPath(),n.arc(o,c,h,i-m,e+m),d>a?(m=a/d,n.arc(o,c,d,e+m,i-m,!0)):n.arc(o,c,a,e+Fe,i-Fe),n.closePath(),n.clip()}function P4(n){return ky(n,["outerStart","outerEnd","innerStart","innerEnd"])}function L4(n,t,e,i){const a=P4(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=d=>{const m=(e-Math.min(o,d))*i/2;return Rn(d,0,Math.min(o,m))};return{outerStart:h(a.outerStart),outerEnd:h(a.outerEnd),innerStart:Rn(a.innerStart,0,c),innerEnd:Rn(a.innerEnd,0,c)}}function Mo(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Xf(n,t,e,i,a,o){const{x:c,y:h,startAngle:d,pixelMargin:m,innerRadius:y}=t,_=Math.max(t.outerRadius+i+e-m,0),E=y>0?y+i+e+m:0;let S=0;const M=a-d;if(i){const gt=y>0?y-i:0,H=_>0?_-i:0,st=(gt+H)/2,ut=st!==0?M*st/(st+i):M;S=(M-ut)/2}const V=Math.max(.001,M*_-e/re)/_,k=(M-V)/2,z=d+k+S,Y=a-k-S,{outerStart:$,outerEnd:at,innerStart:it,innerEnd:Q}=L4(t,E,_,Y-z),D=_-$,R=_-at,x=z+$/D,O=Y-at/R,N=E+it,P=E+Q,C=z+it/N,ft=Y-Q/P;if(n.beginPath(),o){const gt=(x+O)/2;if(n.arc(c,h,_,x,gt),n.arc(c,h,_,gt,O),at>0){const _t=Mo(R,O,c,h);n.arc(_t.x,_t.y,at,O,Y+Fe)}const H=Mo(P,Y,c,h);if(n.lineTo(H.x,H.y),Q>0){const _t=Mo(P,ft,c,h);n.arc(_t.x,_t.y,Q,Y+Fe,ft+Math.PI)}const st=(Y-Q/E+(z+it/E))/2;if(n.arc(c,h,E,Y-Q/E,st,!0),n.arc(c,h,E,st,z+it/E,!0),it>0){const _t=Mo(N,C,c,h);n.arc(_t.x,_t.y,it,C+Math.PI,z-Fe)}const ut=Mo(D,z,c,h);if(n.lineTo(ut.x,ut.y),$>0){const _t=Mo(D,x,c,h);n.arc(_t.x,_t.y,$,z-Fe,x)}}else{n.moveTo(c,h);const gt=Math.cos(x)*_+c,H=Math.sin(x)*_+h;n.lineTo(gt,H);const st=Math.cos(O)*_+c,ut=Math.sin(O)*_+h;n.lineTo(st,ut)}n.closePath()}function z4(n,t,e,i,a){const{fullCircles:o,startAngle:c,circumference:h}=t;let d=t.endAngle;if(o){Xf(n,t,e,i,d,a);for(let m=0;m<o;++m)n.fill();isNaN(h)||(d=c+(h%ze||ze))}return Xf(n,t,e,i,d,a),n.fill(),d}function j4(n,t,e,i,a){const{fullCircles:o,startAngle:c,circumference:h,options:d}=t,{borderWidth:m,borderJoinStyle:y,borderDash:_,borderDashOffset:E,borderRadius:S}=d,M=d.borderAlign==="inner";if(!m)return;n.setLineDash(_||[]),n.lineDashOffset=E,M?(n.lineWidth=m*2,n.lineJoin=y||"round"):(n.lineWidth=m,n.lineJoin=y||"bevel");let V=t.endAngle;if(o){Xf(n,t,e,i,V,a);for(let k=0;k<o;++k)n.stroke();isNaN(h)||(V=c+(h%ze||ze))}M&&V4(n,t,V),d.selfJoin&&V-c>=re&&S===0&&y!=="miter"&&k4(n,t,V),o||(Xf(n,t,e,i,V,a),n.stroke())}class U4 extends za{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const a=this.getProps(["x","y"],i),{angle:o,distance:c}=zx(a,{x:t,y:e}),{startAngle:h,endAngle:d,innerRadius:m,outerRadius:y,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),E=(this.options.spacing+this.options.borderWidth)/2,S=Ht(_,d-h),M=Gf(o,h,d)&&h!==d,V=S>=ze||M,k=Sa(c,m+E,y+E);return V&&k}getCenterPoint(t){const{x:e,y:i,startAngle:a,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:m}=this.options,y=(a+o)/2,_=(c+h+m+d)/2;return{x:e+Math.cos(y)*_,y:i+Math.sin(y)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,a=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>ze?Math.floor(i/ze):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*a,Math.sin(h)*a);const d=1-Math.sin(Math.min(re,i||0)),m=a*d;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,z4(t,this,m,o,c),j4(t,this,m,o,c),t.restore()}}function f1(n,t){const{x:e,y:i,base:a,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,d,m,y,_;return n.horizontal?(_=c/2,h=Math.min(e,a),d=Math.max(e,a),m=i-_,y=i+_):(_=o/2,h=e-_,d=e+_,m=Math.min(i,a),y=Math.max(i,a)),{left:h,top:m,right:d,bottom:y}}function Tr(n,t,e,i){return n?0:Rn(t,e,i)}function B4(n,t,e){const i=n.options.borderWidth,a=n.borderSkipped,o=Kx(i);return{t:Tr(a.top,o.top,0,e),r:Tr(a.right,o.right,0,t),b:Tr(a.bottom,o.bottom,0,e),l:Tr(a.left,o.left,0,t)}}function F4(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),a=n.options.borderRadius,o=Fo(a),c=Math.min(t,e),h=n.borderSkipped,d=i||qt(a);return{topLeft:Tr(!d||h.top||h.left,o.topLeft,0,c),topRight:Tr(!d||h.top||h.right,o.topRight,0,c),bottomLeft:Tr(!d||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:Tr(!d||h.bottom||h.right,o.bottomRight,0,c)}}function H4(n){const t=f1(n),e=t.right-t.left,i=t.bottom-t.top,a=B4(n,e/2,i/2),o=F4(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+a.l,y:t.top+a.t,w:e-a.l-a.r,h:i-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function Xm(n,t,e,i){const a=t===null,o=e===null,h=n&&!(a&&o)&&f1(n,i);return h&&(a||Sa(t,h.left,h.right))&&(o||Sa(e,h.top,h.bottom))}function q4(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function G4(n,t){n.rect(t.x,t.y,t.w,t.h)}function Wm(n,t,e={}){const i=n.x!==e.x?-t:0,a=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-a;return{x:n.x+i,y:n.y+a,w:n.w+o,h:n.h+c,radius:n.radius}}class Y4 extends za{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:a}}=this,{inner:o,outer:c}=H4(this),h=q4(c.radius)?Yf:G4;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,Wm(c,e,o)),t.clip(),h(t,Wm(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,Wm(o,e)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,e,i){return Xm(this,t,e,i)}inXRange(t,e){return Xm(this,t,null,e)}inYRange(t,e){return Xm(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+a)/2:e,y:o?i:(i+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const FT=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},K4=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class HT extends za{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=he(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,a)=>t.sort(i,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,a=hn(i.font),o=a.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=FT(i,o);let m,y;e.font=a.string,this.isHorizontal()?(m=this.maxWidth,y=this._fitRows(c,o,h,d)+10):(y=this.maxHeight,m=this._fitCols(c,a,h,d)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,a){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],m=this.lineWidths=[0],y=a+h;let _=t;o.textAlign="left",o.textBaseline="middle";let E=-1,S=-y;return this.legendItems.forEach((M,V)=>{const k=i+e/2+o.measureText(M.text).width;(V===0||m[m.length-1]+k+2*h>c)&&(_+=y,m[m.length-(V>0?0:1)]=0,S+=y,E++),d[V]={left:0,top:S,row:E,width:k,height:a},m[m.length-1]+=k+h}),_}_fitCols(t,e,i,a){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],m=this.columnSizes=[],y=c-t;let _=h,E=0,S=0,M=0,V=0;return this.legendItems.forEach((k,z)=>{const{itemWidth:Y,itemHeight:$}=Q4(i,e,o,k,a);z>0&&S+$+2*h>y&&(_+=E+h,m.push({width:E,height:S}),M+=E+h,V++,E=S=0),d[z]={left:M,top:S,col:V,width:Y,height:$},E=Math.max(E,Y),S+=$+h}),_+=E,m.push({width:E,height:S}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:a},rtl:o}}=this,c=Ho(o,this.left,this.width);if(this.isHorizontal()){let h=0,d=ln(i,this.left+a,this.right-this.lineWidths[h]);for(const m of e)h!==m.row&&(h=m.row,d=ln(i,this.left+a,this.right-this.lineWidths[h])),m.top+=this.top+t+a,m.left=c.leftForLtr(c.x(d),m.width),d+=m.width+a}else{let h=0,d=ln(i,this.top+t+a,this.bottom-this.columnSizes[h].height);for(const m of e)m.col!==h&&(h=m.col,d=ln(i,this.top+t+a,this.bottom-this.columnSizes[h].height)),m.top=d,m.left+=this.left+a,m.left=c.leftForLtr(c.x(m.left),m.width),d+=m.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Oy(t,this),this._draw(),Ny(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:a}=this,{align:o,labels:c}=t,h=Ae.color,d=Ho(t.rtl,this.left,this.width),m=hn(c.font),{padding:y}=c,_=m.size,E=_/2;let S;this.drawTitle(),a.textAlign=d.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=m.string;const{boxWidth:M,boxHeight:V,itemHeight:k}=FT(c,_),z=function(Q,D,R){if(isNaN(M)||M<=0||isNaN(V)||V<0)return;a.save();const x=Ht(R.lineWidth,1);if(a.fillStyle=Ht(R.fillStyle,h),a.lineCap=Ht(R.lineCap,"butt"),a.lineDashOffset=Ht(R.lineDashOffset,0),a.lineJoin=Ht(R.lineJoin,"miter"),a.lineWidth=x,a.strokeStyle=Ht(R.strokeStyle,h),a.setLineDash(Ht(R.lineDash,[])),c.usePointStyle){const O={radius:V*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:x},N=d.xPlus(Q,M/2),P=D+E;Gx(a,O,N,P,c.pointStyleWidth&&M)}else{const O=D+Math.max((_-V)/2,0),N=d.leftForLtr(Q,M),P=Fo(R.borderRadius);a.beginPath(),Object.values(P).some(C=>C!==0)?Yf(a,{x:N,y:O,w:M,h:V,radius:P}):a.rect(N,O,M,V),a.fill(),x!==0&&a.stroke()}a.restore()},Y=function(Q,D,R){Jc(a,R.text,Q,D+k/2,m,{strikethrough:R.hidden,textAlign:d.textAlign(R.textAlign)})},$=this.isHorizontal(),at=this._computeTitleHeight();$?S={x:ln(o,this.left+y,this.right-i[0]),y:this.top+y+at,line:0}:S={x:this.left+y,y:ln(o,this.top+at+y,this.bottom-e[0].height),line:0},Jx(this.ctx,t.textDirection);const it=k+y;this.legendItems.forEach((Q,D)=>{a.strokeStyle=Q.fontColor,a.fillStyle=Q.fontColor;const R=a.measureText(Q.text).width,x=d.textAlign(Q.textAlign||(Q.textAlign=c.textAlign)),O=M+E+R;let N=S.x,P=S.y;d.setWidth(this.width),$?D>0&&N+O+y>this.right&&(P=S.y+=it,S.line++,N=S.x=ln(o,this.left+y,this.right-i[S.line])):D>0&&P+it>this.bottom&&(N=S.x=N+e[S.line].width+y,S.line++,P=S.y=ln(o,this.top+at+y,this.bottom-e[S.line].height));const C=d.x(N);if(z(C,P,Q),N=dk(x,N+M+E,$?N+O:this.right,t.rtl),Y(d.x(N),P,Q),$)S.x+=O+y;else if(typeof Q.text!="string"){const ft=m.lineHeight;S.y+=d1(Q,ft)+y}else S.y+=it}),Zx(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=hn(e.font),a=si(e.padding);if(!e.display)return;const o=Ho(t.rtl,this.left,this.width),c=this.ctx,h=e.position,d=i.size/2,m=a.top+d;let y,_=this.left,E=this.width;if(this.isHorizontal())E=Math.max(...this.lineWidths),y=this.top+m,_=ln(t.align,_,this.right-E);else{const M=this.columnSizes.reduce((V,k)=>Math.max(V,k.height),0);y=m+ln(t.align,this.top,this.bottom-M-t.labels.padding-this._computeTitleHeight())}const S=ln(h,_,_+E);c.textAlign=o.textAlign(Dy(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,Jc(c,e.text,S,y,i)}_computeTitleHeight(){const t=this.options.title,e=hn(t.font),i=si(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,a,o;if(Sa(t,this.left,this.right)&&Sa(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(a=o[i],Sa(t,a.left,a.left+a.width)&&Sa(e,a.top,a.top+a.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!$4(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,o=K4(a,i);a&&!o&&he(e.onLeave,[t,a,this],this),this._hoveredItem=i,i&&!o&&he(e.onHover,[t,i,this],this)}else i&&he(e.onClick,[t,i,this],this)}}function Q4(n,t,e,i,a){const o=X4(i,n,t,e),c=W4(a,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function X4(n,t,e,i){let a=n.text;return a&&typeof a!="string"&&(a=a.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(a).width}function W4(n,t,e){let i=n;return typeof t.text!="string"&&(i=d1(t,e)),i}function d1(n,t){const e=n.text?n.text.length:0;return t*e}function $4(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var J4={id:"legend",_element:HT,start(n,t,e){const i=n.legend=new HT({ctx:n.ctx,options:e,chart:n});ni.configure(n,i,e),ni.addBox(n,i)},stop(n){ni.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;ni.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,a=e.chart;a.isDatasetVisible(i)?(a.hide(i),t.hidden=!0):(a.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:a,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const m=d.controller.getStyle(e?0:void 0),y=si(m.borderWidth);return{text:t[d.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:a||m.textAlign,borderRadius:c&&(h||m.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class g1 extends za{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const a=Be(i.text)?i.text.length:1;this._padding=si(i.padding);const o=a*hn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:a,right:o,options:c}=this,h=c.align;let d=0,m,y,_;return this.isHorizontal()?(y=ln(h,i,o),_=e+t,m=o-i):(c.position==="left"?(y=i+t,_=ln(h,a,e),d=re*-.5):(y=o-t,_=ln(h,e,a),d=re*.5),m=a-e),{titleX:y,titleY:_,maxWidth:m,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=hn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:d,rotation:m}=this._drawArgs(o);Jc(t,e.text,0,0,i,{color:e.color,maxWidth:d,rotation:m,textAlign:Dy(e.align),textBaseline:"middle",translation:[c,h]})}}function Z4(n,t){const e=new g1({ctx:n.ctx,options:t,chart:n});ni.configure(n,e,t),ni.addBox(n,e),n.titleBlock=e}var tP={id:"title",_element:g1,start(n,t,e){Z4(n,e)},stop(n){const t=n.titleBlock;ni.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;ni.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Dc={average(n){if(!n.length)return!1;let t,e,i=new Set,a=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const d=h.tooltipPosition();i.add(d.x),a+=d.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,d)=>h+d)/i.size,y:a/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,a=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const d=n[o].element;if(d&&d.hasValue()){const m=d.getCenterPoint(),y=ok(t,m);y<a&&(a=y,h=d)}}if(h){const d=h.tooltipPosition();e=d.x,i=d.y}return{x:e,y:i}}};function Ki(n,t){return t&&(Be(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function xs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function eP(n,t){const{element:e,datasetIndex:i,index:a}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(a);return{chart:n,label:c,parsed:o.getParsed(a),raw:n.data.datasets[i].data[a],formattedValue:h,dataset:o.getDataset(),dataIndex:a,datasetIndex:i,element:e}}function qT(n,t){const e=n.chart.ctx,{body:i,footer:a,title:o}=n,{boxWidth:c,boxHeight:h}=t,d=hn(t.bodyFont),m=hn(t.titleFont),y=hn(t.footerFont),_=o.length,E=a.length,S=i.length,M=si(t.padding);let V=M.height,k=0,z=i.reduce((at,it)=>at+it.before.length+it.lines.length+it.after.length,0);if(z+=n.beforeBody.length+n.afterBody.length,_&&(V+=_*m.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),z){const at=t.displayColors?Math.max(h,d.lineHeight):d.lineHeight;V+=S*at+(z-S)*d.lineHeight+(z-1)*t.bodySpacing}E&&(V+=t.footerMarginTop+E*y.lineHeight+(E-1)*t.footerSpacing);let Y=0;const $=function(at){k=Math.max(k,e.measureText(at).width+Y)};return e.save(),e.font=m.string,Zt(n.title,$),e.font=d.string,Zt(n.beforeBody.concat(n.afterBody),$),Y=t.displayColors?c+2+t.boxPadding:0,Zt(i,at=>{Zt(at.before,$),Zt(at.lines,$),Zt(at.after,$)}),Y=0,e.font=y.string,Zt(n.footer,$),e.restore(),k+=M.width,{width:k,height:V}}function nP(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function iP(n,t,e,i){const{x:a,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&a+o+c>t.width||n==="right"&&a-o-c<0)return!0}function sP(n,t,e,i){const{x:a,width:o}=e,{width:c,chartArea:{left:h,right:d}}=n;let m="center";return i==="center"?m=a<=(h+d)/2?"left":"right":a<=o/2?m="left":a>=c-o/2&&(m="right"),iP(m,n,t,e)&&(m="center"),m}function GT(n,t,e){const i=e.yAlign||t.yAlign||nP(n,e);return{xAlign:e.xAlign||t.xAlign||sP(n,t,e,i),yAlign:i}}function rP(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function aP(n,t,e){let{y:i,height:a}=n;return t==="top"?i+=e:t==="bottom"?i-=a+e:i-=a/2,i}function YT(n,t,e,i){const{caretSize:a,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:d}=e,m=a+o,{topLeft:y,topRight:_,bottomLeft:E,bottomRight:S}=Fo(c);let M=rP(t,h);const V=aP(t,d,m);return d==="center"?h==="left"?M+=m:h==="right"&&(M-=m):h==="left"?M-=Math.max(y,E)+a:h==="right"&&(M+=Math.max(_,S)+a),{x:Rn(M,0,i.width-t.width),y:Rn(V,0,i.height-t.height)}}function of(n,t,e){const i=si(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function KT(n){return Ki([],xs(n))}function oP(n,t,e){return cl(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function QT(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const m1={beforeTitle:Ss,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ss,beforeBody:Ss,beforeLabel:Ss,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return ae(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ss,afterBody:Ss,beforeFooter:Ss,footer:Ss,afterFooter:Ss};function Sn(n,t,e,i){const a=n[t].call(e,i);return typeof a>"u"?m1[t].call(e,i):a}class XT extends za{static positioners=Dc;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&e.options.animation&&i.animations,o=new t1(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=oP(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,a=Sn(i,"beforeTitle",this,t),o=Sn(i,"title",this,t),c=Sn(i,"afterTitle",this,t);let h=[];return h=Ki(h,xs(a)),h=Ki(h,xs(o)),h=Ki(h,xs(c)),h}getBeforeBody(t,e){return KT(Sn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,a=[];return Zt(t,o=>{const c={before:[],lines:[],after:[]},h=QT(i,o);Ki(c.before,xs(Sn(h,"beforeLabel",this,o))),Ki(c.lines,Sn(h,"label",this,o)),Ki(c.after,xs(Sn(h,"afterLabel",this,o))),a.push(c)}),a}getAfterBody(t,e){return KT(Sn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,a=Sn(i,"beforeFooter",this,t),o=Sn(i,"footer",this,t),c=Sn(i,"afterFooter",this,t);let h=[];return h=Ki(h,xs(a)),h=Ki(h,xs(o)),h=Ki(h,xs(c)),h}_createItems(t){const e=this._active,i=this.chart.data,a=[],o=[],c=[];let h=[],d,m;for(d=0,m=e.length;d<m;++d)h.push(eP(this.chart,e[d]));return t.filter&&(h=h.filter((y,_,E)=>t.filter(y,_,E,i))),t.itemSort&&(h=h.sort((y,_)=>t.itemSort(y,_,i))),Zt(h,y=>{const _=QT(t.callbacks,y);a.push(Sn(_,"labelColor",this,y)),o.push(Sn(_,"labelPointStyle",this,y)),c.push(Sn(_,"labelTextColor",this,y))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),a=this._active;let o,c=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const h=Dc[i.position].call(this,a,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const d=this._size=qT(this,i),m=Object.assign({},h,d),y=GT(this.chart,i,m),_=YT(i,m,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:_.x,y:_.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,a){const o=this.getCaretPosition(t,i,a);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:a,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:d,topRight:m,bottomLeft:y,bottomRight:_}=Fo(h),{x:E,y:S}=t,{width:M,height:V}=e;let k,z,Y,$,at,it;return o==="center"?(at=S+V/2,a==="left"?(k=E,z=k-c,$=at+c,it=at-c):(k=E+M,z=k+c,$=at-c,it=at+c),Y=k):(a==="left"?z=E+Math.max(d,y)+c:a==="right"?z=E+M-Math.max(m,_)-c:z=this.caretX,o==="top"?($=S,at=$-c,k=z-c,Y=z+c):($=S+V,at=$+c,k=z+c,Y=z-c),it=$),{x1:k,x2:z,x3:Y,y1:$,y2:at,y3:it}}drawTitle(t,e,i){const a=this.title,o=a.length;let c,h,d;if(o){const m=Ho(i.rtl,this.x,this.width);for(t.x=of(this,i.titleAlign,i),e.textAlign=m.textAlign(i.titleAlign),e.textBaseline="middle",c=hn(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,d=0;d<o;++d)e.fillText(a[d],m.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,d+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,a,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:d,boxWidth:m}=o,y=hn(o.bodyFont),_=of(this,"left",o),E=a.x(_),S=d<y.lineHeight?(y.lineHeight-d)/2:0,M=e.y+S;if(o.usePointStyle){const V={radius:Math.min(m,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},k=a.leftForLtr(E,m)+m/2,z=M+d/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,cT(t,V,k,z),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,cT(t,V,k,z)}else{t.lineWidth=qt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const V=a.leftForLtr(E,m),k=a.leftForLtr(a.xPlus(E,1),m-2),z=Fo(c.borderRadius);Object.values(z).some(Y=>Y!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Yf(t,{x:V,y:M,w:m,h:d,radius:z}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Yf(t,{x:k,y:M+1,w:m-2,h:d-2,radius:z}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(V,M,m,d),t.strokeRect(V,M,m,d),t.fillStyle=c.backgroundColor,t.fillRect(k,M+1,m-2,d-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:a}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:d,boxWidth:m,boxPadding:y}=i,_=hn(i.bodyFont);let E=_.lineHeight,S=0;const M=Ho(i.rtl,this.x,this.width),V=function(R){e.fillText(R,M.x(t.x+S),t.y+E/2),t.y+=E+o},k=M.textAlign(c);let z,Y,$,at,it,Q,D;for(e.textAlign=c,e.textBaseline="middle",e.font=_.string,t.x=of(this,k,i),e.fillStyle=i.bodyColor,Zt(this.beforeBody,V),S=h&&k!=="right"?c==="center"?m/2+y:m+2+y:0,at=0,Q=a.length;at<Q;++at){for(z=a[at],Y=this.labelTextColors[at],e.fillStyle=Y,Zt(z.before,V),$=z.lines,h&&$.length&&(this._drawColorBox(e,t,at,M,i),E=Math.max(_.lineHeight,d)),it=0,D=$.length;it<D;++it)V($[it]),E=_.lineHeight;Zt(z.after,V)}S=0,E=_.lineHeight,Zt(this.afterBody,V),t.y-=o}drawFooter(t,e,i){const a=this.footer,o=a.length;let c,h;if(o){const d=Ho(i.rtl,this.x,this.width);for(t.x=of(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=d.textAlign(i.footerAlign),e.textBaseline="middle",c=hn(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(a[h],d.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,a){const{xAlign:o,yAlign:c}=this,{x:h,y:d}=t,{width:m,height:y}=i,{topLeft:_,topRight:E,bottomLeft:S,bottomRight:M}=Fo(a.cornerRadius);e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.beginPath(),e.moveTo(h+_,d),c==="top"&&this.drawCaret(t,e,i,a),e.lineTo(h+m-E,d),e.quadraticCurveTo(h+m,d,h+m,d+E),c==="center"&&o==="right"&&this.drawCaret(t,e,i,a),e.lineTo(h+m,d+y-M),e.quadraticCurveTo(h+m,d+y,h+m-M,d+y),c==="bottom"&&this.drawCaret(t,e,i,a),e.lineTo(h+S,d+y),e.quadraticCurveTo(h,d+y,h,d+y-S),c==="center"&&o==="left"&&this.drawCaret(t,e,i,a),e.lineTo(h,d+_),e.quadraticCurveTo(h,d,h+_,d),e.closePath(),e.fill(),a.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,a=i&&i.x,o=i&&i.y;if(a||o){const c=Dc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=qT(this,t),d=Object.assign({},c,this._size),m=GT(e,t,d),y=YT(t,d,m,e);(a._to!==y.x||o._to!==y.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=si(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,a,e),Jx(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),Zx(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,a=t.map(({datasetIndex:h,index:d})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[d],index:d}}),o=!Bf(i,a),c=this._positionChanged(a,e);(o||c)&&(this._active=a,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),d=e||!Bf(c,o)||h;return d&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,i,a){const o=this.options;if(t.type==="mouseout")return[];if(!a)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:a,options:o}=this,c=Dc[o.position].call(this,t,e);return c!==!1&&(i!==c.x||a!==c.y)}}var lP={id:"tooltip",_element:XT,positioners:Dc,afterInit(n,t,e){e&&(n.tooltip=new XT({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:m1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const cP=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function uP(n,t,e,i){const a=n.indexOf(t);if(a===-1)return cP(n,t,e,i);const o=n.lastIndexOf(t);return a!==o?e:a}const hP=(n,t)=>n===null?null:Rn(Math.round(n),0,t);function WT(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class fP extends ul{static id="category";static defaults={ticks:{callback:WT}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:a,label:o}of e)i[a]===o&&i.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(ae(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:uP(i,t,Ht(e,t),this._addedLabels),hP(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(a=this.getLabels().length-1)),this.min=i,this.max=a}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,a=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)a.push({value:c});return a}getLabelForValue(t){return WT.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function dP(n,t){const e=[],{bounds:a,step:o,min:c,max:h,precision:d,count:m,maxTicks:y,maxDigits:_,includeBounds:E}=n,S=o||1,M=y-1,{min:V,max:k}=t,z=!ae(c),Y=!ae(h),$=!ae(m),at=(k-V)/(_+1);let it=tT((k-V)/M/S)*S,Q,D,R,x;if(it<1e-14&&!z&&!Y)return[{value:V},{value:k}];x=Math.ceil(k/it)-Math.floor(V/it),x>M&&(it=tT(x*it/M/S)*S),ae(d)||(Q=Math.pow(10,d),it=Math.ceil(it*Q)/Q),a==="ticks"?(D=Math.floor(V/it)*it,R=Math.ceil(k/it)*it):(D=V,R=k),z&&Y&&o&&sk((h-c)/o,it/1e3)?(x=Math.round(Math.min((h-c)/it,y)),it=(h-c)/x,D=c,R=h):$?(D=z?c:D,R=Y?h:R,x=m-1,it=(R-D)/x):(x=(R-D)/it,vf(x,Math.round(x),it/1e3)?x=Math.round(x):x=Math.ceil(x));const O=Math.max(eT(it),eT(D));Q=Math.pow(10,ae(d)?O:d),D=Math.round(D*Q)/Q,R=Math.round(R*Q)/Q;let N=0;for(z&&(E&&D!==c?(e.push({value:c}),D<c&&N++,vf(Math.round((D+N*it)*Q)/Q,c,$T(c,at,n))&&N++):D<c&&N++);N<x;++N){const P=Math.round((D+N*it)*Q)/Q;if(Y&&P>h)break;e.push({value:P})}return Y&&E&&R!==h?e.length&&vf(e[e.length-1].value,h,$T(h,at,n))?e[e.length-1].value=h:e.push({value:h}):(!Y||R===h)&&e.push({value:R}),e}function $T(n,t,{horizontal:e,minRotation:i}){const a=Ds(i),o=(e?Math.sin(a):Math.cos(a))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class gP extends ul{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return ae(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:a,max:o}=this;const c=d=>a=e?a:d,h=d=>o=i?o:d;if(t){const d=Dr(a),m=Dr(o);d<0&&m<0?h(0):d>0&&m>0&&c(0)}if(a===o){let d=o===0?1:Math.abs(o*.05);h(o+d),t||c(a-d)}this.min=a,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,a;return i?(a=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=dP(a,o);return t.bounds==="ticks"&&rk(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const a=(i-e)/Math.max(t.length-1,1)/2;e-=a,i+=a}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return My(t,this.chart.options.locale,this.options.ticks.format)}}class mP extends gP{static id="linear";static defaults={ticks:{callback:qx.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ii(t)?t:0,this.max=ii(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ds(this.options.ticks.minRotation),a=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const _d={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},wn=Object.keys(_d);function JT(n,t){return n-t}function ZT(n,t){if(ae(t))return null;const e=n._adapter,{parser:i,round:a,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),ii(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(a&&(c=a==="week"&&(qf(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,a)),+c)}function tS(n,t,e,i){const a=wn.length;for(let o=wn.indexOf(n);o<a-1;++o){const c=_d[wn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return wn[o]}return wn[a-1]}function pP(n,t,e,i,a){for(let o=wn.length-1;o>=wn.indexOf(e);o--){const c=wn[o];if(_d[c].common&&n._adapter.diff(a,i,c)>=t-1)return c}return wn[e?wn.indexOf(e):0]}function yP(n){for(let t=wn.indexOf(n)+1,e=wn.length;t<e;++t)if(_d[wn[t]].common)return wn[t]}function eS(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:a}=Iy(e,t),o=e[i]>=t?e[i]:e[a];n[o]=!0}}function _P(n,t,e,i){const a=n._adapter,o=+a.startOf(t[0].value,i),c=t[t.length-1].value;let h,d;for(h=o;h<=c;h=+a.add(h,1,i))d=e[h],d>=0&&(t[d].major=!0);return t}function nS(n,t,e){const i=[],a={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],a[h]=c,i.push({value:h,major:!1});return o===0||!e?i:_P(n,i,a,e)}class iS extends ul{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),a=this._adapter=new xV._date(t.adapters.date);a.init(e),Lc(i.displayFormats,a.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:ZT(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:a,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function d(m){!c&&!isNaN(m.min)&&(a=Math.min(a,m.min)),!h&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!h)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),a=ii(a)&&!isNaN(a)?a:+e.startOf(Date.now(),i),o=ii(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,a=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,c=this.max,h=uk(a,o,c);return this._unit=e.unit||(i.autoSkip?tS(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):pP(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:yP(this._unit),this.initOffsets(a),t.reverse&&h.reverse(),nS(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?e=1-a:e=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=Rn(e,0,c),i=Rn(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,a=this.options,o=a.time,c=o.unit||tS(o.minUnit,e,i,this._getLabelCapacity(e)),h=Ht(a.ticks.stepSize,1),d=c==="week"?o.isoWeekday:!1,m=qf(d)||d===!0,y={};let _=e,E,S;if(m&&(_=+t.startOf(_,"isoWeek",d)),_=+t.startOf(_,m?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const M=a.ticks.source==="data"&&this.getDataTimestamps();for(E=_,S=0;E<i;E=+t.add(E,h,c),S++)eS(y,E,M);return(E===i||a.bounds==="ticks"||S===1)&&eS(y,E,M),Object.keys(y).sort(JT).map(V=>+V)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const a=this.options.time.displayFormats,o=this._unit,c=e||a[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,a){const o=this.options,c=o.ticks.callback;if(c)return he(c,[t,e,i],this);const h=o.time.displayFormats,d=this._unit,m=this._majorUnit,y=d&&h[d],_=m&&h[m],E=i[e],S=m&&_&&E&&E.major;return this._adapter.format(t,a||(S?_:y))}generateTickLabels(t){let e,i,a;for(e=0,i=t.length;e<i;++e)a=t[e],a.label=this._tickFormatFunction(a.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,a=Ds(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(a),c=Math.sin(a),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,a=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,nS(this,[t],this._majorUnit),a),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,i=a.length;e<i;++e)t=t.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const a=this.getLabels();for(e=0,i=a.length;e<i;++e)t.push(ZT(this,a[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Ux(t.sort(JT))}}function lf(n,t,e){let i=0,a=n.length-1,o,c,h,d;e?(t>=n[i].pos&&t<=n[a].pos&&({lo:i,hi:a}=xp(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:d}=n[a]):(t>=n[i].time&&t<=n[a].time&&({lo:i,hi:a}=xp(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:d}=n[a]);const m=c-o;return m?h+(d-h)*(t-o)/m:h}class PP extends iS{static id="timeseries";static defaults=iS.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=lf(e,this.min),this._tableRange=lf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,a=[],o=[];let c,h,d,m,y;for(c=0,h=t.length;c<h;++c)m=t[c],m>=e&&m<=i&&a.push(m);if(a.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=a.length;c<h;++c)y=a[c+1],d=a[c-1],m=a[c],Math.round((y+d)/2)!==m&&o.push({time:m,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((a,o)=>a-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(lf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return lf(this._table,i*this._tableRange+this._minPos,!0)}}const p1="label";function sS(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function vP(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function y1(n,t){n.labels=t}function _1(n,t,e=p1){const i=[];n.datasets=t.map(a=>{const o=n.datasets.find(c=>c[e]===a[e]);return!o||!a.data||i.includes(o)?{...a}:(i.push(o),Object.assign(o,a),o)})}function bP(n,t=p1){const e={labels:[],datasets:[]};return y1(e,n.labels),_1(e,n.datasets,t),e}function EP(n,t){const{height:e=150,width:i=300,redraw:a=!1,datasetIdKey:o,type:c,data:h,options:d,plugins:m=[],fallbackContent:y,updateMode:_,...E}=n,S=pt.useRef(null),M=pt.useRef(null),V=()=>{S.current&&(M.current=new yd(S.current,{type:c,data:bP(h,o),options:d&&{...d},plugins:m}),sS(t,M.current))},k=()=>{sS(t,null),M.current&&(M.current.destroy(),M.current=null)};return pt.useEffect(()=>{!a&&M.current&&d&&vP(M.current,d)},[a,d]),pt.useEffect(()=>{!a&&M.current&&y1(M.current.config.data,h.labels)},[a,h.labels]),pt.useEffect(()=>{!a&&M.current&&h.datasets&&_1(M.current.config.data,h.datasets,o)},[a,h.datasets]),pt.useEffect(()=>{M.current&&(a?(k(),setTimeout(V)):M.current.update(_))},[a,d,h.labels,h.datasets,_]),pt.useEffect(()=>{M.current&&(k(),setTimeout(V))},[c]),pt.useEffect(()=>(V(),()=>k()),[]),I.jsx("canvas",{ref:S,role:"img",height:e,width:i,...E,children:y})}const TP=pt.forwardRef(EP);function v1(n,t){return yd.register(t),pt.forwardRef((e,i)=>I.jsx(TP,{...e,ref:i,type:n}))}const SP=v1("bar",TV),rS=v1("doughnut",AV);yd.register(fP,mP,Y4,U4,tP,lP,J4);const $m={suscripcion:" Suscripciones",software:" Software/IA",mercado_credito:" Mercado Crdito",servicios:" Servicios Digitales",almacenamiento:" Almacenamiento",gaming:" Gaming",otro:" Otros"};function AP({expenses:n,monthlyTotals:t,expensesByMethod:e,expensesByCategory:i={},expensesByCreditCard:a={},year:o,settings:c={salary:0,currency:"ARS"},getSalaryPercentage:h,getStatusColor:d}){const m=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];({ARS:"$",USD:"US$",EUR:"",BRL:"R$"})[c.currency];const _=C=>new Intl.NumberFormat("es-AR",{style:"currency",currency:c.currency||"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(C),E=["rgba(99, 102, 241, 0.8)","rgba(139, 92, 246, 0.8)","rgba(236, 72, 153, 0.8)","rgba(6, 182, 212, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)"],S=["rgba(99, 102, 241, 1)","rgba(139, 92, 246, 1)","rgba(236, 72, 153, 1)","rgba(6, 182, 212, 1)","rgba(16, 185, 129, 1)","rgba(245, 158, 11, 1)","rgba(239, 68, 68, 1)"],M=n.reduce((C,ft)=>C+ft.monto,0),V=M*12,k=h?h(M):0,z=d?d(k):"green",Y=C=>{if(!c.salary||c.salary<=0)return"rgba(99, 102, 241, 0.7)";const ft=C/c.salary*100;return ft<=25?"rgba(16, 185, 129, 0.8)":ft<=50?"rgba(245, 158, 11, 0.8)":"rgba(239, 68, 68, 0.8)"},$={labels:m,datasets:[{label:`Gastos Mensuales ${o}`,data:t,backgroundColor:t.map(C=>Y(C)),borderColor:t.map(C=>Y(C).replace("0.8","1")),borderWidth:2,borderRadius:8,borderSkipped:!1}]},at={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleFont:{size:14,weight:"bold"},bodyFont:{size:13},padding:12,cornerRadius:8,callbacks:{label:C=>_(C.raw)}}},scales:{x:{grid:{display:!1},ticks:{color:"rgba(156, 163, 175, 1)",font:{size:12}}},y:{grid:{color:"rgba(156, 163, 175, 0.2)"},ticks:{color:"rgba(156, 163, 175, 1)",font:{size:12},callback:C=>_(C)}}}},it=Object.keys(e),Q=Object.values(e),D={labels:it,datasets:[{data:Q,backgroundColor:E.slice(0,it.length),borderColor:S.slice(0,it.length),borderWidth:2,hoverOffset:10}]},R=Object.keys(i).map(C=>$m[C]||C),x=Object.values(i),O={labels:R,datasets:[{data:x,backgroundColor:E.slice(0,R.length),borderColor:S.slice(0,R.length),borderWidth:2,hoverOffset:10}]},N={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:"rgba(156, 163, 175, 1)",font:{size:11},padding:15,usePointStyle:!0,pointStyle:"circle"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleFont:{size:14,weight:"bold"},bodyFont:{size:13},padding:12,cornerRadius:8,callbacks:{label:C=>{const ft=C.dataset.data.reduce((H,st)=>H+st,0),gt=(C.raw/ft*100).toFixed(1);return`${_(C.raw)} (${gt}%)`}}}},cutout:"65%"},P=Object.entries(a);return n.length===0?I.jsxs("div",{className:"glass-card p-12 text-center",children:[I.jsx("div",{className:"text-6xl mb-4",children:""}),I.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Sin datos para mostrar"}),I.jsx("p",{className:"text-[var(--color-text-secondary)]",children:"Aade gastos para ver los grficos de anlisis"})]}):I.jsxs("div",{className:"space-y-6",children:[I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[I.jsxs("div",{className:`total-card ${z==="green"?"border-green-500":z==="yellow"?"border-yellow-500":"border-red-500"}`,style:{borderWidth:"3px",borderStyle:"solid"},children:[I.jsx("div",{className:"label",children:"Total Mensual"}),I.jsx("div",{className:"value",children:_(M)}),c.salary>0&&I.jsxs("div",{className:`text-xs mt-1 font-medium ${z==="green"?"text-green-500":z==="yellow"?"text-yellow-500":"text-red-500"}`,children:[k.toFixed(1),"% del sueldo"]})]}),I.jsxs("div",{className:"glass-card p-6",children:[I.jsx("div",{className:"text-sm text-[var(--color-text-secondary)] uppercase tracking-wide",children:"Estimado Anual"}),I.jsx("div",{className:"text-2xl font-bold mt-2 text-[var(--color-text-primary)]",children:_(V)})]}),I.jsxs("div",{className:"glass-card p-6",children:[I.jsx("div",{className:"text-sm text-[var(--color-text-secondary)] uppercase tracking-wide",children:"Servicios Activos"}),I.jsx("div",{className:"text-2xl font-bold mt-2 text-[var(--color-text-primary)]",children:n.length})]}),c.salary>0&&I.jsxs("div",{className:"glass-card p-6",children:[I.jsx("div",{className:"text-sm text-[var(--color-text-secondary)] uppercase tracking-wide",children:"Sueldo Mensual"}),I.jsx("div",{className:"text-2xl font-bold mt-2 text-[var(--color-text-primary)]",children:_(c.salary)})]})]}),I.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[I.jsxs("div",{className:"glass-card p-6",children:[I.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[" Gastos por Mes (",o,")"]}),I.jsx("div",{className:"h-[300px]",children:I.jsx(SP,{data:$,options:at})})]}),I.jsxs("div",{className:"glass-card p-6",children:[I.jsx("h3",{className:"text-lg font-semibold mb-4",children:" Por Categora"}),I.jsx("div",{className:"h-[300px]",children:R.length>0?I.jsx(rS,{data:O,options:N}):I.jsx("div",{className:"flex items-center justify-center h-full text-[var(--color-text-secondary)]",children:"Sin datos de categoras"})})]}),I.jsxs("div",{className:"glass-card p-6",children:[I.jsx("h3",{className:"text-lg font-semibold mb-4",children:" Por Mtodo de Pago"}),I.jsx("div",{className:"h-[300px]",children:it.length>0?I.jsx(rS,{data:D,options:N}):I.jsx("div",{className:"flex items-center justify-center h-full text-[var(--color-text-secondary)]",children:"Sin datos de mtodos de pago"})})]}),P.length>0&&I.jsxs("div",{className:"glass-card p-6",children:[I.jsx("h3",{className:"text-lg font-semibold mb-4",children:" Por Tarjeta de Crdito"}),I.jsxs("div",{className:"space-y-3",children:[P.map(([C,ft],gt)=>I.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-[var(--color-bg-tertiary)]",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("span",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold",style:{backgroundColor:E[gt%E.length].replace("0.8","1")},children:""}),I.jsx("span",{className:"font-medium",children:C})]}),I.jsx("span",{className:"font-bold text-indigo-500",children:_(ft)})]},C)),I.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gradient-to-r from-indigo-500/20 to-purple-500/20 border border-indigo-500/30 mt-2",children:[I.jsx("span",{className:"font-semibold",children:"Total Tarjetas"}),I.jsx("span",{className:"font-bold text-lg text-indigo-400",children:_(P.reduce((C,[,ft])=>C+ft,0))})]})]})]})]}),I.jsxs("div",{className:"glass-card p-6",children:[I.jsx("h3",{className:"text-lg font-semibold mb-4",children:" Detalle por Categora"}),I.jsx("div",{className:"overflow-x-auto",children:I.jsxs("table",{className:"w-full",children:[I.jsx("thead",{children:I.jsxs("tr",{className:"border-b border-[var(--color-border)]",children:[I.jsx("th",{className:"text-left py-3 px-4 text-[var(--color-text-secondary)] font-medium text-sm",children:"Categora"}),I.jsx("th",{className:"text-right py-3 px-4 text-[var(--color-text-secondary)] font-medium text-sm",children:"Monto"}),I.jsx("th",{className:"text-right py-3 px-4 text-[var(--color-text-secondary)] font-medium text-sm",children:"%"})]})}),I.jsxs("tbody",{children:[Object.entries(i).map(([C,ft])=>I.jsxs("tr",{className:"border-b border-[var(--color-border)]/50",children:[I.jsx("td",{className:"py-3 px-4",children:$m[C]||C}),I.jsx("td",{className:"py-3 px-4 text-right font-medium",children:_(ft)}),I.jsxs("td",{className:"py-3 px-4 text-right text-[var(--color-text-secondary)]",children:[(ft/M*100).toFixed(1),"%"]})]},C)),I.jsxs("tr",{className:"bg-[var(--color-bg-tertiary)] font-semibold",children:[I.jsx("td",{className:"py-3 px-4",children:"Total"}),I.jsx("td",{className:"py-3 px-4 text-right",children:_(M)}),I.jsx("td",{className:"py-3 px-4 text-right",children:"100%"})]})]})]})})]}),I.jsxs("div",{className:"glass-card p-6",children:[I.jsx("h3",{className:"text-lg font-semibold mb-4",children:" Mayores Gastos"}),I.jsx("div",{className:"space-y-3",children:n.sort((C,ft)=>ft.monto-C.monto).slice(0,5).map((C,ft)=>I.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-[var(--color-bg-tertiary)]",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("span",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-sm font-bold",children:ft+1}),I.jsxs("div",{children:[I.jsx("span",{className:"font-medium",children:C.nombre}),I.jsx("span",{className:"text-xs text-[var(--color-text-muted)] ml-2",children:$m[C.categoria]||""})]})]}),I.jsx("span",{className:"font-bold text-indigo-500",children:_(C.monto)})]},C.id))})]})]})}const aS=[{code:"ARS",symbol:"$",name:"Peso Argentino"},{code:"USD",symbol:"US$",name:"Dlar Estadounidense"},{code:"EUR",symbol:"",name:"Euro"},{code:"BRL",symbol:"R$",name:"Real Brasileo"}];function xP({settings:n,creditCards:t,onSave:e,onRemoveCreditCard:i,onClose:a}){const[o,c]=pt.useState({salary:n?.salary||0,currency:n?.currency||"ARS"});pt.useEffect(()=>{c({salary:n?.salary||0,currency:n?.currency||"ARS"})},[n]);const h=_=>{_.preventDefault(),e({salary:parseFloat(o.salary)||0,currency:o.currency}),a()},d=()=>{const _=Ln.exportData();if(_){const E=new Blob([JSON.stringify(_,null,2)],{type:"application/json"}),S=URL.createObjectURL(E),M=document.createElement("a");M.href=S,M.download=`coste-vida-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(S)}},m=_=>{const E=_.target.files[0];if(E){const S=new FileReader;S.onload=M=>{try{const V=JSON.parse(M.target.result);Ln.importData(V)?(alert("Datos importados correctamente. La pgina se recargar."),window.location.reload()):alert("Error al importar los datos. El formato no es vlido.")}catch(V){console.error(V),alert("Error al leer el archivo.")}},S.readAsText(E)}},y=()=>aS.find(_=>_.code===o.currency)?.symbol||"$";return I.jsx("div",{className:"modal-overlay",onClick:a,children:I.jsxs("div",{className:"modal-content",onClick:_=>_.stopPropagation(),children:[I.jsx("h2",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-indigo-500 to-purple-600 bg-clip-text text-transparent",children:" Configuracin"}),I.jsxs("form",{onSubmit:h,className:"space-y-6",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium mb-2 text-[var(--color-text-secondary)]",children:"Moneda"}),I.jsx("select",{className:"form-input",value:o.currency,onChange:_=>c(E=>({...E,currency:_.target.value})),children:aS.map(_=>I.jsxs("option",{value:_.code,children:[_.symbol," - ",_.name," (",_.code,")"]},_.code))})]}),I.jsxs("div",{children:[I.jsxs("label",{className:"block text-sm font-medium mb-2 text-[var(--color-text-secondary)]",children:["Sueldo mensual (",y(),")"]}),I.jsx("input",{type:"number",step:"0.01",min:"0",className:"form-input",placeholder:"0.00",value:o.salary,onChange:_=>c(E=>({...E,salary:_.target.value}))}),I.jsx("p",{className:"text-xs text-[var(--color-text-muted)] mt-1",children:"Se usar para calcular el porcentaje de tus gastos"})]}),t.length>0&&I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium mb-2 text-[var(--color-text-secondary)]",children:"Tarjetas de Crdito Guardadas"}),I.jsx("div",{className:"space-y-2",children:t.map(_=>I.jsxs("div",{className:"flex items-center justify-between bg-[var(--color-surface)] p-3 rounded-lg border border-[var(--color-border)]",children:[I.jsxs("span",{className:"text-sm",children:[" ",_]}),I.jsx("button",{type:"button",onClick:()=>i(_),className:"text-red-500 hover:text-red-400 text-sm",children:"Eliminar"})]},_))})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium mb-2 text-[var(--color-text-secondary)]",children:"Gestin de Datos (Respaldo)"}),I.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[I.jsxs("button",{type:"button",onClick:d,className:"flex items-center justify-center gap-2 p-3 rounded-lg bg-[var(--color-surface)] border border-[var(--color-border)] hover:bg-[var(--color-bg-tertiary)] transition-colors text-sm",children:[I.jsx("span",{children:""})," Exportar Datos"]}),I.jsxs("label",{className:"cursor-pointer flex items-center justify-center gap-2 p-3 rounded-lg bg-[var(--color-surface)] border border-[var(--color-border)] hover:bg-[var(--color-bg-tertiary)] transition-colors text-sm",children:[I.jsx("span",{children:""})," Importar Datos",I.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:m})]})]}),I.jsx("p",{className:"text-xs text-[var(--color-text-muted)] mt-2",children:"Exporta un archivo JSON para guardar tus datos o transferirlos a otro dispositivo."})]}),I.jsxs("div",{className:"p-4 rounded-lg bg-[var(--color-surface)] border border-[var(--color-border)]",children:[I.jsx("h4",{className:"font-medium mb-2",children:" Indicador de Gastos"}),I.jsxs("div",{className:"space-y-1 text-sm text-[var(--color-text-secondary)]",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500"}),I.jsx("span",{children:"Verde: hasta 25% del sueldo"})]}),I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("span",{className:"w-3 h-3 rounded-full bg-yellow-500"}),I.jsx("span",{children:"Amarillo: hasta 50% del sueldo"})]}),I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("span",{className:"w-3 h-3 rounded-full bg-red-500"}),I.jsx("span",{children:"Rojo: ms del 50% del sueldo"})]})]})]}),I.jsxs("div",{className:"flex gap-3 pt-4",children:[I.jsx("button",{type:"button",className:"btn-secondary flex-1",onClick:a,children:"Cancelar"}),I.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"Guardar Configuracin"})]})]})]})})}const en=[];for(let n=0;n<256;++n)en.push((n+256).toString(16).slice(1));function wP(n,t=0){return(en[n[t+0]]+en[n[t+1]]+en[n[t+2]]+en[n[t+3]]+"-"+en[n[t+4]]+en[n[t+5]]+"-"+en[n[t+6]]+en[n[t+7]]+"-"+en[n[t+8]]+en[n[t+9]]+"-"+en[n[t+10]]+en[n[t+11]]+en[n[t+12]]+en[n[t+13]]+en[n[t+14]]+en[n[t+15]]).toLowerCase()}let Jm;const RP=new Uint8Array(16);function CP(){if(!Jm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Jm=crypto.getRandomValues.bind(crypto)}return Jm(RP)}const IP=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),oS={randomUUID:IP};function DP(n,t,e){n=n||{};const i=n.random??n.rng?.()??CP();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,wP(i)}function MP(n,t,e){return oS.randomUUID&&!n?oS.randomUUID():DP(n)}const Yi={subscribeToExpenses:(n,t)=>{const e=fN(ZO(yi,"users",n,"expenses"),dN("fecha_gasto","desc"));return Lm(e,i=>{const a=i.docs.map(o=>({id:o.id,...o.data()}));t(a)})},saveExpense:async(n,t)=>{const e=Ts(yi,"users",n,"expenses",t.id);await Pm(e,t)},deleteExpense:async(n,t)=>{await pN(Ts(yi,"users",n,"expenses",t))},saveSettings:async(n,t)=>{await Pm(Ts(yi,"users",n,"metadata","settings"),t)},subscribeToSettings:(n,t)=>Lm(Ts(yi,"users",n,"metadata","settings"),e=>{e.exists()&&t(e.data())}),saveCreditCards:async(n,t)=>{await Pm(Ts(yi,"users",n,"metadata","credit_cards"),{list:t})},subscribeToCreditCards:(n,t)=>Lm(Ts(yi,"users",n,"metadata","credit_cards"),e=>{e.exists()&&t(e.data().list||[])}),uploadLocalData:async(n,{expenses:t,settings:e,creditCards:i})=>{const a=_N(yi);if(t.forEach(o=>{const c=Ts(yi,"users",n,"expenses",o.id);a.set(c,o)}),e){const o=Ts(yi,"users",n,"metadata","settings");a.set(o,e)}if(i&&i.length>0){const o=Ts(yi,"users",n,"metadata","credit_cards");a.set(o,{list:i})}await a.commit()}};function OP(){const{user:n}=Mx(),[t,e]=pt.useState([]),[i,a]=pt.useState(!0),[o,c]=pt.useState(null),[h,d]=pt.useState({salary:0,currency:"ARS"}),[m,y]=pt.useState([]);pt.useEffect(()=>{a(!0);let x=()=>{},O=()=>{},N=()=>{};if(n)x=Yi.subscribeToExpenses(n.uid,P=>{if(e(P),P.length===0){const C=Ln.getExpenses();if(C.length>0){console.log("Migrating local data to cloud...");const ft=Ln.getSettings(),gt=Ln.getCreditCards();Yi.uploadLocalData(n.uid,{expenses:C,settings:ft,creditCards:gt})}}a(!1)}),O=Yi.subscribeToSettings(n.uid,P=>{P&&d(P)}),N=Yi.subscribeToCreditCards(n.uid,P=>{P&&y(P)});else try{const P=Ln.getExpenses(),C=Ln.getSettings(),ft=Ln.getCreditCards();e(P),d(C),y(ft)}catch{c("Error al cargar los gastos")}finally{a(!1)}return()=>{x(),O(),N()}},[n]),pt.useEffect(()=>{!n&&!i&&Ln.saveExpenses(t)},[t,i,n]),pt.useEffect(()=>{!n&&!i&&Ln.saveSettings(h)},[h,i,n]),pt.useEffect(()=>{!n&&!i&&Ln.saveCreditCards(m)},[m,i,n]);const _=pt.useCallback(x=>{const O={...h,...x};d(O),n&&Yi.saveSettings(n.uid,O)},[h,n]),E=pt.useCallback(x=>{const O=[...new Set([...m,x])];y(O),n&&Yi.saveCreditCards(n.uid,O)},[m,n]),S=pt.useCallback(x=>{const O=m.filter(N=>N!==x);y(O),n&&Yi.saveCreditCards(n.uid,O)},[m,n]),M=pt.useCallback(x=>{const O={id:MP(),nombre:x.nombre,monto:parseFloat(x.monto),categoria:x.categoria||"otro",metodo_pago:x.metodo_pago,tarjeta_credito:x.tarjeta_credito||null,fecha_inicio:x.fecha_inicio,fecha_gasto:x.fecha_gasto||x.fecha_inicio,cuotas:parseInt(x.cuotas)||1,cuota_actual:parseInt(x.cuota_actual)||1,createdAt:new Date().toISOString()};return n?Yi.saveExpense(n.uid,O):e(N=>[...N,O]),O},[n]),V=pt.useCallback((x,O)=>{const N={id:x,nombre:O.nombre,monto:parseFloat(O.monto),categoria:O.categoria||"otro",metodo_pago:O.metodo_pago,tarjeta_credito:O.tarjeta_credito||null,fecha_inicio:O.fecha_inicio,fecha_gasto:O.fecha_gasto||O.fecha_inicio,cuotas:parseInt(O.cuotas)||1,cuota_actual:parseInt(O.cuota_actual)||1,updatedAt:new Date().toISOString()};n?Yi.saveExpense(n.uid,N):e(P=>P.map(C=>C.id===x?{...C,...N}:C))},[n]),k=pt.useCallback(x=>{n?Yi.deleteExpense(n.uid,x):e(O=>O.filter(N=>N.id!==x))},[n]),z=pt.useCallback((x,O,N=null,P="all",C="all")=>{let ft=[];return t.forEach(gt=>{const H=new Date(gt.fecha_inicio),st=H.getFullYear(),ut=H.getMonth(),_t=gt.cuotas||1;let Tt=!1,j=1;if(x==="month"&&N!==null){const J=(O-st)*12+(N-ut);J>=0&&J<_t&&(Tt=!0,j=J+1)}else if(x==="year"){const J=new Date(O,0,1),ot=new Date(O,11,31),ct=new Date(st,ut+_t-1,1);new Date(st,ut,1)<=ot&&ct>=J&&(Tt=!0)}else Tt=!0;if(Tt){if(P!=="all"&&gt.metodo_pago!==P||C!=="all"&&gt.tarjeta_credito!==C)return;x==="month"?ft.push({...gt,cuota_actual:j}):ft.push(gt)}}),ft},[t]),Y=pt.useCallback((x=t)=>x.reduce((O,N)=>O+N.monto,0),[]),$=pt.useCallback((x=t)=>{const O={};return x.forEach(N=>{const P=N.metodo_pago||"Sin mtodo";O[P]||(O[P]=0),O[P]+=N.monto}),O},[]),at=pt.useCallback((x=t)=>{const O={};return x.forEach(N=>{const P=N.categoria||"otro";O[P]||(O[P]=0),O[P]+=N.monto}),O},[]),it=pt.useCallback((x=t)=>{const O={};return x.forEach(N=>{N.tarjeta_credito&&(O[N.tarjeta_credito]||(O[N.tarjeta_credito]=0),O[N.tarjeta_credito]+=N.monto)}),O},[]),Q=pt.useCallback(x=>{const O=Array(12).fill(0);return t.forEach(N=>{const P=new Date(N.fecha_inicio),C=P.getFullYear(),ft=P.getMonth(),gt=N.cuotas||1,H=N.monto;for(let st=0;st<12;st++){const ut=(x-C)*12+(st-ft);ut>=0&&ut<gt&&(O[st]+=H)}}),O},[t]),D=pt.useCallback(x=>!h.salary||h.salary<=0?0:x/h.salary*100,[h.salary]),R=pt.useCallback(x=>x<=25?"green":x<=50?"yellow":"red",[]);return{expenses:t,loading:i,error:o,settings:h,creditCards:m,updateSettings:_,addCreditCard:E,removeCreditCard:S,addExpense:M,updateExpense:V,deleteExpense:k,getFilteredExpenses:z,calculateTotal:Y,getExpensesByPaymentMethod:$,getExpensesByCategory:at,getExpensesByCreditCard:it,getMonthlyTotals:Q,getSalaryPercentage:D,getStatusColor:R}}function NP(){const[n,t]=pt.useState("gastos"),[e,i]=pt.useState(!1),[a,o]=pt.useState(!1),[c,h]=pt.useState(null),[d,m]=pt.useState("all"),[y,_]=pt.useState(new Date().getFullYear()),[E,S]=pt.useState(new Date().getMonth()),[M,V]=pt.useState("all"),[k,z]=pt.useState("all"),{expenses:Y,loading:$,settings:at,creditCards:it,updateSettings:Q,addCreditCard:D,removeCreditCard:R,addExpense:x,updateExpense:O,deleteExpense:N,getFilteredExpenses:P,calculateTotal:C,getExpensesByPaymentMethod:ft,getExpensesByCategory:gt,getExpensesByCreditCard:H,getMonthlyTotals:st,getSalaryPercentage:ut,getStatusColor:_t}=OP(),Tt=pt.useMemo(()=>P(d,y,E,M,k),[Y,d,y,E,M,k,P]),j=pt.useMemo(()=>C(Tt),[Tt,C]),J=pt.useMemo(()=>st(y),[y,st]),ot=pt.useMemo(()=>ft(Tt),[Tt,ft]),ct=pt.useMemo(()=>gt(Tt),[Tt,gt]),vt=pt.useMemo(()=>H(Tt),[Tt,H]),St=()=>{h(null),i(!0)},Vt=Un=>{h(Un),i(!0)},_e=Un=>{c?O(c.id,Un):x(Un),i(!1),h(null)},oe=()=>{i(!1),h(null)};return $?I.jsx("div",{className:"min-h-screen flex items-center justify-center",children:I.jsxs("div",{className:"text-center",children:[I.jsx("div",{className:"text-6xl animate-pulse mb-4",children:""}),I.jsx("p",{className:"text-[var(--color-text-secondary)]",children:"Cargando gastos..."})]})}):I.jsxs(EN,{activeTab:n,onTabChange:t,onOpenSettings:()=>o(!0),settings:at,children:[n==="gastos"&&I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[I.jsx("div",{className:"flex-1",children:I.jsx(xN,{filterType:d,year:y,month:E,paymentMethods:Object.keys(ot),creditCards:it,selectedMethod:M,selectedCard:k,onFilterTypeChange:m,onYearChange:_,onMonthChange:S,onMethodChange:V,onCardChange:z})}),I.jsxs("button",{onClick:St,className:"btn-primary flex items-center justify-center gap-2 whitespace-nowrap",children:[I.jsx("span",{children:""}),I.jsx("span",{children:"Aadir Gasto"})]})]}),I.jsx(SN,{expenses:Tt,onEdit:Vt,onDelete:N,total:j,settings:at,getSalaryPercentage:ut,getStatusColor:_t})]}),n==="graficos"&&I.jsx(AP,{expenses:Y,monthlyTotals:J,expensesByMethod:ot,expensesByCategory:ct,expensesByCreditCard:vt,year:y,settings:at,getSalaryPercentage:ut,getStatusColor:_t}),e&&I.jsx(AN,{expense:c,onSave:_e,onCancel:oe,creditCards:it,onAddCreditCard:D}),a&&I.jsx(xP,{settings:at,creditCards:it,onSave:Q,onRemoveCreditCard:R,onClose:()=>o(!1)})]})}rR.createRoot(document.getElementById("root")).render(I.jsx(pt.StrictMode,{children:I.jsx(bN,{children:I.jsx(NP,{})})}));
